<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Unleash the Power of  FastAPI: Async vs Blocking I/O</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Unleash the Power of  FastAPI: Async vs Blocking I/O</h1>
</header>
<section data-field="subtitle" class="p-summary">
Discover how to optimize FastAPI by using async functions for concurrent request handling
</section>
<section data-field="body" class="e-content">
<section name="7988" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="b59e" id="b59e" class="graf graf--h3 graf--leading graf--title">Unleash the Power of FastAPI: Async vs Blocking¬†I/O</h3><figure name="760c" id="760c" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*nET639qEQVDGFtet1KBZVQ.jpeg" data-width="1024" data-height="1024" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*nET639qEQVDGFtet1KBZVQ.jpeg"></figure><p name="0084" id="0084" class="graf graf--p graf-after--figure">Are you ready to maximize your FastAPI application‚Äôs performance? In this article, we‚Äôll explore how FastAPI handles concurrent requests and how you can optimize your app by leveraging async functions over traditional blocking I/O. By the end, you‚Äôll have a deeper understanding of when to use <code class="markup--code markup--p-code">async def</code> versus <code class="markup--code markup--p-code">def</code> and how to make your FastAPI APIs run blazingly fast!</p><h4 name="8b6c" id="8b6c" class="graf graf--h4 graf-after--p">Why Does Concurrency Matter?</h4><p name="3ee8" id="3ee8" class="graf graf--p graf-after--h4">Handling multiple requests concurrently can dramatically improve the responsiveness of your web applications. A web server that can handle multiple requests at once is crucial in modern applications, especially when serving numerous users simultaneously.</p><p name="fb32" id="fb32" class="graf graf--p graf-after--p">FastAPI, powered by Python‚Äôs <code class="markup--code markup--p-code">asyncio</code> library, makes concurrent request handling a breeze with its support for asynchronous programming. The question is: how do we compare blocking and non-blocking I/O, and how does that impact our FastAPI applications?</p><h4 name="3536" id="3536" class="graf graf--h4 graf-after--p">Code Example</h4><p name="86c4" id="86c4" class="graf graf--p graf-after--h4">To demonstrate how FastAPI handles concurrent requests and to understand the performance differences between <code class="markup--code markup--p-code">async def</code> and <code class="markup--code markup--p-code">def</code>, we‚Äôll create a simple example where we compare blocking I/O with non-blocking I/O using <code class="markup--code markup--p-code">time.sleep</code> and <code class="markup--code markup--p-code">asyncio.sleep</code>. Visit the Code example <a href="https://gist.github.com/Kfir-G/c04659467de03dfe90b32356a4a11ea5" data-href="https://gist.github.com/Kfir-G/c04659467de03dfe90b32356a4a11ea5" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--p-strong">here</strong></a>.</p><h4 name="6eae" id="6eae" class="graf graf--h4 graf-after--p">Blocking I/O in¬†FastAPI</h4><p name="bcc8" id="bcc8" class="graf graf--p graf-after--h4">Let‚Äôs first take a look at how traditional blocking I/O works in FastAPI. For this, we‚Äôll use Python‚Äôs built-in <code class="markup--code markup--p-code">time.sleep()</code> to simulate an I/O-bound task that blocks the thread for 5 seconds:</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="python" name="3162" id="3162" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">&quot;/blocking&quot;</span></span>)</span><br /><span class="hljs-keyword">def</span> <span class="hljs-title function_">blocking_io</span>():<br /> time.sleep(<span class="hljs-number">5</span>)<br /> <span class="hljs-keyword">return</span> {<span class="hljs-string">&quot;message&quot;</span>: <span class="hljs-string">&quot;Blocking I/O completed&quot;</span>}</span></pre><p name="979b" id="979b" class="graf graf--p graf-after--pre">This blocks the entire application‚Äôs thread, meaning no other requests can be processed while this one is running. This is highly inefficient if your application needs to handle many simultaneous users.</p><h4 name="92a4" id="92a4" class="graf graf--h4 graf-after--p">Non-Blocking I/O: FastAPI‚Äôs Strength</h4><p name="1239" id="1239" class="graf graf--p graf-after--h4">With FastAPI, you can easily switch to non-blocking I/O using <code class="markup--code markup--p-code">async def</code> functions and <code class="markup--code markup--p-code">asyncio.sleep()</code>:</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="python" name="b205" id="b205" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">&quot;/non-blocking&quot;</span></span>)</span><br /><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">non_blocking_io</span>():<br /> <span class="hljs-keyword">await</span> asyncio.sleep(<span class="hljs-number">5</span>)<br /> <span class="hljs-keyword">return</span> {<span class="hljs-string">&quot;message&quot;</span>: <span class="hljs-string">&quot;Non-blocking I/O completed&quot;</span>}</span></pre><p name="7e67" id="7e67" class="graf graf--p graf-after--pre">In this case, while one request is waiting, other requests can be processed because <code class="markup--code markup--p-code">asyncio.sleep()</code> doesn‚Äôt block the server‚Äôs main thread. This improves performance and allows FastAPI to handle more requests concurrently.</p><h4 name="ebc7" id="ebc7" class="graf graf--h4 graf-after--p">When to Use <code class="markup--code markup--h4-code">def</code> vs async def in¬†FastAPI</h4><p name="ec5c" id="ec5c" class="graf graf--p graf-after--h4">- Use <code class="markup--code markup--p-code">def</code> for CPU-bound tasks where the operation can benefit from parallel execution using a thread pool.</p><p name="63ee" id="63ee" class="graf graf--p graf-after--p">- Use <code class="markup--code markup--p-code">async def</code> for I/O-bound tasks like waiting on a database, API calls, or file I/O, where non-blocking behavior is essential to maximize performance.</p><h4 name="c397" id="c397" class="graf graf--h4 graf-after--p">Concurrency in¬†Action</h4><p name="786c" id="786c" class="graf graf--p graf-after--h4">FastAPI excels in handling concurrent requests. You can simulate concurrent execution using <code class="markup--code markup--p-code">asyncio.gather()</code>:</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="python" name="7b34" id="7b34" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">&quot;/compare&quot;</span></span>)</span><br /><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">compare</span>():<br /> <span class="hljs-keyword">await</span> asyncio.gather(non_blocking_io(), non_blocking_io())<br /> <span class="hljs-keyword">return</span> {<span class="hljs-string">&quot;message&quot;</span>: <span class="hljs-string">&quot;Both async operations completed concurrently&quot;</span>}</span></pre><p name="2b51" id="2b51" class="graf graf--p graf-after--pre">Here, two asynchronous functions are executed concurrently, allowing your application to handle multiple tasks at the same time.</p><h4 name="40db" id="40db" class="graf graf--h4 graf-after--p">Handling Multiple Requests Concurrently</h4><p name="c1f2" id="c1f2" class="graf graf--p graf-after--h4">The real power of async becomes evident when you need to handle many requests concurrently. With FastAPI, it‚Äôs easy to spin up multiple non-blocking tasks:</p><pre data-code-block-mode="2" spellcheck="false" data-code-block-lang="python" name="39d9" id="39d9" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content"><span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">&quot;/benchmark&quot;</span></span>)</span><br /><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">benchmark</span>():<br /> tasks = [non_blocking_io() <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>)]<br /> <span class="hljs-keyword">await</span> asyncio.gather(*tasks)<br /> <span class="hljs-keyword">return</span> {<span class="hljs-string">&quot;message&quot;</span>: <span class="hljs-string">&quot;Handled 10 concurrent requests!&quot;</span>}</span></pre><p name="4fbb" id="4fbb" class="graf graf--p graf-after--pre">This approach scales well, enabling your application to serve more users without being held back by blocking I/O operations.</p><h3 name="e0a8" id="e0a8" class="graf graf--h3 graf-after--p">Final Thoughts</h3><p name="b949" id="b949" class="graf graf--p graf-after--h3">FastAPI, with its native support for asynchronous programming, empowers you to build high-performance applications. By understanding the differences between blocking and non-blocking I/O, and when to use <code class="markup--code markup--p-code">async def</code> vs <code class="markup--code markup--p-code">def</code>, you can optimize your API‚Äôs performance to handle concurrent requests efficiently.</p><p name="a176" id="a176" class="graf graf--p graf-after--p graf--trailing">Stay tuned for more FastAPI deep dives, and happy coding!</p></div></div></section><section name="13e7" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="4d76" id="4d76" class="graf graf--h3 graf--leading">References</h3><p name="7d39" id="7d39" class="graf graf--p graf-after--h3">1. <a href="https://fastapi.tiangolo.com/" data-href="https://fastapi.tiangolo.com/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">FastAPI Official Documentation</a></p><p name="e411" id="e411" class="graf graf--p graf-after--p">2. <a href="https://docs.python.org/3/library/asyncio.html" data-href="https://docs.python.org/3/library/asyncio.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Python‚Äôs asyncio Documentation</a></p><p name="6b51" id="6b51" class="graf graf--p graf-after--p">3. <a href="https://docs.python.org/3/library/threading.html" data-href="https://docs.python.org/3/library/threading.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Threading in Python</a></p><p name="6ec6" id="6ec6" class="graf graf--p graf-after--p">4. <a href="https://realpython.com/python-concurrency/" data-href="https://realpython.com/python-concurrency/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Concurrency in Python: Understanding Async and Threading</a></p><p name="600f" id="600f" class="graf graf--p graf-after--p">5. <a href="https://fastapi.tiangolo.com/async/" data-href="https://fastapi.tiangolo.com/async/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">FastAPI Performance Benchmark</a></p><h3 name="3999" id="3999" class="graf graf--h3 graf-after--p">In Plain English¬†üöÄ</h3><p name="3324" id="3324" class="graf graf--p graf-after--h3"><em class="markup--em markup--p-em">Thank you for being a part of the </em><a href="https://plainenglish.io" data-href="https://plainenglish.io" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">In Plain English</em></strong></a><em class="markup--em markup--p-em"> community! Before you go:</em></p><ul class="postList"><li name="71d0" id="71d0" class="graf graf--li graf-after--p">Be sure to <strong class="markup--strong markup--li-strong">clap</strong> and <strong class="markup--strong markup--li-strong">follow</strong> the writer Ô∏èüëè<strong class="markup--strong markup--li-strong">Ô∏èÔ∏è</strong></li><li name="12a1" id="12a1" class="graf graf--li graf-after--li">Follow us: <a href="https://twitter.com/inPlainEngHQ" data-href="https://twitter.com/inPlainEngHQ" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--li-strong">X</strong></a> | <a href="https://www.linkedin.com/company/inplainenglish/" data-href="https://www.linkedin.com/company/inplainenglish/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--li-strong">LinkedIn</strong></a> | <a href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" data-href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--li-strong">YouTube</strong></a> | <a href="https://discord.gg/in-plain-english-709094664682340443" data-href="https://discord.gg/in-plain-english-709094664682340443" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--li-strong">Discord</strong></a> | <a href="https://newsletter.plainenglish.io/" data-href="https://newsletter.plainenglish.io/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--li-strong">Newsletter</strong></a></li><li name="2f07" id="2f07" class="graf graf--li graf-after--li">Visit our other platforms: <a href="https://cofeed.app/" data-href="https://cofeed.app/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--li-strong">CoFeed</strong></a> | <a href="https://differ.blog/" data-href="https://differ.blog/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--li-strong">Differ</strong></a></li><li name="c8db" id="c8db" class="graf graf--li graf-after--li graf--trailing">More content at <a href="https://plainenglish.io" data-href="https://plainenglish.io" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--li-strong">PlainEnglish.io</strong></a></li></ul></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@Kfir-G" class="p-author h-card">Kfir Gisman</a> on <a href="https://medium.com/p/7ec80edb7320"><time class="dt-published" datetime="2024-09-23T05:17:28.841Z">September 23, 2024</time></a>.</p><p><a href="https://medium.com/@Kfir-G/unleash-the-power-of-fastapi-async-vs-blocking-i-o-7ec80edb7320" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on December 20, 2025.</p></footer></article></body></html>